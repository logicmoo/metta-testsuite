<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"
>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"
>
<title></title>
<style type="text/css"
>
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi1 { font-weight: bold; }
.ansi33 { color: #aa5500; }
.ansi36 { color: #00aaaa; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165009 { color: #FFA509; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
.ansi38-255165009 { color: #FFA509; }
.ansi38-255238088 { color: #FFEE58; }
.ansi38-013099040 { color: #0D6328; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content"
>
Script started on 2025-02-12 15:56:45+00:00 [COMMAND="timeout --preserve-status --foreground 40 swipl  /home/runner/work/metta-testsuite/metta-testsuite/prolog/metta_lang/metta_interp.pl -- --python=enable -- --timeout=40 --output=/home/runner/work/metta-testsuite/metta-testsuite/reports/tests_output/baseline-compat --html --test tests/baseline_compat/hyperon-mettalog_sanity/type_filtering_tests.metta --halt=true  --stdin=tty --stdout=tty --stderr=tty" TERM="xterm-256color" TTY="/dev/pts/0" COLUMNS="-1" LINES="-1"]
P;HTML|
;         [set_debug transpiler false]

P;HTML|
;          [set_debug overtime 4.0]

P;HTML|
;          [set_debug overflow 1000]

P;HTML|
;          [set_debug eval false]

P;HTML|
;          [set_debug load silent]

P;HTML|
;          [set_debug trace-on-load false]

P;HTML|
;          [set_debug exec false]

P;HTML|
;          [set_debug error non-type]

P;HTML|
;          [set_debug fail false]

P;HTML|
;          [set_debug test true]

P;HTML|
;         [set_debug test false]

P;HTML|
;         [set_debug fail false]

P;HTML|
;         [set_debug load false]

; [ : user [load_metta_file &self tests/baseline_compat/hyperon-mettalog_sanity/type_filtering_tests.metta] ]
;;;; Define Nat
<span class="ansi38-255165000"
> (: Nat Type)
</span><span class="ansi38-255165000"
> (: Z Nat)
</span><span class="ansi38-255165000"
> (: S (-> Nat Nat))
</span>;;;; Define List
<span class="ansi38-255165000"
> (: List (-> $a Type))
</span><span class="ansi38-255165000"
> (: Nil (List $a))
</span><span class="ansi38-255165000"
> (: Cons (-> $a (List $a) (List $a)))
</span>;;;; Define some-value returning various types
<span class="ansi38-255165000"
> (= (some-value)  1)
</span>;;; Number
<span class="ansi38-255165000"
> (= (some-value)  "a")
</span>;;; String
<span class="ansi38-255165000"
> (= (some-value)  'c')
</span>;;; Char
<span class="ansi38-255165000"
> (= (some-value)  $V)
</span>;;; Variable
<span class="ansi38-255165000"
> (= (some-value)  
  (Cons 1 
    (Cons 2 
      (Cons 3 Nil))))
</span>;;; Example List
<span class="ansi38-255165000"
> (= (some-value)  
  (+ 2 3))
</span>;;; Returns number  
<span class="ansi38-255165000"
> (= (some-value)  
  (println! ""))
</span>;;; Returns empty
<span class="ansi38-255165000"
> (= (some-value)  
  (empty))
</span>;;; Returns empty
<span class="ansi38-255165000"
> (= (some-value)  )
</span>;;; Empty Expression (not empty like teh tow above)
<span class="ansi38-255165000"
> (= (some-value)  
  (format-args "x: {} y: {}" 
    (1 2)))
</span>;;; Formatted string
<span class="ansi38-255165000"
> (= (some-value)  S)
</span>;;; Symbol (not a Nat)
<span class="ansi38-255165000"
> (= (some-value)  Z)
</span>;;; Nat
<span class="ansi38-255165000"
> (= (some-value)  
  (S Z))
</span>;;; Nat
<span class="ansi38-255165000"
> (= (some-value)  String)
</span>;;; Type
<span class="ansi38-255165000"
> (= (some-value)  
  (S (S Z)))
</span>;;; Nat
;;; (= (some-value) &self)                 ; Grounded Space
;;;; Filter definitions
<span class="ansi38-255165000"
> (: Filter-String (-> String $t))
</span><span class="ansi38-255165000"
> (: Filter-Number (-> Number $t))
</span><span class="ansi38-255165000"
> (: Filter-Nat (-> Nat $t))
</span><span class="ansi38-255165000"
> (: Filter-Symbol (-> Symbol $t))
</span><span class="ansi38-255165000"
> (: Filter-Variable (-> Variable $t))
</span><span class="ansi38-255165000"
> (: Filter-Grounded (-> Grounded $t))
</span><span class="ansi38-255165000"
> (: Filter-Type (-> Type $t))
</span><span class="ansi38-255165000"
> (: Filter-%Undefined% (-> %Undefined% $t))
</span><span class="ansi38-255165000"
> (: Filter-TVar (-> $t $t))
</span><span class="ansi38-255165000"
> (: Filter-Undeclared (-> Undeclared $t))
</span>;;; undeclared type
<span class="ansi38-255165000"
> (: Filter-Expression (-> Expression $t))
</span><span class="ansi38-255165000"
> (: Filter-Atom (-> Atom $t))
</span><span class="ansi38-255165000"
> (: Filter-ExpressionNumber (-> Expression Number))
</span><span class="ansi38-255165000"
> (: Filter-ExpressionUnit (-> Expression (->)))
</span><span class="ansi38-255165000"
> (: Filter-ExpressionAtom (-> Expression Atom))
</span><span class="ansi38-255165000"
> (: Filter-AtomAtom (-> Atom Atom))
</span><span class="ansi38-255165000"
> (: Filter-Char (-> Char $t))
</span><span class="ansi38-255165000"
> (: Filter-Empty (-> Empty $t))
</span><span class="ansi38-255165000"
> (: Filter-List (-> (List $a) $t))
</span><span class="ansi38-255165000"
> (= (Filter-String $a)  $a)
</span><span class="ansi38-255165000"
> (= (Filter-Number $a)  $a)
</span><span class="ansi38-255165000"
> (= (Filter-Nat $a)  $a)
</span><span class="ansi38-255165000"
> (= (Filter-Symbol $a)  $a)
</span><span class="ansi38-255165000"
> (= (Filter-Variable $a)  $a)
</span><span class="ansi38-255165000"
> (= (Filter-Grounded $a)  $a)
</span><span class="ansi38-255165000"
> (= (Filter-Type $a)  $a)
</span><span class="ansi38-255165000"
> (= (Filter-%Undefined% $a)  $a)
</span><span class="ansi38-255165000"
> (= (Filter-TVar $a)  $a)
</span><span class="ansi38-255165000"
> (= (Filter-Undeclared $a)  $a)
</span><span class="ansi38-255165000"
> (= (Filter-Expression $a)  $a)
</span><span class="ansi38-255165000"
> (= (Filter-Atom $a)  $a)
</span><span class="ansi38-255165000"
> (= (Filter-ExpressionNumber $a)  $a)
</span><span class="ansi38-255165000"
> (= (Filter-ExpressionUnit $a)  $a)
</span><span class="ansi38-255165000"
> (= (Filter-ExpressionAtom $a)  $a)
</span><span class="ansi38-255165000"
> (= (Filter-AtomAtom $a)  $a)
</span><span class="ansi38-255165000"
> (= (Filter-Char $a)  $a)
</span><span class="ansi38-255165000"
> (= (Filter-Empty $a)  $a)
</span><span class="ansi38-255165000"
> (= (Filter-List $a)  $a)
</span><span class="ansi38-255165000"
> (: MeTTa-Test (-> String Atom Atom Atom Atom))
</span><span class="ansi38-255165000"
> (= (MeTTa-Test $Name $Form $List $passes)  
  (let 
    ($n $res $qform) 
    ($Name 
      (collapse $Form) 
      (quote $Form)) 
    (case $res 
      ( ($List (println! (format-args "\n     (MeTTa-Test \"{}\" {} \n        {} \n        {})" ($Name $Form $List $passes)))) ($_318420 (println! (format-args "\n     (MeTTa-Test \"{}\" {} \n       {} \n       {})" ($Name $Form $List $res))))))))
</span><span class="ansi38-255165009"
>;; In file as:  
</span><span class="ansi1 ansi38-255238088"
>!(MeTTa-Test "Should be Passing" (+ 1 1) (2) $passes)
</span>;; To unit test case:
<span class="ansi38-013099040"
>!(assertEqualToResult (MeTTa-Test "Should be Passing" (+ 1 1) (2) $passes) (()))

</span>
;<h3 id="HYPERON-METTALOG-SANITY.TYPE-FILTERING-TESTS.01"
>;; HYPERON-METTALOG-SANITY.TYPE-FILTERING-TESTS.01</h3>

     (MeTTa-Test "Should be Passing" (+ 1 1) 
        (2) 
        $passes)
; 
; EVAL TEST
; took 0.005 secs. (5.38 milliseconds) 

!(assertEqualToResult (MeTTa-Test "Should be Passing" (+ 1 1) (2) $passes) (()))

<span class="ansi36"
>  [loonit_success 
    [equal_enough_for_test_renumbered_l strict_equals_allow_vn 
      (()) 
      (())]]
</span>
Deterministic: <span class="ansi33"
>()
</span>;;;; returns of appropriate type
<span class="ansi38-255165009"
>;; In file as:  
</span><span class="ansi1 ansi38-255238088"
>!(MeTTa-Test "Filter-Number" (Filter-Number (some-value)) (1 5) ($X 1 String () 5))
</span>;; To unit test case:
<span class="ansi38-013099040"
>!(assertEqualToResult (MeTTa-Test "Filter-Number" (Filter-Number (some-value)) (1 5) ($X 1 String () 5)) (()))

</span>
;<h3 id="HYPERON-METTALOG-SANITY.TYPE-FILTERING-TESTS.02"
>;; HYPERON-METTALOG-SANITY.TYPE-FILTERING-TESTS.02</h3>

Script done on 2025-02-12 15:57:25+00:00 [COMMAND_EXIT_CODE="143"]

</pre>
</body>

</html>
\033[1;33mCompleted (EXITCODE=143) Under 40 seconds: /home/runner/work/metta-testsuite/metta-testsuite/mettalog '--output=/home/runner/work/metta-testsuite/metta-testsuite/reports/tests_output/baseline-compat' --timeout=40 --html --repl=false  --test "tests/baseline_compat/hyperon-mettalog_sanity/type_filtering_tests.metta" --halt=true\033[0m
