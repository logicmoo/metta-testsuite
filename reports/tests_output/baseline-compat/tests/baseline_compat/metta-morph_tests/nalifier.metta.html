<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"
>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"
>
<title></title>
<style type="text/css"
>
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi33 { color: #aa5500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content"
>
Script started on 2025-02-15 18:51:15+00:00 [COMMAND="timeout --preserve-status --foreground 40 swipl -x /home/runner/work/metta-testsuite/metta-testsuite/prolog/metta_lang/Sav.fv-az1718-879.MeTTaLog   -- --python=enable -- --timeout=40 --output=/home/runner/work/metta-testsuite/metta-testsuite/reports/tests_output/baseline-compat --html --test tests/baseline_compat/metta-morph_tests/nalifier.metta --halt=true  --stdin=tty --stdout=tty --stderr=tty" TERM="xterm-256color" TTY="/dev/pts/0" COLUMNS="-1" LINES="-1"]

; [ : user [load_metta_file &self tests/baseline_compat/metta-morph_tests/nalifier.metta] ]
<span class="ansi38-255165000"
> (: If (-> Bool Atom Atom))
</span><span class="ansi38-255165000"
> (= (If True $_9762)  $_9762)
</span><span class="ansi38-255165000"
> (= (If False $_13140)  
  (let $_13158 0 
    (let $_13158 1 $_13158)))
</span><span class="ansi38-255165000"
> (: If (-> Bool Atom Atom Atom))
</span><span class="ansi38-255165000"
> (= (If $_19370 $_19376 $_19382)  
  (if $_19370 $_19376 $_19382))
</span><span class="ansi38-255165000"
> (: sequential (-> Expression %Undefined%))
</span><span class="ansi38-255165000"
> (= (sequential $_25094)  
  (superpose $_25094))
</span><span class="ansi38-255165000"
> (: do (-> Expression %Undefined%))
</span><span class="ansi38-255165000"
> (= (do $_30902)  
  (case $_2578 ()))
</span><span class="ansi38-255165000"
> (= (max $_6770 $_6776)  
  (if 
    (> $_6770 $_6776) $_6770 $_6776))
</span><span class="ansi38-255165000"
> (= (min $_10390 $_10396)  
  (if 
    (< $_10390 $_10396) $_10390 $_10396))
</span><span class="ansi38-255165000"
> (= (abs $_13670)  
  (If 
    (< $_13670 0) 
    (- 0 $_13670) $_13670))
</span><span class="ansi38-255165000"
> (= (TupleConcat $_17358 $_17364)  
  (collapse (superpose ((superpose $_17358) (superpose $_17364)))))
</span>;;;; Truth functions
<span class="ansi38-255165000"
> (= (Truth_c2w $_20580)  
  (/ $_20580 
    (- 1 $_20580)))
</span><span class="ansi38-255165000"
> (= (Truth_w2c $_23850)  
  (/ $_23850 
    (+ $_23850 1)))
</span><span class="ansi38-255165000"
> (= (Truth_Deduction ($_28404 $_28410) ($_28422 $_28428))  
    
  (* $_28404 $_28422)
    
  (* 
    (* $_28404 $_28422) 
    (* $_2932 $_2950)))
</span><span class="ansi38-255165000"
> (= (Truth_Abduction ($_7854 $_7860) ($_7872 $_7878))  
  ($_7872 (Truth_w2c (* (* $_7854 $_7860) $_7878))))
</span><span class="ansi38-255165000"
> (= (Truth_Induction $_11340 $_11346)  
  (Truth_Abduction $_11346 $_11340))
</span><span class="ansi38-255165000"
> (= (Truth_Revision ($_18154 $_18160) ($_18172 $_18178))  
  (let* 
    ( ($_18208 (Truth_c2w $_18160)) 
      ($_18238 (Truth_c2w $_18178)) 
      ($_18268 (+ $_18208 $_18238)) 
      ($_18304 (/ (+ (* $_18208 $_18154) (* $_18238 $_18172)) $_18268)) 
      ($_18394 (Truth_w2c $_18268))) 
    ( (min 1.0 $_18304) (min 0.99 (max (max $_18394 $_18160) $_18178)))))
</span><span class="ansi38-255165000"
> (= (Truth_Expectation ($_21434 $_21440))  
  (+ 
    (* $_21440 
      (- $_21434 0.5)) 0.5))
</span>;;;;NAL-1
;;;;!Syllogistic rules for Inheritance:
<span class="ansi38-255165000"
> (= (|- ($_25426 $_25432) ($_25426 $_25450))  
  ($_25426 (Truth_Revision $_25432 $_25450)))
</span><span class="ansi38-255165000"
> (= (|- ((= -->  $_29954) $_29960) ((= -->  $_3082) $_3088))  
    
  (= -->  $_3082)
    
  (Truth_Deduction $_3052 $_3088))
</span><span class="ansi38-255165000"
> (= (|- ((= -->  $_8036) $_8042) ((= -->  $_8072) $_8078))  
    
  (= -->  $_8036)
    
  (Truth_Induction $_8042 $_8078))
</span><span class="ansi38-255165000"
> (= (|- ((= -->  $_12452) $_12458) ((= -->  $_12452) $_12494))  
    
  (= -->  =)
    
  (Truth_Abduction $_12458 $_12494))
</span>;;;Whether evidence was just counted once
<span class="ansi38-255165000"
> (= (StampDisjoint $_16884 $_16890)  
  (== () 
    (collapse (let* (($_16950 (superpose $_16884)) ($_16980 (superpose $_16890))) (case (== $_16950 $_16980) ((True overlap)))))))
</span>;;;actually that is quite cool and 4x faster in MeTTa than below (yet still 130 times slower than metta-morph with below)
;;;but it depends on more advanced pattern matching features which are not yet in metta-morph
;;;(= (query $Term)
;;;   (match &self (, (= (|- ($A $T1) ($B $T2)) ($Term ($f $T1 $T2)))
;;;                   (($A $T1) $Ev1) (($B $T2) $Ev2))
;;;          (If (StampDisjoint $Ev1 $Ev2)
;;;              (($Term ($f $T1 $T2)) (TupleConcat $Ev1 $Ev2)))))
<span class="ansi38-255165000"
> (= (query $_23340)  
  (match &self 
    (, 
      ( ($_23388 $_23394) $_23400) 
      ( ($_23418 $_23424) $_23430)) 
    (let 
      ($_23454 $_23460) 
      (|- 
        ($_23388 $_23394) 
        ($_23418 $_23424)) 
      (If 
        (and 
          (== $_3548 $_3434) 
          (StampDisjoint $_3494 $_3524)) 
        ( ($_3434 $_3554) (TupleConcat $_3494 $_3524))))))
</span>;;;choice between two options of different term
<span class="ansi38-255165000"
> (= (Choice (($_9128 $_9134) $_9140) (($_9158 $_9164) $_9170))  
  (If 
    (> 
      (Truth_Expectation $_9134) 
      (Truth_Expectation $_9164)) 
    ( ($_9128 $_9134) $_9140) 
    ( ($_9158 $_9164) $_9170)))
</span>;;;revise if there is no evidential overlap, else use higher-confident candidate
<span class="ansi38-255165000"
> (= (RevisionAndChoice (($_15868 ($_15880 $_15886)) $_15892) (($_15910 ($_15922 $_15928)) $_15934))  
  (let $_15952 
    (TupleConcat $_15892 $_15934) 
    (If 
      (StampDisjoint $_15892 $_15934) 
      ( ($_15910 (Truth_Revision ($_15880 $_15886) ($_15922 $_15928))) $_15952) 
      (If 
        (> $_15886 $_15928) 
        ( ($_15868 ($_15880 $_15886)) $_15892) 
        ( ($_15910 ($_15922 $_15928)) $_15934)))))
</span>;;;reduce beliefs
<span class="ansi38-255165000"
> (= (reduceBeliefs $_21010 $_21016 $_21022)  
  (If 
    (== $_21022 ()) $_21016 
    (let* 
      ( ($_21088 (car-atom $_21022)) 
        ($_21118 (cdr-atom $_21022)) 
        ($_21148 (= $_21016  $_21088))) 
      (reduceBeliefs = $_21148 $_21118))))
</span>;;;an empty event for reduction purposes
<span class="ansi38-255165000"
> (= (EmptyEvent todo)  
    
  (x (1.0 0.0))
    ())
</span>;;;evidence query tries to maximize evidence for the passed statement term
<span class="ansi38-255165000"
> (= (evidenceQuery $_27056)  
  (reduceBeliefs RevisionAndChoice 
    (EmptyEvent todo) 
    (collapse (query $_27056))))
</span>;;;choice query picks the option of highest truth expectation among the options of different term
<span class="ansi38-255165000"
> (= (choiceQuery $_30852)  
  (let $_2838 
    (collapse (evidenceQuery (superpose $_2820))) 
    (reduceBeliefs Choice 
      (EmptyEvent todo) $_2838)))
</span><span class="ansi38-255165000"
> (((dog --> (IntSet brown)) (1.0 0.9)) (1))
</span><span class="ansi38-255165000"
> (((dog --> (IntSet small)) (1.0 0.9)) (2))
</span><span class="ansi38-255165000"
> (((dog --> (IntSet furry)) (1.0 0.9)) (3))
</span><span class="ansi38-255165000"
> (((dog --> (IntSet barks)) (1.0 0.9)) (4))
</span><span class="ansi38-255165000"
> (((duck --> (IntSet yellow)) (1.0 0.9)) (5))
</span><span class="ansi38-255165000"
> (((duck --> (IntSet small)) (1.0 0.9)) (6))
</span><span class="ansi38-255165000"
> (((duck --> (IntSet feathered)) (1.0 0.9)) (7))
</span><span class="ansi38-255165000"
> (((duck --> (IntSet quacks)) (1.0 0.9)) (8))
</span><span class="ansi38-255165000"
> (((swan --> (IntSet white)) (1.0 0.9)) (9))
</span><span class="ansi38-255165000"
> (((swan --> (IntSet big)) (1.0 0.9)) (10))
</span><span class="ansi38-255165000"
> (((swan --> (IntSet feathered)) (1.0 0.9)) (11))
</span><span class="ansi38-255165000"
> ((((ExtSet sam) --> (IntSet white)) (1.0 0.9)) (12))
</span><span class="ansi38-255165000"
> ((((ExtSet sam) --> (IntSet small)) (1.0 0.9)) (13))
</span><span class="ansi38-255165000"
> ((((ExtSet sam) --> (IntSet quacks)) (1.0 0.9)) (14))
</span><span class="ansi38-013099040"
>!(let ($_20512 $_20518) (choiceQuery (((ExtSet sam) --> duck) ((ExtSet sam) --> swan) ((ExtSet sam) --> dog))) $_20512)

</span>
N(1): <span class="ansi33"
>(((ExtSet sam) --> duck) (1.0 0.6183206106870229))
</span>;;;  !(repl!)
<br/> <a href="#" onclick="window.history.back(); return false;"
>Return to summaries</a><br/>
[(((ExtSet sam) --> duck) (1.0 0.6183206106870229))]

Script done on 2025-02-15 18:51:18+00:00 [COMMAND_EXIT_CODE="7"]

</pre>
</body>

</html>
\033[0;32mCompleted successfully (EXITCODE=7) Under 40 seconds: /home/runner/work/metta-testsuite/metta-testsuite/mettalog '--output=/home/runner/work/metta-testsuite/metta-testsuite/reports/tests_output/baseline-compat' --timeout=40 --html --repl=false  --test "tests/baseline_compat/metta-morph_tests/nalifier.metta" --halt=true\033[0m
