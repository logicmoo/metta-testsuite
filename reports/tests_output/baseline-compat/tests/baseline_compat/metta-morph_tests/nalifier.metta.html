<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"
>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"
>
<title></title>
<style type="text/css"
>
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi33 { color: #aa5500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-255165000 { color: #FFA500; }
.ansi38-013099040 { color: #0D6328; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content"
>
Script started on 2025-02-18 13:09:39+00:00 [COMMAND="timeout --preserve-status --foreground 40 swipl -x /home/runner/work/metta-testsuite/metta-testsuite/prolog/metta_lang/Sav.fv-az1278-967.MeTTaLog  -- --python=enable -- --timeout=40 --output=/home/runner/work/metta-testsuite/metta-testsuite/reports/tests_output/baseline-compat --html --test tests/baseline_compat/metta-morph_tests/nalifier.metta --halt=true  --stdin=tty --stdout=tty --stderr=tty" TERM="xterm-256color" TTY="/dev/pts/0" COLUMNS="-1" LINES="-1"]

; [ : user [load_metta_file &self tests/baseline_compat/metta-morph_tests/nalifier.metta] ]
P;HTML|
;               [track_load_into_file /home/runner/work/metta-testsuite/metta-testsuite/tests/baseline_compat/metta-morph_tests/nalifier.metta]
P;HTML|
;                      [load_answer_file /home/runner/work/metta-testsuite/metta-testsuite/tests/baseline_compat/metta-morph_tests/nalifier.metta.answers.to_keep /home/runner/work/metta-testsuite/metta-testsuite/tests/baseline_compat/metta-morph_tests/nalifier.metta.answers]
P;HTML|
;                       [ = 1 "[(((ExtSet sam) --> duck) (1.0 0.6183206106870229))]" ]
P;HTML|
;                       [ = 2 "20.02user 0.02system 0:20.05elapsed 99%CPU (0avgtext+0avgdata 41008maxresident)k" ]
P;HTML|
;                       [ = 2 "0inputs+0outputs (0major+5433minor)pagefaults 0swaps" ]
P;HTML|
;                      [load_answer_file /home/runner/work/metta-testsuite/metta-testsuite/tests/baseline_compat/metta-morph_tests/nalifier.metta.answers.to_keep /home/runner/work/metta-testsuite/metta-testsuite/tests/baseline_compat/metta-morph_tests/nalifier.metta.answers]

<span class="ansi38-255165000"
> (: If (-> Bool Atom Atom))
</span><span class="ansi38-255165000"
> (= (If True $_62144)  $_62144)
</span><span class="ansi38-255165000"
> (= (If False $_2474)  
  (let $_2492 0 
    (let $_2492 1 $_2492)))
</span><span class="ansi38-255165000"
> (: If (-> Bool Atom Atom Atom))
</span><span class="ansi38-255165000"
> (= (If $_9232 $_9238 $_9244)  
  (if $_9232 $_9238 $_9244))
</span><span class="ansi38-255165000"
> (: sequential (-> Expression %Undefined%))
</span><span class="ansi38-255165000"
> (= (sequential $_14954)  
  (superpose $_14954))
</span><span class="ansi38-255165000"
> (: do (-> Expression %Undefined%))
</span><span class="ansi38-255165000"
> (= (do $_20762)  
  (case $_20762 ()))
</span><span class="ansi38-255165000"
> (= (max $_24436 $_24442)  
  (if 
    (> $_24436 $_24442) $_24436 $_24442))
</span><span class="ansi38-255165000"
> (= (min $_28058 $_28064)  
  (if 
    (< $_28058 $_28064) $_28058 $_28064))
</span><span class="ansi38-255165000"
> (= (abs $_31338)  
  (If 
    (< $_31338 0) 
    (- 0 $_31338) $_31338))
</span><span class="ansi38-255165000"
> (= (TupleConcat $_35026 $_35032)  
  (collapse (superpose ((superpose $_35026) (superpose $_35032)))))
</span>;;;; Truth functions
<span class="ansi38-255165000"
> (= (Truth_c2w $_38248)  
  (/ $_38248 
    (- 1 $_38248)))
</span><span class="ansi38-255165000"
> (= (Truth_w2c $_41518)  
  (/ $_41518 
    (+ $_41518 1)))
</span><span class="ansi38-255165000"
> (= (Truth_Deduction ($_46072 $_46078) ($_46090 $_46096))  
    
  (* $_46072 $_46090)
    
  (* 
    (* $_46072 $_46090) 
    (* $_46078 $_46096)))
</span><span class="ansi38-255165000"
> (= (Truth_Abduction ($_50438 $_50444) ($_50456 $_50462))  
  ($_50456 (Truth_w2c (* (* $_50438 $_50444) $_50462))))
</span><span class="ansi38-255165000"
> (= (Truth_Induction $_53926 $_53932)  
  (Truth_Abduction $_53932 $_53926))
</span><span class="ansi38-255165000"
> (= (Truth_Revision ($_60740 $_60746) ($_60758 $_60764))  
  (let* 
    ( ($_60794 (Truth_c2w $_3646)) 
      ($_3724 (Truth_c2w $_3664)) 
      ($_3754 (+ $_3694 $_3724)) 
      ($_3790 (/ (+ (* $_3694 $_3640) (* $_3724 $_3658)) $_3754)) 
      ($_3880 (Truth_w2c $_3754))) 
    ( (min 1.0 $_3790) (min 0.99 (max (max $_3880 $_3646) $_3664)))))
</span><span class="ansi38-255165000"
> (= (Truth_Expectation ($_7538 $_7544))  
  (+ 
    (* $_7544 
      (- $_7538 0.5)) 0.5))
</span>;;;;NAL-1
;;;;!Syllogistic rules for Inheritance:
<span class="ansi38-255165000"
> (= (|- ($_11530 $_11536) ($_11530 $_11554))  
  ($_11530 (Truth_Revision $_11536 $_11554)))
</span><span class="ansi38-255165000"
> (= (|- ((= -->  $_16058) $_16064) ((= -->  $_16094) $_16100))  
    
  (= -->  $_16094)
    
  (Truth_Deduction $_16064 $_16100))
</span><span class="ansi38-255165000"
> (= (|- ((= -->  $_20476) $_20482) ((= -->  $_20512) $_20518))  
    
  (= -->  $_20476)
    
  (Truth_Induction $_20482 $_20518))
</span><span class="ansi38-255165000"
> (= (|- ((= -->  $_24894) $_24900) ((= -->  $_24894) $_24936))  
    
  (= -->  =)
    
  (Truth_Abduction $_24900 $_24936))
</span>;;;Whether evidence was just counted once
<span class="ansi38-255165000"
> (= (StampDisjoint $_29326 $_29332)  
  (== () 
    (collapse (let* (($_29392 (superpose $_29326)) ($_29422 (superpose $_29332))) (case (== $_29392 $_29422) ((True overlap)))))))
</span>;;;actually that is quite cool and 4x faster in MeTTa than below (yet still 130 times slower than metta-morph with below)
;;;but it depends on more advanced pattern matching features which are not yet in metta-morph
;;;(= (query $Term)
;;;   (match &self (, (= (|- ($A $T1) ($B $T2)) ($Term ($f $T1 $T2)))
;;;                   (($A $T1) $Ev1) (($B $T2) $Ev2))
;;;          (If (StampDisjoint $Ev1 $Ev2)
;;;              (($Term ($f $T1 $T2)) (TupleConcat $Ev1 $Ev2)))))
<span class="ansi38-255165000"
> (= (query $_35782)  
  (match &self 
    (, 
      ( ($_35830 $_35836) $_35842) 
      ( ($_35860 $_35866) $_35872)) 
    (let 
      ($_35896 $_35902) 
      (|- 
        ($_35830 $_35836) 
        ($_35860 $_35866)) 
      (If 
        (and 
          (== $_35896 $_35782) 
          (StampDisjoint $_35842 $_35872)) 
        ( ($_35782 $_35902) (TupleConcat $_35842 $_35872))))))
</span>;;;choice between two options of different term
<span class="ansi38-255165000"
> (= (Choice (($_40856 $_40862) $_40868) (($_40886 $_40892) $_40898))  
  (If 
    (> 
      (Truth_Expectation $_40862) 
      (Truth_Expectation $_40892)) 
    ( ($_40856 $_40862) $_40868) 
    ( ($_40886 $_40892) $_40898)))
</span>;;;revise if there is no evidential overlap, else use higher-confident candidate
<span class="ansi38-255165000"
> (= (RevisionAndChoice (($_47600 ($_47612 $_47618)) $_47624) (($_47642 ($_47654 $_47660)) $_47666))  
  (let $_47684 
    (TupleConcat $_47624 $_47666) 
    (If 
      (StampDisjoint $_47624 $_47666) 
      ( ($_47642 (Truth_Revision ($_47612 $_47618) ($_47654 $_47660))) $_47684) 
      (If 
        (> $_47618 $_47660) 
        ( ($_47600 ($_47612 $_47618)) $_47624) 
        ( ($_47642 ($_47654 $_47660)) $_47666)))))
</span>;;;reduce beliefs
<span class="ansi38-255165000"
> (= (reduceBeliefs $_52742 $_52748 $_52754)  
  (If 
    (== $_52754 ()) $_52748 
    (let* 
      ( ($_52820 (car-atom $_52754)) 
        ($_52850 (cdr-atom $_52754)) 
        ($_52880 (= $_52748  $_52820))) 
      (reduceBeliefs = $_52880 $_52850))))
</span>;;;an empty event for reduction purposes
<span class="ansi38-255165000"
> (= (EmptyEvent todo)  
    
  (x (1.0 0.0))
    ())
</span>;;;evidence query tries to maximize evidence for the passed statement term
<span class="ansi38-255165000"
> (= (evidenceQuery $_58788)  
  (reduceBeliefs RevisionAndChoice 
    (EmptyEvent todo) 
    (collapse (query $_58788))))
</span>;;;choice query picks the option of highest truth expectation among the options of different term
<span class="ansi38-255165000"
> (= (choiceQuery $_62584)  
  (let $_62602 
    (collapse (evidenceQuery (superpose $_2886))) 
    (reduceBeliefs Choice 
      (EmptyEvent todo) $_2904)))
</span><span class="ansi38-255165000"
> (((dog --> (IntSet brown)) (1.0 0.9)) (1))
</span><span class="ansi38-255165000"
> (((dog --> (IntSet small)) (1.0 0.9)) (2))
</span><span class="ansi38-255165000"
> (((dog --> (IntSet furry)) (1.0 0.9)) (3))
</span><span class="ansi38-255165000"
> (((dog --> (IntSet barks)) (1.0 0.9)) (4))
</span><span class="ansi38-255165000"
> (((duck --> (IntSet yellow)) (1.0 0.9)) (5))
</span><span class="ansi38-255165000"
> (((duck --> (IntSet small)) (1.0 0.9)) (6))
</span><span class="ansi38-255165000"
> (((duck --> (IntSet feathered)) (1.0 0.9)) (7))
</span><span class="ansi38-255165000"
> (((duck --> (IntSet quacks)) (1.0 0.9)) (8))
</span><span class="ansi38-255165000"
> (((swan --> (IntSet white)) (1.0 0.9)) (9))
</span><span class="ansi38-255165000"
> (((swan --> (IntSet big)) (1.0 0.9)) (10))
</span><span class="ansi38-255165000"
> (((swan --> (IntSet feathered)) (1.0 0.9)) (11))
</span><span class="ansi38-255165000"
> ((((ExtSet sam) --> (IntSet white)) (1.0 0.9)) (12))
</span><span class="ansi38-255165000"
> ((((ExtSet sam) --> (IntSet small)) (1.0 0.9)) (13))
</span><span class="ansi38-255165000"
> ((((ExtSet sam) --> (IntSet quacks)) (1.0 0.9)) (14))
</span><span class="ansi38-013099040"
>!(let ($_47424 $_47430) (choiceQuery (((ExtSet sam) --> duck) ((ExtSet sam) --> swan) ((ExtSet sam) --> dog))) $_47424)

</span>
N(1): <span class="ansi33"
>(((ExtSet sam) --> duck) (1.0 0.6183206106870229))
</span>;;;  !(repl!)
P;HTML|
;               [ = /home/runner/work/metta-testsuite/metta-testsuite/tests/baseline_compat/metta-morph_tests/nalifier.metta 0 ]
<br/> <a href="#" onclick="window.history.back(); return false;"
>Return to summaries</a><br/>
[(((ExtSet sam) --> duck) (1.0 0.6183206106870229))]

Script done on 2025-02-18 13:09:42+00:00 [COMMAND_EXIT_CODE="7"]

</pre>
</body>

</html>
\033[0;32mCompleted successfully (EXITCODE=7) Under 40 seconds: /home/runner/work/metta-testsuite/metta-testsuite/mettalog '--output=/home/runner/work/metta-testsuite/metta-testsuite/reports/tests_output/baseline-compat' --timeout=40 --html --repl=false  --test "tests/baseline_compat/metta-morph_tests/nalifier.metta" --halt=true\033[0m
