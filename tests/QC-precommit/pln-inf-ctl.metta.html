<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<style type="text/css">
.ansi2html-content { display: inline; white-space: pre-wrap; word-wrap: break-word; }
.body_foreground { color: #AAAAAA; }
.body_background { background-color: #000000; }
.inv_foreground { color: #000000; }
.inv_background { background-color: #AAAAAA; }
.ansi1 { font-weight: bold; }
.ansi2 { font-weight: lighter; }
.ansi5 { text-decoration: blink; }
.ansi31 { color: #aa0000; }
.ansi32 { color: #00aa00; }
.ansi33 { color: #aa5500; }
.ansi35 { color: #E850A8; }
.ansi36 { color: #00aaaa; }
.ansi37 { color: #F5F1DE; }
.ansi40 { background-color: #000316; }
.ansi91 { color: #ff0000; }
.ansi92 { color: #00ff00; }
.ansi93 { color: #ffff00; }
.ansi94 { color: #5c5cff; }
.ansi95 { color: #ff00ff; }
.ansi96 { color: #00ffff; }
.ansi97 { color: #ffffff; }
.ansi100 { background-color: #7f7f7f; }
</style>
</head>
<body class="body_foreground body_background" style="font-size: normal;" >
<pre class="ansi2html-content">
Script started on 2025-07-01 19:36:49-07:00 [COMMAND="swipl -x /home/deb12user/metta-wam/prolog/metta_lang/Sav.HOSTAGE.MeTTaLog  -- --python=enable -- --html --process=convert_to_pl tests/QC-precommit/pln-inf-ctl.metta --repl " TERM="xterm" TTY="/dev/pts/5" COLUMNS="193" LINES="49"]
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">main</span>: <span class="ansi2"></span><span class="ansi2 ansi92"></span><span class="ansi2 ansi92"></span><span class="ansi2 ansi92">do_metta_setup(setenv('RUST_BACKTRACE',full)).</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">main</span>: <span class="ansi2"></span><span class="ansi2 ansi92"></span><span class="ansi2 ansi92"></span><span class="ansi2 ansi92">do_metta_setup(nb_setval(cmt_override,lse('; ',' !(" ',' ") '))).</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">main</span>: <span class="ansi2"></span><span class="ansi2 ansi92"></span><span class="ansi2 ansi92"></span><span class="ansi2 ansi92">do_metta_setup(update_rng('&rng',P)).</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">main</span>: <span class="ansi2"></span><span class="ansi2 ansi92"></span><span class="ansi2 ansi92"></span><span class="ansi2 ansi92">do_metta_setup(user:import_module_predicates(quintus)).</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">main</span>: <span class="ansi2"></span><span class="ansi2 ansi92"></span><span class="ansi2 ansi92"></span><span class="ansi2 ansi92">do_metta_setup(set_default_flags).</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi94"></span><span class="ansi94"></span><span class="ansi94">initialize</span>: <span class="ansi2"></span><span class="ansi2"></span><span class="ansi2"></span><span class="ansi2">reset_cmdline_flags( [ '-l',  '/home/deb12user/metta-wam/prolog/metta_lang/metta_interp.pl', '-g', 'qcompile_mettalog.', --, '--exeout=/home/deb12user/metta-wam/prolog/metta_lang/Sav.HOSTAGE.MeTTaLog']).</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi2"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95">cmdargs</span>: <span class="ansi93"></span><span class="ansi93"></span><span class="ansi93">exeout=='/home/deb12user/metta-wam/prolog/metta_lang/Sav.HOSTAGE.MeTTaLog'.</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi94"></span><span class="ansi94"></span><span class="ansi94">initialize</span>: <span class="ansi95"></span><span class="ansi95"></span><span class="ansi95">os_argv( [ swipl, 
           '-x', 
           '/home/deb12user/metta-wam/prolog/metta_lang/Sav.HOSTAGE.MeTTaLog', --,'--python=enable',--,'--html', 
              '--process=convert_to_pl', 'tests/QC-precommit/pln-inf-ctl.metta', '--repl']).</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi2"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95">cmdargs</span>: <span class="ansi93"></span><span class="ansi93"></span><span class="ansi93">python==enable.</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi2"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95">cmdargs</span>: <span class="ansi93"></span><span class="ansi93"></span><span class="ansi93">html==true.</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi2"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95">cmdargs</span>: <span class="ansi93"></span><span class="ansi93"></span><span class="ansi93">process==convert_to_pl.</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi2"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95">cmdargs</span>: <span class="ansi93"></span><span class="ansi93"></span><span class="ansi93">'trace-on-test'==false.</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">main</span>: <span class="ansi2"></span><span class="ansi2 ansi97"></span><span class="ansi2 ansi97 ansi40"></span><span class="ansi2 ansi97 ansi40">not_compatio(fbugio(true,set_debug(test,false))).</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">main</span>: <span class="ansi2"></span><span class="ansi2 ansi97"></span><span class="ansi2 ansi97 ansi40"></span><span class="ansi2 ansi97 ansi40">not_compatio(fbugio(false,set_debug(fail,false))).</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi2"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95">cmdargs</span>: <span class="ansi93"></span><span class="ansi93"></span><span class="ansi93">load==show.</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi2"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95">cmdargs</span>: <span class="ansi93"></span><span class="ansi93"></span><span class="ansi93">test==true.</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">main</span>: <span class="ansi2"></span><span class="ansi2 ansi92"></span><span class="ansi2 ansi92"></span><span class="ansi2 ansi92">do_metta_setup(nb_setval(cmt_override,lse('; ',' !(" ',' ") '))).</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">main</span>: <span class="ansi2"></span><span class="ansi2 ansi92"></span><span class="ansi2 ansi92"></span><span class="ansi2 ansi92">do_metta_setup(show_os_argv).</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi2"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95">cmdargs</span>: <span class="ansi95"></span><span class="ansi95"></span><span class="ansi95">'; libswipl: '+os_argv =  
  [ swipl, 
    '-x', 
    '/home/deb12user/metta-wam/prolog/metta_lang/Sav.HOSTAGE.MeTTaLog', --,'--python=enable',--,'--html', 
       '--process=convert_to_pl', 'tests/QC-precommit/pln-inf-ctl.metta', '--repl'].</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">main</span>: <span class="ansi2"></span><span class="ansi2 ansi92"></span><span class="ansi2 ansi92"></span><span class="ansi2 ansi92">do_metta_setup(unnullify_output).</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">main</span>: <span class="ansi92"></span><span class="ansi92"></span><span class="ansi92">loon(compiled_loon(goal)).</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">main</span>: <span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">loon(compiled_loon(main)).</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">main</span>: <span class="ansi92"></span><span class="ansi92"></span><span class="ansi92">loon(began_loon(toplevel)).</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi2"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95">cmdargs</span>: <span class="ansi93"></span><span class="ansi93"></span><span class="ansi93">html==true.</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi2"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95">cmdargs</span>: <span class="ansi93"></span><span class="ansi93"></span><span class="ansi93">'trace-on-test'==false.</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">main</span>: <span class="ansi2"></span><span class="ansi2 ansi97"></span><span class="ansi2 ansi97 ansi40"></span><span class="ansi2 ansi97 ansi40">not_compatio(fbugio(true,set_debug(test,false))).</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">main</span>: <span class="ansi2"></span><span class="ansi2 ansi97"></span><span class="ansi2 ansi97 ansi40"></span><span class="ansi2 ansi97 ansi40">not_compatio(fbugio(false,set_debug(fail,false))).</span> */
/* <span class="ansi2"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93"></span><span class="ansi2 ansi93">not_yet(setup_show_hide_debug)</span> - <span class="ansi2"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95">cmdargs</span>: <span class="ansi93"></span><span class="ansi93"></span><span class="ansi93">test==true.</span> */
/*
;; Inference control experiment using PLN as inference controller,
;; alpha version.
;;
;; It is an evolutionary step over rnd-inf-ctl.metta in that
;;
;; 1. It takes an inferential context, corresponding to other premises
;;    surrounding a particular recursive backward chainer call.
;;
;; 2. Given the current query and its surrounding context, it
;;    formulates a PLN query expressing an estimate of how promising
;;    that query is.
;;
;; The corpus is based on the propositional calculus of
;;
;; https://us.metamath.org/mpeuni/mmtheorems1.html
*/
/*
;;;;;;;;;;;;;;;;;;;
;; ;;;;;;;;;;;;; ;;
;; ;; Imports ;; ;;
;; ;;;;;;;;;;;;; ;;
;;;;;;;;;;;;;;;;;;;
*/
/*
  ! (import! &self random)
*/


top_call_17:- do_metta_runtime( Random, 
                  ((
                   (get_value('&self',Value_Import_Self)),
                   (true,s('import!',Value_Import_Self,random,Random))  ))).


inform_send_one_file('/home/deb12user/metta-wam/tests/QC-precommit/pln-inf-ctl.metta.pl').
; 
<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_17:- do_metta_runtime( Random6, 
                     ((
                      (get_value('&self',Value_Import_Self4)),
                      (true,s('import!',Value_Import_Self4,random,Random6))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_17)).


</span>top_call :-
    time(top_call_17).


/*
;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; ;;;;;;;;;;;;;;;;;;;;;; ;;
;; ;; Hyper Parameters ;; ;;
;; ;;;;;;;;;;;;;;;;;;;;;; ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;
*/
/*
;; Boolean parameter to determine whether the search for random seeds
;; is enabled.  Warning: if is enabled, it may run for a long time.
*/
/*
  ! (bind! &seed-search True)
*/


top_call_18:- do_metta_runtime( True, 
                  ((
                   (get_value('&seed-search',Bind_Seed_search)),
                   (true,s('bind!',Bind_Seed_search,'True',True))  ))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_18:- do_metta_runtime( True5, 
                     ((
                      (get_value('&seed-search',Bind_Seed_search3)),
                      (true,s('bind!',Bind_Seed_search3,'True',True5))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_18)).


</span>top_call :-
    time(top_call_18).


/*
  ! (bind! &seed-search False)
*/


top_call_19:- do_metta_runtime( False, 
                  ((
                   (get_value('&seed-search',Bind_Seed_search)),
                   (true,s('bind!',Bind_Seed_search,'False',False))  ))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_19:- do_metta_runtime( False5, 
                     ((
                      (get_value('&seed-search',Bind_Seed_search3)),
                      (true,s('bind!',Bind_Seed_search3,'False',False5))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_19)).


</span>top_call :-
    time(top_call_19).


/*
;; Not supported yet
;; ;; Set this parameter to True if you want to print debug traces on
;; ;; stderr
;; !(bind! &debug-trace True)
*/
/*
;;;;;;;;;;;;;;;;;
;; ;;;;;;;;;;; ;;
;; ;; Utils ;; ;;
;; ;;;;;;;;;;; ;;
;;;;;;;;;;;;;;;;;
*/
/*
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Add Atom without Duplicate ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
*/
/*
;; Reduce and add an atom only if it is not already in the atomspace.
;; Warning: if the atom to be added is not in the space but matches
;; any atom in the space, it will not be added either.  Return the
;; added (or not added) atom.
*/
/*
  (: add-reduct-nodup 
    (-> $a $b 
      (->)))
*/


mc(iz,_add_xx_reduct_xx_nodup1,__xx__x62x___a__b___xx__x62x_1) :- 
  eval_and_unify(_add_xx_reduct_xx_nodup1,'add-reduct-nodup') , 
  eval_and_unify( __xx__x62x___a__b___xx__x62x_1, [
    ->, _,_, 
    [->]]).


/*
  (= (add-reduct-nodup $space $atom)  
    (case 
      (match $space $atom $atom) 
      ( ($atom ()) (Empty (add-reduct $space $atom)))))
*/


mc('add-reduct-nodup',_space17,_atom21,CASE_RESULT_RetVal6531) :- 
  ensure_evaled(_,_space17,_space) , 
  ensure_evaled(_,_atom21,_atom) , 
  metta_atom_iter(_space,_atom) , 
  CASE_SWITCH_13 =  
    [ caseOption( _atom, 
        For1, 
        [_space,_atom], 
        eval_for1('%Undefined%',[->],[],For1)), 
      caseOption( 'Empty', 
        Me, 
        [_space,_atom], 
        true,me('add-reduct',_space,_atom,Me))] , 
  select_case(CASE_SWITCH_13,_atom,CASE_RESULT_RetVal6531).


/*
;; Test add-atom-nodup
*/
/*
  ! (assertEqualToResult 
      (let* 
        ( ($space (new-space)) 
          (() (add-reduct-nodup $space A)) 
          (() (add-reduct-nodup $space A))) 
        (get-atoms $space)) 
      (A))
*/


top_call_20:- do_metta_runtime( Equal_enough_for_test, 
                loonit_assert_source_tf_empty( 
                   src( [ assertEqualToResult, 
                          [ 'let*', 
                            [ [ _space, 
                                ['new-space']], 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ [], 
                                ['add-reduct-nodup',_space,'A']], 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ [], 
                                ['add-reduct-nodup',_space,'A']]], 
                            ['get-atoms',_space]], 
                          ['A']]), 
                   Ne_Src, 
                   ['A'], 
                   findall_ne( S, 
                     ( s('new-space',_space)  ,
                       s('add-reduct-nodup',_space,'A',S_A) , 
                       unify_with_occurs_check(S_A,[]) , 
                       s('add-reduct-nodup',_space,'A',S_A1) , 
                       unify_with_occurs_check(S_A1,[]) , 
                       s('get-atoms',_space,S)), 
                     Ne_Src), 
                   equal_enough_for_test(Ne_Src,['A']), 
                   Equal_enough_for_test)).


<span class="ansi2"></span><span class="ansi2 ansi37"></span><span class="ansi2 ansi37 ansi40"></span><span class="ansi2 ansi37 ansi40">

( ==> ( 
   top_call_20:- do_metta_runtime( Equal_enough_for_test14, 
                   loonit_assert_source_tf_empty( 
                      src( [ assertEqualToResult, 
                             [ 'let*', 
                               [ [ Add_reduct_nodup_New_space, 
                                   ['new-space']], 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ [], 
                                   ['add-reduct-nodup',Add_reduct_nodup_New_space,'A']], 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ [], 
                                   ['add-reduct-nodup',Add_reduct_nodup_New_space,'A']]], 
                               ['get-atoms',Add_reduct_nodup_New_space]], 
                             ['A']]), 
                      Ne_Src13, 
                      ['A'], 
                      findall_ne( S17, 
                        ( s('new-space',Add_reduct_nodup_New_space)  ,
                          s('add-reduct-nodup',Add_reduct_nodup_New_space,'A',S_A11) , 
                          unify_with_occurs_check(S_A11,[]) , 
                          s('add-reduct-nodup',Add_reduct_nodup_New_space,'A',S_A12) , 
                          unify_with_occurs_check(S_A12,[]) , 
                          s('get-atoms',Add_reduct_nodup_New_space,S17)), 
                        Ne_Src13), 
                      equal_enough_for_test(Ne_Src13,['A']), 
                      Equal_enough_for_test14))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_20)).


</span>top_call :-
    time(top_call_20).


/*
  ! (assertEqualToResult 
      (let* 
        ( ($space (new-space)) 
          (() (add-reduct-nodup $space A)) 
          (() (add-reduct-nodup $space B))) 
        (get-atoms $space)) 
      (A B))
*/


top_call_21:- do_metta_runtime( Equal_enough_for_test, 
                loonit_assert_source_tf_empty( 
                   src( [ assertEqualToResult, 
                          [ 'let*', 
                            [ [ _space, 
                                ['new-space']], 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ [], 
                                ['add-reduct-nodup',_space,'A']], 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ 
                              [ [], 
                                ['add-reduct-nodup',_space,'B']]], 
                            ['get-atoms',_space]], 
                          ['A','B']]), 
                   Ne_Src, 
                   ['A','B'], 
                   findall_ne( S, 
                     ( s('new-space',_space)  ,
                       s('add-reduct-nodup',_space,'A',S_A) , 
                       unify_with_occurs_check(S_A,[]) , 
                       s('add-reduct-nodup',_space,'B',S_B) , 
                       unify_with_occurs_check(S_B,[]) , 
                       s('get-atoms',_space,S)), 
                     Ne_Src), 
                   equal_enough_for_test(Ne_Src,['A','B']), 
                   Equal_enough_for_test)).


<span class="ansi2"></span><span class="ansi2 ansi37"></span><span class="ansi2 ansi37 ansi40"></span><span class="ansi2 ansi37 ansi40">

( ==> ( 
   top_call_21:- do_metta_runtime( Equal_enough_for_test14, 
                   loonit_assert_source_tf_empty( 
                      src( [ assertEqualToResult, 
                             [ 'let*', 
                               [ [ Add_reduct_nodup_New_space, 
                                   ['new-space']], 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ [], 
                                   ['add-reduct-nodup',Add_reduct_nodup_New_space,'A']], 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ 
                                 [ [], 
                                   ['add-reduct-nodup',Add_reduct_nodup_New_space,'B']]], 
                               ['get-atoms',Add_reduct_nodup_New_space]], 
                             ['A','B']]), 
                      Ne_Src13, 
                      ['A','B'], 
                      findall_ne( S17, 
                        ( s('new-space',Add_reduct_nodup_New_space)  ,
                          s('add-reduct-nodup',Add_reduct_nodup_New_space,'A',S_A11) , 
                          unify_with_occurs_check(S_A11,[]) , 
                          s('add-reduct-nodup',Add_reduct_nodup_New_space,'B',S_B12) , 
                          unify_with_occurs_check(S_B12,[]) , 
                          s('get-atoms',Add_reduct_nodup_New_space,S17)), 
                        Ne_Src13), 
                      equal_enough_for_test(Ne_Src13,['A','B']), 
                      Equal_enough_for_test14))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_21)).


</span>top_call :-
    time(top_call_21).


/*
;;;;;;;;;
;; Nat ;;
;;;;;;;;;
*/
/*
;; Define Nat
*/
/*
  (: Nat Type)
*/


mc(iz,Nat1,Type1) :- 
  eval_and_unify(Nat1,'Nat') , 
  eval_and_unify(Type1,'Type').


/*
  (: Z Nat)
*/


mc(iz,Z1,Nat2) :- 
  eval_and_unify(Z1,'Z') , 
  eval_and_unify(Nat2,'Nat').


/*
  (: S 
    (-> Nat Nat))
*/


mc(iz,S1,__xx__x62x__Nat_Nat1) :- 
  eval_and_unify(S1,'S') , 
  eval_and_unify(__xx__x62x__Nat_Nat1,[->,'Nat','Nat']).


/*
;; Define cast functions between Nat and Number
*/
/*
  (: fromNumber 
    (-> Number Nat))
*/


mc(iz,FromNumber1,__xx__x62x__Number_Nat1) :- 
  eval_and_unify(FromNumber1,fromNumber) , 
  eval_and_unify(__xx__x62x__Number_Nat1,[->,'Number','Nat']).


/*
  (= (fromNumber $n)  
    (if 
      (<= $n 0) Z 
      (S (fromNumber (- $n 1)))))
*/


mc(fromNumber,_n1,RetVal654) :- 
  ensure_evaled('Number',_n1,_n) , 
  s(<=,_n,0,If) , 
  as_p1( '%Undefined%', 
    'CodeAtom', 'Nat',P1_CODE_221,Z, 
    [ 'S', 
      [ fromNumber, 
        [-,_n,1]]], 
    ( s(-,_n,1,FromNumber)  ,
      s(fromNumber,FromNumber,S) , 
      s('S',S,P1_CODE_221))) , 
  s(if,If,'Z',Z,RetVal654).


/*
  (: fromNat 
    (-> Nat Number))
*/


mc(iz,FromNat1,__xx__x62x__Nat_Number1) :- 
  eval_and_unify(FromNat1,fromNat) , 
  eval_and_unify(__xx__x62x__Nat_Number1,[->,'Nat','Number']).


/*
  (= (fromNat Z)  0)
*/


mc(fromNat,Z2,0):-true,eval_and_unify(Z2,'Z'),true.


/*
  (= (fromNat (S $k))  
    (+ 1 
      (fromNat $k)))
*/


mc(fromNat,S__k1,RetVal656) :- 
  eval_and_unify(S__k1,['S',_k]) , 
  s(fromNat,_k,S) , 
  s(+,1,S,RetVal656).


/*
;;;;;;;;;;;;
;; Number ;;
;;;;;;;;;;;;
*/
/*
;; Return the minimum between two values
*/
/*
  (: min 
    (-> Number Number Number))
*/


mc(iz,_min1,__xx__x62x__Number_Number_Number1) :- 
  eval_and_unify(_min1,min) , 
  eval_and_unify( __xx__x62x__Number_Number_Number1, [
    ->, 'Number','Number','Number']).


/*
  (= (min $x $y)  
    (if 
      (< $x $y) $x $y))
*/


mc(min,_x5,_y1,RetVal657) :- 
  ensure_evaled('Number',_x5,_x) , 
  ensure_evaled('Number',_y1,_y) , 
  s(<,_x,_y,If) , 
  pass_code('CodeAtom',_x,Code_S8) , 
  pass_code('CodeAtom',_y,Code_S) , 
  s(if,If,Code_S8,Code_S,RetVal657).


/*
;; Return the minimum between two values
*/
/*
  (: max 
    (-> Number Number Number))
*/


mc(iz,_max1,__xx__x62x__Number_Number_Number2) :- 
  eval_and_unify(_max1,max) , 
  eval_and_unify( __xx__x62x__Number_Number_Number2, [
    ->, 'Number','Number','Number']).


/*
  (= (max $x $y)  
    (if 
      (< $x $y) $y $x))
*/


mc(max,_x6,_y2,RetVal658) :- 
  ensure_evaled('Number',_x6,_x) , 
  ensure_evaled('Number',_y2,_y) , 
  s(<,_x,_y,If) , 
  pass_code('CodeAtom',_y,Code_S8) , 
  pass_code('CodeAtom',_x,Code_S) , 
  s(if,If,Code_S8,Code_S,RetVal658).


/*
;;;;;;;;;;;;;;;;;;;;;
;; De Bruijn Index ;;
;;;;;;;;;;;;;;;;;;;;;
*/
/*
;; Define DeBruijn type and constructors.
*/
/*
  (: DeBruijn Type)
*/


mc(iz,DeBruijn1,Type2) :- 
  eval_and_unify(DeBruijn1,'DeBruijn') , 
  eval_and_unify(Type2,'Type').


/*
  (: z DeBruijn)
*/


mc(iz,_z1,DeBruijn2) :- 
  eval_and_unify(_z1,z) , 
  eval_and_unify(DeBruijn2,'DeBruijn').


/*
  (: s 
    (-> DeBruijn DeBruijn))
*/


mc(iz,_s1,__xx__x62x__DeBruijn_DeBruijn1) :- 
  eval_and_unify(_s1,s) , 
  eval_and_unify(__xx__x62x__DeBruijn_DeBruijn1,[->,'DeBruijn','DeBruijn']).


/*
;; Convert Nat to DeBruijn
*/
/*
  (: toDeBruijn 
    (-> Nat DeBruijn))
*/


mc(iz,ToDeBruijn1,__xx__x62x__Nat_DeBruijn1) :- 
  eval_and_unify(ToDeBruijn1,toDeBruijn) , 
  eval_and_unify(__xx__x62x__Nat_DeBruijn1,[->,'Nat','DeBruijn']).


/*
  (= (toDeBruijn Z)  z)
*/


mc(toDeBruijn,Z3,z):-true,eval_and_unify(Z3,'Z'),true.


/*
  (= (toDeBruijn (S $k))  
    (s (toDeBruijn $k)))
*/


mc(toDeBruijn,S__k2,RetVal660) :- 
  eval_and_unify(S__k2,['S',_k]) , 
  s(toDeBruijn,_k,S) , 
  s(s,S,RetVal660).


/*
;;;;;;;;;;;
;; Maybe ;;
;;;;;;;;;;;
*/
/*
;; Define Maybe type
*/
/*
  (: Maybe 
    (-> $a Type))
*/


mc(iz,Maybe1,__xx__x62x___a_Type1) :- 
  eval_and_unify(Maybe1,'Maybe') , 
  eval_and_unify(__xx__x62x___a_Type1,[->,_,'Type']).


/*
  (: Nothing 
    (Maybe $a))
*/


mc(iz,Nothing1,Maybe__a1) :- 
  eval_and_unify(Nothing1,'Nothing') , 
  eval_and_unify(Maybe__a1,['Maybe',_]).


/*
  (: Just 
    (-> $a 
      (Maybe $a)))
*/


mc(iz,Just1,__xx__x62x___a_Maybe__a1) :- 
  eval_and_unify(Just1,'Just') , 
  eval_and_unify( __xx__x62x___a_Maybe__a1, [
    ->, 
    _a, 
    ['Maybe',_a]]).


/*
;;;;;;;;;;
;; Pair ;;
;;;;;;;;;;
*/
/*
;; Pair type and constructor
*/
/*
  (: Pair 
    (-> $a $b Type))
*/


mc(iz,Pair1,__xx__x62x___a__b_Type1) :- 
  eval_and_unify(Pair1,'Pair') , 
  eval_and_unify(__xx__x62x___a__b_Type1,[->,_,_,'Type']).


/*
  (: MkPair 
    (-> $a $b 
      (Pair $a $b)))
*/


mc(iz,MkPair1,__xx__x62x___a__b_Pair__a__b1) :- 
  eval_and_unify(MkPair1,'MkPair') , 
  eval_and_unify( __xx__x62x___a__b_Pair__a__b1, [
    ->, _a,_b, 
    ['Pair',_a,_b]]).


/*
;; Pair access functions
*/
/*
  (: fst 
    (-> 
      (Pair $a $b) $a))
*/


mc(iz,_fst1,__xx__x62x__Pair__a__b__a1) :- 
  eval_and_unify(_fst1,fst) , 
  eval_and_unify( __xx__x62x__Pair__a__b__a1, [
    ->, 
    ['Pair',_a,_], 
    _a]).


/*
  (: snd 
    (-> 
      (Pair $a $b) $b))
*/


mc(iz,_snd1,__xx__x62x__Pair__a__b__b1) :- 
  eval_and_unify(_snd1,snd) , 
  eval_and_unify( __xx__x62x__Pair__a__b__b1, [
    ->, 
    ['Pair',_,_b], 
    _b]).


/*
;;;;;;;;;;;
;; Until ;;
;;;;;;;;;;;
*/
/*
;; Add 1
*/
/*
  (: succ 
    (-> Number Number))
*/


mc(iz,_succ1,__xx__x62x__Number_Number1) :- 
  eval_and_unify(_succ1,succ) , 
  eval_and_unify(__xx__x62x__Number_Number1,[->,'Number','Number']).


/*
  (= (succ $n)  
    (+ 1 $n))
*/


mc(succ,_n2,RetVal661) :- 
  ensure_evaled('Number',_n2,_n) , 
  s(+,1,_n,RetVal661).


/*
;; Test if the input is equal to a given value
*/
/*
  (: curried-equal-to 
    (-> $a 
      (-> $a Bool)))
*/


mc(iz,_curried_xx_equal_xx_to1,__xx__x62x___a___xx__x62x___a_Bool1) :- 
  eval_and_unify(_curried_xx_equal_xx_to1,'curried-equal-to') , 
  eval_and_unify( __xx__x62x___a___xx__x62x___a_Bool1, [
    ->, 
    _a, 
    [->,_a,'Bool']]).


/*
  (= ((curried-equal-to $n) $x)  
    (== $n $x))
*/


mc(['curried-equal-to',_n],_x7,RetVal662) :- 
  ensure_evaled('%Undefined%',_x7,_x) , 
  s(==,_n,_x,RetVal662).


/*
;; Loop-like function ported from Haskell.  Iterate applying a given
;; function till some condition is reached.
*/
/*
  (: until 
    (-> 
      (-> $a Bool) 
      (-> $a $a) $a $a))
*/


mc(iz,_until1,__xx__x62x____xx__x62x___a_Bool___xx__x62x___a__a__a__a1) :- 
  eval_and_unify(_until1,until) , 
  eval_and_unify( __xx__x62x____xx__x62x___a_Bool___xx__x62x___a__a__a__a1, [
    ->, 
    [->,_a,'Bool'], 
    [->,_a,_a], _a,_a]).


/*
; Final value
*/
/*
  (= (until $p $f $x)  
    (trace! 
      (👁 until $p $f $x) 
      (if 
        ($p $x) $x 
        (until $p $f 
          ($f $x)))))
*/


mc(until,_p1,_f1,_x8,RetVal663) :- 
  ensure_evaled([->,Type__until__0___1,'Bool'],_p1,_p) , 
  ensure_evaled( [->,Type__until__0___1,Type__until__0___1], 
    _f1, 
    _f) , 
  ensure_evaled(Type__until__0___1,_x8,_x) , 
  s(👁,until,_p,_f,_x,Trace) , 
  eval_for1('%Undefined%','Bool',[_p,_x],For1_If) , 
  pass_code('CodeAtom',_x,Code_S8) , 
  as_p1( '%Undefined%', 
    'CodeAtom', 
    RetTypeNotCd222, P1_CODE_222,S, 
    [ until, _p,_f, 
      [_f,_x]], 
      ((
       (eval_for1( cr('CodeAtom','%Undefined%'), 
          RetTypeNotCd222, 
          [_f,_x], 
          For1_SF)),
       (s(until,_p,_f,For1_SF,P1_CODE_222))  ))) , 
  s(if,For1_If,Code_S8,S,S10) , 
  s('trace!',Trace,S10,RetVal663).


/*
;; Test until
*/
/*
  ! (assertEqual 
      (until 
        (curried-equal-to 10) succ 0) 10)
*/


top_call_22:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_5 =  
                      [ assertEqual, 
                        [ until, 
                          ['curried-equal-to',10], succ,0], 
                        10]),
                   (loonit_assert_source_tf_empty( src(Src_5), 
                      FARL_9, 
                      FARL_10, 
                        ((
                         (findall_ne( FA_9, 
                            true,s('curried-equal-to',10,Until),true,s(until,Until,succ,0,FA_9), 
                            FARL_9)),
                         (findall_ne(10,true,FARL_10))  )), 
                      equal_enough_for_test(FARL_9,FARL_10), 
                      Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2 ansi91"></span><span class="ansi2 ansi91"></span><span class="ansi2 ansi91">

( ==> ( 
   top_call_22:- do_metta_runtime( Equal_enough_for_test11, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ until, 
                             ['curried-equal-to',10], succ,0], 
                           10]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test10, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S, 
                                 ((
                                  (true),
                                  (  ((
                                      (s('curried-equal-to',10,Until8)),
                                      (true,s(until,Until8,succ,0,S))  )))  )), 
                               Equal_enough_for_test10)),
                            (findall_ne(10,true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test10,Test_Ne_True), 
                         Equal_enough_for_test11))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_22)).


</span>top_call :-
    time(top_call_22).


/*
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Set random seed and run ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
*/
/*
;; Set random seed and run nullary function
*/
/*
  (: set-rnd-seed-run0 
    (-> Number 
      (-> $a) $a))
*/


mc(iz,_set_xx_rnd_xx_seed_xx_run01,__xx__x62x__Number___xx__x62x___a__a1) :- 
  eval_and_unify(_set_xx_rnd_xx_seed_xx_run01,'set-rnd-seed-run0') , 
  eval_and_unify( __xx__x62x__Number___xx__x62x___a__a1, [
    ->, 
    'Number', 
    [->,_a], 
    _a]).


/*
  (= (set-rnd-seed-run0 $n $f)  
    (let () 
      (set-random-seed &rng $n) 
      ($f)))
*/


mc('set-rnd-seed-run0',_n3,_f2,RetVal664) :- 
  ensure_evaled('Number',_n3,_n) , 
  ensure_evaled([->,_],_f2,_f) , 
  get_value('&rng',Set_random_seed_Rng) , 
  s('set-random-seed',Set_random_seed_Rng,_n,Unify_with_occurs_check) , 
  unify_with_occurs_check(Unify_with_occurs_check,[]) , 
  eval_for1('%Undefined%',_,[_f],RetVal664).


/*
;; Set random seed and run nullary function.  Outputs True iff it
;; succeeds, that is it is not empty.
*/
/*
  (: (set-rnd-seed-run0-not-empty (-> Number (-> $a) Bool)))
*/


mc(:,_set_xx_rnd_xx_seed_xx_run0_xx_not_xx_empty___xx__x62x__Number___xx__x62x___a_Bool1) :- 
  eval_and_unify( _set_xx_rnd_xx_seed_xx_run0_xx_not_xx_empty___xx__x62x__Number___xx__x62x___a_Bool1, [
    'set-rnd-seed-run0-not-empty', 
    [ ->, 
      'Number', 
      [->,_], 
      'Bool']]).


/*
  (= (set-rnd-seed-run0-not-empty $n $f)  
    (case 
      (set-rnd-seed-run0 $n $f) 
      ( (Empty False) ($else True))))
*/


mc('set-rnd-seed-run0-not-empty',_n4,_f3,CASE_RESULT_RetVal6651) :- 
  ensure_evaled('%Undefined%',_n4,_n) , 
  ensure_evaled('%Undefined%',_f3,_f) , 
  s('set-rnd-seed-run0',_n,_f,Select_caseCASE_SWITCH_14) , 
  CASE_SWITCH_14 =  
    [ caseOption('Empty','False',[_n,_f],true), 
      caseOption(_,'True',[_n,_f],true)] , 
  select_case(CASE_SWITCH_14,Select_caseCASE_SWITCH_14,CASE_RESULT_RetVal6651).


/*
;;;;;;;;;;
;; List ;;
;;;;;;;;;;
*/
/*
;; Declaration of List data type and constructors
*/
/*
  (: List 
    (-> $a Type))
*/


mc(iz,List1,__xx__x62x___a_Type2) :- 
  eval_and_unify(List1,'List') , 
  eval_and_unify(__xx__x62x___a_Type2,[->,_,'Type']).


/*
  (: Nil 
    (List $a))
*/


mc(iz,Nil1,List__a1) :- 
  eval_and_unify(Nil1,'Nil') , 
  eval_and_unify(List__a1,['List',_]).


/*
  (: Cons 
    (-> $a 
      (List $a) 
      (List $a)))
*/


mc(iz,Cons1,__xx__x62x___a_List__a_List__a1) :- 
  eval_and_unify(Cons1,'Cons') , 
  eval_and_unify( __xx__x62x___a_List__a_List__a1, [
    ->, 
    _a, 
    ['List',_a], 
    ['List',_a]]).


/*
;; Build a list from an expression, containing all the sub-expressions
;; as elements of the list.
*/
/*
  (: List.fromExpression 
    (-> Expression 
      (List $a)))
*/


mc(iz,List_x46x_fromExpression1,__xx__x62x__Expression_List__a1) :- 
  eval_and_unify(List_x46x_fromExpression1,'List.fromExpression') , 
  eval_and_unify( __xx__x62x__Expression_List__a1, [
    ->, 
    'Expression', 
    ['List',_]]).


/*
  (= (List.fromExpression $expr)  
    (if 
      (== $expr ()) Nil 
      (let* 
        ( ($head (car-atom $expr)) ($tail (cdr-atom $expr))) 
        (Cons $head 
          (List.fromExpression $tail)))))
*/


mc('List.fromExpression',_expr,RetVal666) :- 
  eval_for1('%Undefined%',_,[],For1_S) , 
  s(==,_expr,For1_S,If) , 
  as_p1( '%Undefined%', 
    'CodeAtom', 
    ['List',_], P1_CODE_223,Nil, 
    [ 'let*', 
      [ [ _head, 
          ['car-atom',_expr]], 
        [ _tail, 
          ['cdr-atom',_expr]]], 
      [ 'Cons', 
        _head, 
        ['List.fromExpression',_tail]]], 
    ( s('car-atom',_expr,_head)  ,
      me('cdr-atom',_expr,_tail) , 
      s('List.fromExpression',_tail,S3) , 
      s('Cons',_head,S3,P1_CODE_223))) , 
  s(if,If,'Nil',Nil,RetVal666).


/*
;; Return the maximum between two value given a certain less than
;; predicate.
*/
/*
  (: maxWith 
    (-> 
      (-> $a $a Bool) $a $a Bool))
*/


mc(iz,MaxWith1,__xx__x62x____xx__x62x___a__a_Bool__a__a_Bool1) :- 
  eval_and_unify(MaxWith1,maxWith) , 
  eval_and_unify( __xx__x62x____xx__x62x___a__a_Bool__a__a_Bool1, [
    ->, 
    [->,_a,_a,'Bool'], _a,_a,'Bool']).


/*
  (= (maxWith $lt $x $y)  
    (if 
      ($lt $x $y) $y $x))
*/


mc(maxWith,_lt1,_x9,_y3,RetVal667) :- 
  ensure_evaled( [->,Type_MaxWith__2___1,Type_MaxWith__2___1,'Bool'], 
    _lt1, 
    _lt) , 
  ensure_evaled(Type_MaxWith__2___1,_x9,_x) , 
  ensure_evaled(Type_MaxWith__2___1,_y3,_y) , 
  eval_for1('%Undefined%','Bool',[_lt,_x,_y],For1_If) , 
  pass_code('CodeAtom',_y,Code_S5) , 
  pass_code('CodeAtom',_x,Code_S) , 
  s(if,For1_If,Code_S5,Code_S,RetVal667).


/*
;; Return a maximum element of a non empty list, given a less than
;; predicate.
*/
/*
  (: List.maxElementWith 
    (-> 
      (-> $a $a Bool) 
      (List $a) $a))
*/


mc(iz,List_x46x_maxElementWith1,__xx__x62x____xx__x62x___a__a_Bool_List__a__a1) :- 
  eval_and_unify(List_x46x_maxElementWith1,'List.maxElementWith') , 
  eval_and_unify( __xx__x62x____xx__x62x___a__a_Bool_List__a__a1, [
    ->, 
    [->,_a,_a,'Bool'], 
    ['List',_a], 
    _a]).


/*
  (= (List.maxElementWith $lt (Cons $head $tail))  
    (case $tail 
      ( (Nil $head) ($else (let $met (List.maxElementWith $lt $tail) (maxWith $lt $head $met))))))
*/


mc('List.maxElementWith',_lt2,Cons__head__tail1,CASE_RESULT_RetVal6681) :- 
  ensure_evaled( [ ->,  Type_List_x46x_maxElementWith__0___1, Type_List_x46x_maxElementWith__0___1, 'Bool'], 
    _lt2, 
    _lt) , 
  eval_and_unify(Cons__head__tail1,['Cons',_head,_tail]) , 
  CASE_SWITCH_15 =  
    [ caseOption('Nil',_head,[_tail],true), 
      caseOption( _, 
        S, 
        [_tail], 
          ((
           (true),
           (  ((
               (s('List.maxElementWith',_lt,_tail,_met)),
               (true,s(maxWith,_lt,_head,_met,S))  )))  )))] , 
  select_case(CASE_SWITCH_15,_tail,CASE_RESULT_RetVal6681).


/*
;; Fold a List from right to left
*/
/*
  (: List.foldr 
    (-> 
      (-> $a $b $b) $b 
      (List $a) $b))
*/


mc(iz,List_x46x_foldr1,__xx__x62x____xx__x62x___a__b__b__b_List__a__b1) :- 
  eval_and_unify(List_x46x_foldr1,'List.foldr') , 
  eval_and_unify( __xx__x62x____xx__x62x___a__b__b__b_List__a__b1, [
    ->, 
    [->,_a,_b,_b], 
    _b, 
    ['List',_a], 
    _b]).


/*
  (= (List.foldr $f $i Nil)  $i)
*/


mc('List.foldr',_f4,_i1,Nil2,_i) :- 
  ensure_evaled( [ ->, _,Type_List_x46x_foldr__0___1, 
                   Type_List_x46x_foldr__0___1], 
    _f4, 
    _) , 
  ensure_evaled(Type_List_x46x_foldr__0___1,_i1,_i) , 
  eval_and_unify(Nil2,'Nil').


/*
  (= (List.foldr $f $i (Cons $h $t))  
    ($f $h 
      (List.foldr $f $i $t)))
*/


mc('List.foldr',_f5,_i2,Cons__h__t1,RetVal670) :- 
  ensure_evaled( [ ->, _,Type_List_x46x_foldr__0___3, 
                   Type_List_x46x_foldr__0___3], 
    _f5, 
    _f) , 
  ensure_evaled(Type_List_x46x_foldr__0___3,_i2,_i) , 
  eval_and_unify(Cons__h__t1,['Cons',_h,_t]) , 
  eval_for1( '%Undefined%', 
    _, 
    [ _f, 
      _h, 
      ['List.foldr',_f,_i,_t]], 
    RetVal670).


/*
;; Fold a List from left to right
*/
/*
  (: List.foldl 
    (-> 
      (-> $b $a $b) $b 
      (List $a) $b))
*/


mc(iz,List_x46x_foldl1,__xx__x62x____xx__x62x___b__a__b__b_List__a__b1) :- 
  eval_and_unify(List_x46x_foldl1,'List.foldl') , 
  eval_and_unify( __xx__x62x____xx__x62x___b__a__b__b_List__a__b1, [
    ->, 
    [->,_b,_a,_b], 
    _b, 
    ['List',_a], 
    _b]).


/*
  (= (List.foldl $f $i Nil)  $i)
*/


mc('List.foldl',_f6,_i3,Nil3,_i) :- 
  ensure_evaled( [ ->, Type_List_x46x_foldl__0___1,_, 
                   Type_List_x46x_foldl__0___1], 
    _f6, 
    _) , 
  ensure_evaled(Type_List_x46x_foldl__0___1,_i3,_i) , 
  eval_and_unify(Nil3,'Nil').


/*
  (= (List.foldl $f $i (Cons $h $t))  
    (List.foldl $f 
      ($f $i $h) $t))
*/


mc('List.foldl',_f7,_i4,Cons__h__t2,RetVal672) :- 
  ensure_evaled( [ ->, Type_List_x46x_foldl__0___3,_, 
                   Type_List_x46x_foldl__0___3], 
    _f7, 
    _f) , 
  ensure_evaled(Type_List_x46x_foldl__0___3,_i4,_i) , 
  eval_and_unify(Cons__h__t2,['Cons',_h,_t]) , 
  eval_for1('%Undefined%',_,[_f,_i,_h],For1_S) , 
  s('List.foldl',_f,For1_S,_t,RetVal672).


/*
;; Define List.append (concatenate two lists).
*/
/*
  (: List.append 
    (-> 
      (List $a) 
      (List $a) 
      (List $a)))
*/


mc(iz,List_x46x_append1,__xx__x62x__List__a_List__a_List__a1) :- 
  eval_and_unify(List_x46x_append1,'List.append') , 
  eval_and_unify( __xx__x62x__List__a_List__a_List__a1, [
    ->, 
    ['List',_a], 
    ['List',_a], 
    ['List',_a]]).


/*
  (= (List.append $xs $ys)  
    (List.foldr Cons $ys $xs))
*/


mc('List.append',_xs1,_ys1,RetVal673) :- 
  ensure_evaled(['List',B],_xs1,_xs) , 
  ensure_evaled(['List',B],_ys1,_ys) , 
  s('List.foldr','Cons',_ys,_xs,RetVal673).


/*
;; Test List.append
*/
/*
  ! (assertEqual 
      (List.append 
        (Cons a 
          (Cons b Nil)) 
        (Cons c 
          (Cons d Nil))) 
      (Cons a 
        (Cons b 
          (Cons c 
            (Cons d Nil)))))
*/


top_call_23:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_6 =  
                      [ assertEqual, 
                        [ 'List.append', 
                          [ 'Cons', 
                            a, 
                            ['Cons',b,'Nil']], 
                          [ 'Cons', 
                            c, 
                            ['Cons',d,'Nil']]], 
                        [ 'Cons', 
                          a, 
                          [ 'Cons', 
                            b, 
                            [ 'Cons', 
                              c, 
                              ['Cons',d,'Nil']]]]]),
                   (loonit_assert_source_tf_empty( src(Src_6), 
                      FARL_11, 
                      FARL_12, 
                        ((
                         (findall_ne( FA_11, 
                            ( s('Cons',b,'Nil',Nil)  ,
                              s('Cons',a,Nil,List_c46_append) , 
                              s('Cons',d,'Nil',Nil2) , 
                              s('Cons',c,Nil2,S) , 
                              s('List.append',List_c46_append,S,FA_11)), 
                            FARL_11)),
                         (findall_ne( FA_12, 
                            ( s('Cons',d,'Nil',Nil6)  ,
                              s('Cons',c,Nil6,S_B) , 
                              s('Cons',b,S_B,S_A) , 
                              s('Cons',a,S_A,FA_12)), 
                            FARL_12))  )), 
                      equal_enough_for_test(FARL_11,FARL_12), 
                      Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2 ansi35"></span><span class="ansi2 ansi35"></span><span class="ansi2 ansi35">

( ==> ( 
   top_call_23:- do_metta_runtime( Equal_enough_for_test27, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'List.append', 
                             [ 'Cons', 
                               a, 
                               ['Cons',b,'Nil']], 
                             [ 'Cons', 
                               c, 
                               ['Cons',d,'Nil']]], 
                           [ 'Cons', 
                             a, 
                             [ 'Cons', 
                               b, 
                               [ 'Cons', 
                                 c, 
                                 ['Cons',d,'Nil']]]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test26, 
                         Test_Ne, 
                           ((
                            (findall_ne( S29, 
                               ( s('Cons',b,'Nil',Nil19)  ,
                                 s('Cons',a,Nil19,List_c46_append21) , 
                                 s('Cons',d,'Nil',Nil20) , 
                                 s('Cons',c,Nil20,S22) , 
                                 s('List.append',List_c46_append21,S22,S29)), 
                               Equal_enough_for_test26)),
                            (findall_ne( S32, 
                               ( s('Cons',d,'Nil',Nil23)  ,
                                 s('Cons',c,Nil23,S_B24) , 
                                 s('Cons',b,S_B24,S_A25) , 
                                 s('Cons',a,S_A25,S32)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test26,Test_Ne), 
                         Equal_enough_for_test27))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_23)).


</span>top_call :-
    time(top_call_23).


/*
;; Define List.appendElem that appends an element at the end of a
;; list.
*/
/*
  (: List.appendElem 
    (-> $a 
      (List $a) 
      (List $a)))
*/


mc(iz,List_x46x_appendElem1,__xx__x62x___a_List__a_List__a2) :- 
  eval_and_unify(List_x46x_appendElem1,'List.appendElem') , 
  eval_and_unify( __xx__x62x___a_List__a_List__a2, [
    ->, 
    _a, 
    ['List',_a], 
    ['List',_a]]).


/*
  (= (List.appendElem $x $xs)  
    (List.append $xs 
      (Cons $x Nil)))
*/


mc('List.appendElem',_x10,_xs2,RetVal674) :- 
  ensure_evaled(Type_List_x46x_appendElem__1___1,_x10,_x) , 
  ensure_evaled(['List',Type_List_x46x_appendElem__1___1],_xs2,_xs) , 
  s('Cons',_x,'Nil',Nil) , 
  s('List.append',_xs,Nil,RetVal674).


/*
;; Define List.elemIndex that returns the index of an element in a
;; List, if it exists.
*/
/*
  (: List.elemIndex 
    (-> $a 
      (List $a) 
      (Maybe Nat)))
*/


mc(iz,List_x46x_elemIndex1,__xx__x62x___a_List__a_Maybe_Nat1) :- 
  eval_and_unify(List_x46x_elemIndex1,'List.elemIndex') , 
  eval_and_unify( __xx__x62x___a_List__a_Maybe_Nat1, [
    ->, 
    _a, 
    ['List',_a], 
    ['Maybe','Nat']]).


/*
  (= (List.elemIndex $x Nil)  Nothing)
*/


mc('List.elemIndex',_x11,Nil4,'Nothing') :- 
  ensure_evaled(_,_x11,_) , 
  eval_and_unify(Nil4,'Nil').


/*
  (= (List.elemIndex $x (Cons $head $tail))  
    (if 
      (== $x $head) 
      (Just Z) 
      (case 
        (List.elemIndex $x $tail) 
        ( ( (Just $k) (Just (S $k))) (Nothing Nothing)))))
*/


mc('List.elemIndex',_x12,Cons__head__tail2,RetVal676) :- 
  ensure_evaled(_,_x12,_x) , 
  eval_and_unify(Cons__head__tail2,['Cons',_head,_tail]) , 
  s(==,_x,_head,If) , 
  as_p1( '%Undefined%', 
    'CodeAtom', 
    ['Maybe',_], P1_CODE_224,S4, 
    ['Just','Z'], 
    true,s('Just','Z',P1_CODE_224)) , 
  as_p1( '%Undefined%', 
    'CodeAtom', 
    ['Maybe','Nat'], CASE_RESULT_P1_CODE_2251,S, 
    [ case, 
      ['List.elemIndex',_x,_tail], 
      [ [ ['Just',_k], 
          [ 'Just', 
            ['S',_k]]], 
        ['Nothing','Nothing']]], 
    ( s('List.elemIndex',_x,_tail,Select_caseCASE_SWITCH_16)  ,
      CASE_SWITCH_16 =  
        [ caseOption( ['Just',_k], 
            S7, 
            [_x,_tail], 
            true,s('S',_k,S6),s('Just',S6,S7)), 
          caseOption('Nothing','Nothing',[_x,_tail],true)] , 
      select_case(CASE_SWITCH_16,Select_caseCASE_SWITCH_16,CASE_RESULT_P1_CODE_2251))) , 
  s(if,If,S4,S,RetVal676).


/*
;; Test List.elemIndex
*/
/*
  ! (assertEqual 
      (List.elemIndex 42 
        (Cons 0 
          (Cons 1 Nil))) Nothing)
*/


top_call_24:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_7 =  
                      [ assertEqual, 
                        [ 'List.elemIndex', 
                          42, 
                          [ 'Cons', 
                            0, 
                            ['Cons',1,'Nil']]], 
                        'Nothing']),
                   (loonit_assert_source_tf_empty( src(Src_7), 
                      FARL_13, 
                      FARL_14, 
                        ((
                         (findall_ne( FA_13, 
                            ( s('Cons',1,'Nil',Nil)  ,
                              s('Cons',0,Nil,S) , 
                              s('List.elemIndex',42,S,FA_13)), 
                            FARL_13)),
                         (findall_ne('Nothing',true,FARL_14))  )), 
                      equal_enough_for_test(FARL_13,FARL_14), 
                      Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2 ansi35"></span><span class="ansi2 ansi35"></span><span class="ansi2 ansi35">

( ==> ( 
   top_call_24:- do_metta_runtime( Equal_enough_for_test12, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'List.elemIndex', 
                             42, 
                             [ 'Cons', 
                               0, 
                               ['Cons',1,'Nil']]], 
                           'Nothing']),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test11, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S15, 
                               ( s('Cons',1,'Nil',Nil9)  ,
                                 s('Cons',0,Nil9,S14) , 
                                 s('List.elemIndex',42,S14,S15)), 
                               Equal_enough_for_test11)),
                            (findall_ne('Nothing',true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test11,Test_Ne_True), 
                         Equal_enough_for_test12))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_24)).


</span>top_call :-
    time(top_call_24).


/*
  ! (assertEqual 
      (List.elemIndex 42 
        (Cons 0 
          (Cons 42 Nil))) 
      (Just (S Z)))
*/


top_call_25:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_8 =  
                      [ assertEqual, 
                        [ 'List.elemIndex', 
                          42, 
                          [ 'Cons', 
                            0, 
                            ['Cons',42,'Nil']]], 
                        ['Just',['S','Z']]]),
                   (loonit_assert_source_tf_empty( src(Src_8), 
                      FARL_15, 
                      FARL_16, 
                        ((
                         (findall_ne( FA_15, 
                            ( s('Cons',42,'Nil',Nil)  ,
                              s('Cons',0,Nil,S) , 
                              s('List.elemIndex',42,S,FA_15)), 
                            FARL_15)),
                         (findall_ne( FA_16, 
                            true,s('S','Z',Just_Z),s('Just',Just_Z,FA_16), 
                            FARL_16))  )), 
                      equal_enough_for_test(FARL_15,FARL_16), 
                      Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2 ansi35"></span><span class="ansi2 ansi35"></span><span class="ansi2 ansi35">

( ==> ( 
   top_call_25:- do_metta_runtime( Equal_enough_for_test18, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'List.elemIndex', 
                             42, 
                             [ 'Cons', 
                               0, 
                               ['Cons',42,'Nil']]], 
                           ['Just',['S','Z']]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test17, 
                         Test_Ne, 
                           ((
                            (findall_ne( S21, 
                               ( s('Cons',42,'Nil',Nil14)  ,
                                 s('Cons',0,Nil14,S20) , 
                                 s('List.elemIndex',42,S20,S21)), 
                               Equal_enough_for_test17)),
                            (findall_ne( S22, 
                               true,s('S','Z',Just_Z15),s('Just',Just_Z15,S22), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test17,Test_Ne), 
                         Equal_enough_for_test18))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_25)).


</span>top_call :-
    time(top_call_25).


/*
;; Define List.length
*/
/*
  (: List.length 
    (-> 
      (List $a) Nat))
*/


mc(iz,List_x46x_length1,__xx__x62x__List__a_Nat1) :- 
  eval_and_unify(List_x46x_length1,'List.length') , 
  eval_and_unify( __xx__x62x__List__a_Nat1, [
    ->, 
    ['List',_], 
    'Nat']).


/*
  (= (List.length Nil)  Z)
*/


mc('List.length',Nil5,'Z'):-true,eval_and_unify(Nil5,'Nil'),true.


/*
  (= (List.length (Cons $head $tail))  
    (S (List.length $tail)))
*/


mc('List.length',Cons__head__tail3,RetVal678) :- 
  eval_and_unify(Cons__head__tail3,['Cons',_,_tail]) , 
  s('List.length',_tail,S) , 
  s('S',S,RetVal678).


/*
;; Define List.map
*/
/*
  (: List.map 
    (-> 
      (-> $a $b) 
      (List $a) 
      (List $b)))
*/


mc(iz,List_x46x_map1,__xx__x62x____xx__x62x___a__b_List__a_List__b1) :- 
  eval_and_unify(List_x46x_map1,'List.map') , 
  eval_and_unify( __xx__x62x____xx__x62x___a__b_List__a_List__b1, [
    ->, 
    [->,_a,_b], 
    ['List',_a], 
    ['List',_b]]).


/*
  (= (List.map $f Nil)  Nil)
*/


mc('List.map',_f8,Nil6,'Nil') :- 
  ensure_evaled([->,_,_],_f8,_) , 
  eval_and_unify(Nil6,'Nil').


/*
  (= (List.map $f (Cons $x $xs))  
    (Cons 
      ($f $x) 
      (List.map $f $xs)))
*/


mc('List.map',_f9,Cons__x__xs1,RetVal680) :- 
  ensure_evaled([->,_,_],_f9,_f) , 
  eval_and_unify(Cons__x__xs1,['Cons',_x,_xs]) , 
  eval_for1('%Undefined%',_,[_f,_x],For1_Cons) , 
  s('List.map',_f,_xs,S) , 
  s('Cons',For1_Cons,S,RetVal680).


/*
;; Test List.map
*/
/*
  (: List.map.test.foo 
    (-> Number Number))
*/


mc(iz,List_x46x_map_x46x_test_x46x_foo1,__xx__x62x__Number_Number2) :- 
  eval_and_unify(List_x46x_map_x46x_test_x46x_foo1,'List.map.test.foo') , 
  eval_and_unify(__xx__x62x__Number_Number2,[->,'Number','Number']).


/*
  (= (List.map.test.foo $x)  
    (+ 1 $x))
*/


mc('List.map.test.foo',_x13,RetVal681) :- 
  ensure_evaled('Number',_x13,_x) , 
  s(+,1,_x,RetVal681).


/*
  ! (assertEqual 
      (List.map List.map.test.foo 
        (Cons 1 
          (Cons 2 
            (Cons 3 Nil)))) 
      (Cons 2 
        (Cons 3 
          (Cons 4 Nil))))
*/


top_call_26:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_9 =  
                      [ assertEqual, 
                        [ 'List.map', 
                          'List.map.test.foo', 
                          [ 'Cons', 
                            1, 
                            [ 'Cons', 
                              2, 
                              ['Cons',3,'Nil']]]], 
                        [ 'Cons', 
                          2, 
                          [ 'Cons', 
                            3, 
                            ['Cons',4,'Nil']]]]),
                   (loonit_assert_source_tf_empty( src(Src_9), 
                      FARL_17, 
                      FARL_18, 
                        ((
                         (findall_ne( FA_17, 
                            ( s('Cons',3,'Nil',Nil)  ,
                              s('Cons',2,Nil,S) , 
                              s('Cons',1,S,List_c46_map_c46_test_c46_foo) , 
                              s('List.map','List.map.test.foo',List_c46_map_c46_test_c46_foo,FA_17)), 
                            FARL_17)),
                         (findall_ne( FA_18, 
                            ( s('Cons',4,'Nil',Nil4)  ,
                              s('Cons',3,Nil4,S11) , 
                              s('Cons',2,S11,FA_18)), 
                            FARL_18))  )), 
                      equal_enough_for_test(FARL_17,FARL_18), 
                      Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2 ansi35"></span><span class="ansi2 ansi35"></span><span class="ansi2 ansi35">

( ==> ( 
   top_call_26:- do_metta_runtime( Equal_enough_for_test19, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'List.map', 
                             'List.map.test.foo', 
                             [ 'Cons', 
                               1, 
                               [ 'Cons', 
                                 2, 
                                 ['Cons',3,'Nil']]]], 
                           [ 'Cons', 
                             2, 
                             [ 'Cons', 
                               3, 
                               ['Cons',4,'Nil']]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test18, 
                         Test_Ne, 
                           ((
                            (findall_ne( S22, 
                               ( s('Cons',3,'Nil',Nil15)  ,
                                 s('Cons',2,Nil15,S21) , 
                                 s('Cons',1,S21,List_c46_map_c46_test_c46_foo16) , 
                                 s('List.map','List.map.test.foo',List_c46_map_c46_test_c46_foo16,S22)), 
                               Equal_enough_for_test18)),
                            (findall_ne( S24, 
                               ( s('Cons',4,'Nil',Nil17)  ,
                                 s('Cons',3,Nil17,S23) , 
                                 s('Cons',2,S23,S24)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test18,Test_Ne), 
                         Equal_enough_for_test19))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_26)).


</span>top_call :-
    time(top_call_26).


/*
;;;;;;;;;;;;
;; String ;;
;;;;;;;;;;;;
*/
/*
;; Fold a tuple from right to left
*/
/*
  (: foldr 
    (-> 
      (-> $a $b $b) $b $c $d))
*/


mc(iz,_foldr1,__xx__x62x____xx__x62x___a__b__b__b__c__d1) :- 
  eval_and_unify(_foldr1,foldr) , 
  eval_and_unify( __xx__x62x____xx__x62x___a__b__b__b__c__d1, [
    ->, 
    [->,_,_b,_b], _b,_,_]).


/*
  (= (foldr $f $i $xs)  
    (if 
      (== $xs ()) $i 
      (let* 
        ( ($h (car-atom $xs)) 
          ($t (cdr-atom $xs)) 
          ($ft (foldr $f $i $t))) 
        ($f $h $ft))))
*/


mc(foldr,_f10,_i5,_xs3,RetVal682) :- 
  ensure_evaled( [->,_,Type__foldr__2___1,Type__foldr__2___1], 
    _f10, 
    _f) , 
  ensure_evaled(Type__foldr__2___1,_i5,_i) , 
  ensure_evaled(_,_xs3,_xs) , 
  eval_for1('%Undefined%',_,[],For1_S) , 
  s(==,_xs,For1_S,If) , 
  pass_code('CodeAtom',_i,Code_S8) , 
  as_p1( '%Undefined%', 
    'CodeAtom', 
    RetTypeNotCd226, P1_CODE_226,S7, 
    [ 'let*', 
      [ [ _h, 
          ['car-atom',_xs]], 
        [ _t, 
          ['cdr-atom',_xs]], 
        [ _ft, 
          [foldr,_f,_i,_t]]], 
      [_f,_h,_ft]], 
    ( s('car-atom',_xs,_h)  ,
      me('cdr-atom',_xs,_t) , 
      s(foldr,_f,_i,_t,_ft) , 
      eval_for1( cr('CodeAtom','%Undefined%'), 
        RetTypeNotCd226, 
        [_f,_h,_ft], 
        P1_CODE_226))) , 
  s(if,If,Code_S8,S7,RetVal682).


/*
;; Concatenate two terms
*/
/*
  (: append 
    (-> $a $a $a))
*/


mc(iz,_append1,__xx__x62x___a__a__a1) :- 
  eval_and_unify(_append1,append) , 
  eval_and_unify( __xx__x62x___a__a__a1, [
    ->, _a,_a,_a]).


/*
  (= (append $lhs $rhs)  
    (foldr cons-atom $rhs $lhs))
*/


mc(append,_lhs1,_rhs1,RetVal683) :- 
  ensure_evaled(Type__append__0___1,_lhs1,_lhs) , 
  ensure_evaled(Type__append__0___1,_rhs1,_rhs) , 
  s(foldr,'cons-atom',_rhs,_lhs,RetVal683).


/*
;; Concatenate two strings (implemented in my own branch)
*/
/*
  (: String.append 
    (-> String String String))
*/


mc(iz,String_x46x_append1,__xx__x62x__String_String_String1) :- 
  eval_and_unify(String_x46x_append1,'String.append') , 
  eval_and_unify( __xx__x62x__String_String_String1, [
    ->, 'String','String','String']).


/*
;; (= (String.append $x $y) (call-fn! string_concat $x $y)) ; Only MeTTaLog
*/
/*
  (= (String.append $x $y)  
    ( (py-dot $x __add__ 
        (-> String String String)) $y))
*/


mc('String.append',_x14,_y4,RetVal684) :- 
  ensure_evaled('String',_x14,_x) , 
  ensure_evaled('String',_y4,_y) , 
  specialize_args( [ [    ->   ,'String','String','String']], 
    [_y], 
    Py_call_method_and_args_sigString) , 
  make_py_dot( _x, 
    '__add__', 
    [ [    ->   ,'String','String','String']], 
    Dot) , 
  py_call_method_and_args_sig( 'String', 
    [ [    ->   ,'String','String','String']],    Dot, Py_call_method_and_args_sigString, RetVal684).


/*
;; (= (String.append $x $y) (charsToString (append (stringToChars $x) (stringToChars $y))))
*/
/*
;; Test String.append
*/
/*
  ! (assertEqual 
      (String.append "abc" "def") "abcdef")
*/


top_call_27:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_10 =  
                      [ assertEqual, 
                        [ 'String.append', "abc","def"], 
                        "abcdef"]),
                   (loonit_assert_source_tf_empty( src(Src_10), 
                      FARL_19, 
                      FARL_20, 
                        ((
                         (findall_ne(FA_19,(true,s('String.append',"abc","def",FA_19)),FARL_19)),
                         (findall_ne("abcdef",true,FARL_20))  )), 
                      equal_enough_for_test(FARL_19,FARL_20), 
                      Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2 ansi91"></span><span class="ansi2 ansi91"></span><span class="ansi2 ansi91">

( ==> ( 
   top_call_27:- do_metta_runtime( Equal_enough_for_test9, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'String.append', "abc","def"], 
                           "abcdef"]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test8, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( Def, 
                               true,s('String.append',"abc","def",Def), 
                               Equal_enough_for_test8)),
                            (findall_ne("abcdef",true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test8,Test_Ne_True), 
                         Equal_enough_for_test9))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_27)).


</span>top_call :-
    time(top_call_27).


/*
  ! (assertEqual 
      (String.append "\"" "\"") "\"\"")
*/


top_call_28:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_11 =  
                      [ assertEqual, 
                        [ 'String.append', "\"","\""], 
                        "\"\""]),
                   (loonit_assert_source_tf_empty( src(Src_11), 
                      FARL_21, 
                      FARL_22, 
                        ((
                         (findall_ne(FA_21,(true,s('String.append',"\"","\"",FA_21)),FARL_21)),
                         (findall_ne("\"\"",true,FARL_22))  )), 
                      equal_enough_for_test(FARL_21,FARL_22), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi35"></span><span class="ansi1 ansi35"></span><span class="ansi1 ansi35">

( ==> ( 
   top_call_28:- do_metta_runtime( Equal_enough_for_test9, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'String.append', "\"","\""], 
                           "\"\""]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test8, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S, 
                               true,s('String.append',"\"","\"",S), 
                               Equal_enough_for_test8)),
                            (findall_ne("\"\"",true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test8,Test_Ne_True), 
                         Equal_enough_for_test9))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_28)).


</span>top_call :-
    time(top_call_28).


/*
;; Overload String.append to support more than 2 arguments
*/
/*
  (: String.append3 
    (-> String String String String))
*/


mc(iz,String_x46x_append31,__xx__x62x__String_String_String_String1) :- 
  eval_and_unify(String_x46x_append31,'String.append3') , 
  eval_and_unify( __xx__x62x__String_String_String_String1, [
    ->, 'String','String','String','String']).


/*
  (= (String.append3 $x $y $z)  
    (String.append $x 
      (String.append $y $z)))
*/


mc('String.append3',_x15,_y5,_z2,RetVal685) :- 
  ensure_evaled('String',_x15,_x) , 
  ensure_evaled('String',_y5,_y) , 
  ensure_evaled('String',_z2,_z) , 
  s('String.append',_y,_z,S) , 
  s('String.append',_x,S,RetVal685).


/*
  (: String.append4 
    (-> String String String String String))
*/


mc(iz,String_x46x_append41,__xx__x62x__String_String_String_String_String1) :- 
  eval_and_unify(String_x46x_append41,'String.append4') , 
  eval_and_unify( __xx__x62x__String_String_String_String_String1, [
    ->, 'String','String','String','String', 
    'String']).


/*
  (= (String.append4 $x $y $z $w)  
    (String.append $x 
      (String.append3 $y $z $w)))
*/


mc('String.append4',_x16,_y6,_z3,_w1,RetVal686) :- 
  ensure_evaled('String',_x16,_x) , 
  ensure_evaled('String',_y6,_y) , 
  ensure_evaled('String',_z3,_z) , 
  ensure_evaled('String',_w1,_w) , 
  s('String.append3',_y,_z,_w,S) , 
  s('String.append',_x,S,RetVal686).


/*
  (: String.append5 
    (-> String String String String String String))
*/


mc(iz,String_x46x_append51,__xx__x62x__String_String_String_String_String_String1) :- 
  eval_and_unify(String_x46x_append51,'String.append5') , 
  eval_and_unify( __xx__x62x__String_String_String_String_String_String1, [
    ->, 'String','String','String','String', 
    'String','String']).


/*
  (= (String.append5 $x $y $z $w $s)  
    (String.append $x 
      (String.append4 $y $z $w $s)))
*/


mc('String.append5',_x17,_y7,_z4,_w2,_s2,RetVal687) :- 
  ensure_evaled('String',_x17,_x) , 
  ensure_evaled('String',_y7,_y) , 
  ensure_evaled('String',_z4,_z) , 
  ensure_evaled('String',_w2,_w) , 
  ensure_evaled('String',_s2,_s) , 
  s('String.append4',_y,_z,_w,_s,S) , 
  s('String.append',_x,S,RetVal687).


/*
;; Join a list of string by a separator
*/
/*
  (: String.join 
    (-> String 
      (List String) String))
*/


mc(iz,String_x46x_join1,__xx__x62x__String_List_String_String1) :- 
  eval_and_unify(String_x46x_join1,'String.join') , 
  eval_and_unify( __xx__x62x__String_List_String_String1, [
    ->, 
    'String', 
    ['List','String'], 
    'String']).


/*
  (= (String.join $separator Nil)  "")
*/


mc('String.join',_separator1,Nil7,"") :- 
  ensure_evaled('String',_separator1,_) , 
  eval_and_unify(Nil7,'Nil').


/*
  (= (String.join $separator (Cons $head $tail))  
    (case $tail 
      ( (Nil $head) ($else (String.append3 $head $separator (String.join $separator $tail))))))
*/


mc('String.join',_separator2,Cons__head__tail4,CASE_RESULT_RetVal6891) :- 
  ensure_evaled('String',_separator2,_separator) , 
  eval_and_unify(Cons__head__tail4,['Cons',_head,_tail]) , 
  CASE_SWITCH_17 =  
    [ caseOption('Nil',_head,[_tail],true), 
      caseOption( _, 
        S3, 
        [_tail], 
          ((
           (true),
           (  ((
               (s('String.join',_separator,_tail,S)),
               (s('String.append3',_head,_separator,S,S3))  )))  )))] , 
  select_case(CASE_SWITCH_17,_tail,CASE_RESULT_RetVal6891).


/*
;; Test String.join
*/
/*
  ! (assertEqual 
      (String.join ", " 
        (Cons "x=42" 
          (Cons "y=24" Nil))) "x=42, y=24")
*/


top_call_29:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_12 =  
                      [ assertEqual, 
                        [ 'String.join', 
                          ", ", 
                          [ 'Cons', 
                            "x=42", 
                            [ 'Cons', "y=24",'Nil']]], 
                        "x=42, y=24"]),
                   (loonit_assert_source_tf_empty( src(Src_12), 
                      FARL_23, 
                      FARL_24, 
                        ((
                         (findall_ne( FA_23, 
                            ( s('Cons',"y=24",'Nil',X_c61_42_Nil)  ,
                              s('Cons',"x=42",X_c61_42_Nil,S) , 
                              s('String.join',", ",S,FA_23)), 
                            FARL_23)),
                         (findall_ne("x=42, y=24",true,FARL_24))  )), 
                      equal_enough_for_test(FARL_23,FARL_24), 
                      Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2 ansi35"></span><span class="ansi2 ansi35"></span><span class="ansi2 ansi35">

( ==> ( 
   top_call_29:- do_metta_runtime( Equal_enough_for_test14, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'String.join', 
                             ", ", 
                             [ 'Cons', 
                               "x=42", 
                               [ 'Cons', "y=24",'Nil']]], 
                           "x=42, y=24"]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test13, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S17, 
                               ( s('Cons',"y=24",'Nil',X_c61_42_Nil10)  ,
                                 s('Cons',"x=42",X_c61_42_Nil10,S16) , 
                                 s('String.join',", ",S16,S17)), 
                               Equal_enough_for_test13)),
                            (findall_ne("x=42, y=24",true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test13,Test_Ne_True), 
                         Equal_enough_for_test14))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_29)).


</span>top_call :-
    time(top_call_29).


/*
;;;;;;;;;;;;;;;;;;;;;
;; Match over list ;;
;;;;;;;;;;;;;;;;;;;;;
*/
/*
;; Similar to match but takes a list of terms instead of a space.
*/
/*
  (: 'match'' 
    (-> 
      (List Atom) $a $a $a))
*/


mc(iz,_match_x39x_1,__xx__x62x__List_Atom__a__a__a1) :- 
  eval_and_unify(_match_x39x_1,'match\'') , 
  eval_and_unify( __xx__x62x__List_Atom__a__a__a1, [
    ->, 
    ['List','Atom'], _a,_a,_a]).


/*
  (= ('match'' Nil $pattern $rewrite)  
    (empty))
*/


mc('match\'',Nil8,_pattern1,_rewrite1,RetVal690) :- 
  eval_and_unify(Nil8,'Nil') , 
  ensure_evaled(Type__match_x39x___0___1,_pattern1,_) , 
  ensure_evaled(Type__match_x39x___0___1,_rewrite1,_) , 
  fail.


/*
  (= ('match'' (Cons $head $tail) $pattern $rewrite)  
    (let $pattern $head $rewrite))
*/


mc('match\'',Cons__head__tail5,_pattern2,_rewrite2,_rewrite) :- 
  eval_and_unify(Cons__head__tail5,['Cons',_pattern,_]) , 
  ensure_evaled(Type__match_x39x___0___3,_pattern2,_pattern) , 
  ensure_evaled(Type__match_x39x___0___3,_rewrite2,_rewrite).


/*
  (= ('match'' (Cons $head $tail) $pattern $rewrite)  
    ('match'' $tail $pattern $rewrite))
*/


mc('match\'',Cons__head__tail6,_pattern3,_rewrite3,RetVal692) :- 
  eval_and_unify(Cons__head__tail6,['Cons',_,_tail]) , 
  ensure_evaled(Type__match_x39x___0___5,_pattern3,_pattern) , 
  ensure_evaled(Type__match_x39x___0___5,_rewrite3,_rewrite) , 
  s('match\'',_tail,_pattern,_rewrite,RetVal692).


/*
;; Test match' on empty list
*/
/*
  ! (assertEqualToResult 
      ('match'' Nil 
        ($x $y) 
        ($y $x)) ())
*/


top_call_30:- do_metta_runtime( Equal_enough_for_test4, 
                loonit_assert_source_tf_empty( 
                   src( [ assertEqualToResult, 
                          [ 'match\'', 
                            'Nil', 
                            [_x,'get-atoms'], 
                            ['get-atoms',_x]], 
                          []]), 
                   Equal_enough_for_test, 
                   [], 
                   findall_ne( S, 
                     ( u_assign(14,[_x,'get-atoms'],Assign_Nil)  ,
                       metta_atom_iter(_x,Iter_Match) , 
                       s('match\'','Nil',Assign_Nil,Iter_Match,S)), 
                     Equal_enough_for_test), 
                   equal_enough_for_test(Equal_enough_for_test,[]), 
                   Equal_enough_for_test4)).


<span class="ansi2"></span><span class="ansi2"></span><span class="ansi2"></span><span class="ansi2">

( ==> ( 
   top_call_30:- do_metta_runtime( Equal_enough_for_test13, 
                   loonit_assert_source_tf_empty( 
                      src( [ assertEqualToResult, 
                             [ 'match\'', 
                               'Nil', 
                               [Metta_atom_iter,'get-atoms'], 
                               ['get-atoms',Metta_atom_iter]], 
                             []]), 
                      Equal_enough_for_test11, 
                      [], 
                      findall_ne( S16, 
                        ( u_assign(14,[Metta_atom_iter,'get-atoms'],Assign_Nil9)  ,
                          metta_atom_iter(Metta_atom_iter,Iter_Match10) , 
                          s('match\'','Nil',Assign_Nil9,Iter_Match10,S16)), 
                        Equal_enough_for_test11), 
                      equal_enough_for_test(Equal_enough_for_test11,[]), 
                      Equal_enough_for_test13))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_30)).


</span>top_call :-
    time(top_call_30).


/*
;; Test match' on singleton
*/
/*
  ! (assertEqual 
      ('match'' 
        (Cons 
          (A B) Nil) 
        ($x $y) 
        ($y $x)) 
      (B A))
*/


top_call_31:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_13 =  
                      [ assertEqual, 
                        [ 'match\'', 
                          ['Cons',['A','B'],'Nil'], 
                          [_x,'get-atoms'], 
                          ['get-atoms',_x]], 
                        ['B','A']]),
                   (loonit_assert_source_tf_empty( src(Src_13), 
                      FARL_25, 
                      FARL_26, 
                        ((
                         (findall_ne( FA_25, 
                            ( s('A','B',Cons_B)  ,
                              s('Cons',Cons_B,'Nil',Match_Nil) , 
                              u_assign(14,[_x,'get-atoms'],Assign_S6) , 
                              metta_atom_iter(_x,Iter_S) , 
                              s('match\'',Match_Nil,Assign_S6,Iter_S,FA_25)), 
                            FARL_25)),
                         (findall_ne(FA_26,(true,s('B','A',FA_26)),FARL_26))  )), 
                      equal_enough_for_test(FARL_25,FARL_26), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi35"></span><span class="ansi1 ansi35"></span><span class="ansi1 ansi35">

( ==> ( 
   top_call_31:- do_metta_runtime( Equal_enough_for_test27, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'match\'', 
                             ['Cons',['A','B'],'Nil'], 
                             [Metta_atom_iter,'get-atoms'], 
                             ['get-atoms',Metta_atom_iter]], 
                           ['B','A']]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test26, 
                         Test_Ne, 
                           ((
                            (findall_ne( S31, 
                               ( s('A','B',Cons_B18)  ,
                                 s('Cons',Cons_B18,'Nil',Match_Nil20) , 
                                 u_assign(14,[Metta_atom_iter,'get-atoms'],Assign_S24) , 
                                 metta_atom_iter(Metta_atom_iter,Iter_S23) , 
                                 s('match\'',Match_Nil20,Assign_S24,Iter_S23,S31)), 
                               Equal_enough_for_test26)),
                            (findall_ne(S_A,(true,s('B','A',S_A)),Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test26,Test_Ne), 
                         Equal_enough_for_test27))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_31)).


</span>top_call :-
    time(top_call_31).


/*
;; Test match' on pair
*/
/*
  ! (assertEqualToResult 
      ('match'' 
        (Cons 
          (A B) 
          (Cons 
            (C D) Nil)) 
        ($x $y) 
        ($y $x)) 
      ( (B A) (D C)))
*/


top_call_32:- do_metta_runtime( Equal_enough_for_test, 
                loonit_assert_source_tf_empty( 
                   src( [ assertEqualToResult, 
                          [ 'match\'', 
                            [ 'Cons', 
                              ['A','B'], 
                              ['Cons',['C','D'],'Nil']], 
                            [_x,'get-atoms'], 
                            ['get-atoms',_x]], 
                          [ [ 'B','A'],
                            [ 'D','C']]]), 
                   Ne_Src, 
                   [ [ 'B','A'],
                     [ 'D','C']], 
                   findall_ne( S12, 
                     ( s('A','B',Cons_B)  ,
                       s('C','D',Cons_D) , 
                       s('Cons',Cons_D,'Nil',Nil) , 
                       s('Cons',Cons_B,Nil,Match) , 
                       u_assign(14,[_x,'get-atoms'],Assign_S7) , 
                       metta_atom_iter(_x,Iter_S) , 
                       s('match\'',Match,Assign_S7,Iter_S,S12)), 
                     Ne_Src), 
                   equal_enough_for_test(Ne_Src,[['B','A'],['D','C']]), 
                   Equal_enough_for_test)).


<span class="ansi1"></span><span class="ansi1 ansi35"></span><span class="ansi1 ansi35"></span><span class="ansi1 ansi35">

( ==> ( 
   top_call_32:- do_metta_runtime( Equal_enough_for_test24, 
                   loonit_assert_source_tf_empty( 
                      src( [ assertEqualToResult, 
                             [ 'match\'', 
                               [ 'Cons', 
                                 ['A','B'], 
                                 ['Cons',['C','D'],'Nil']], 
                               [Metta_atom_iter,'get-atoms'], 
                               ['get-atoms',Metta_atom_iter]], 
                             [ [ B,A],
                               [ D,C]]]), 
                      Ne_Src23, 
                      [ [ B,A],
                        [ D,C]], 
                      findall_ne( S27, 
                        ( s('A','B',Cons_B14)  ,
                          s('C','D',Cons_D15) , 
                          s('Cons',Cons_D15,'Nil',Nil17) , 
                          s('Cons',Cons_B14,Nil17,Match20) , 
                          u_assign(14,[Metta_atom_iter,'get-atoms'],Assign_S22) , 
                          metta_atom_iter(Metta_atom_iter,Iter_S21) , 
                          s('match\'',Match20,Assign_S22,Iter_S21,S27)), 
                        Ne_Src23), 
                      equal_enough_for_test( Ne_Src23,  [ [ B,A],
                                                          [ D,C]]), 
                      Equal_enough_for_test24))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_32)).


</span>top_call :-
    time(top_call_32).


/*
;;;;;;;;;;;;;;;;;;
;; Delayed Call ;;
;;;;;;;;;;;;;;;;;;
*/
/*
;; Data structure to carry around function calls without running them.
;; The DCall.runARITY method is used to run a DCall on demand.
*/
/*
;; Parameterized type representing a delayed call of a certain type
;; signature, operator followed by operands
*/
/*
  (: DCall 
    (-> Type Type))
*/


mc(iz,DCall1,__xx__x62x__Type_Type1) :- 
  eval_and_unify(DCall1,'DCall') , 
  eval_and_unify(__xx__x62x__Type_Type1,[->,'Type','Type']).


/*
  (: DCall 
    (-> Type type Type))
*/


mc(iz,DCall2,__xx__x62x__Type__type_Type1) :- 
  eval_and_unify(DCall2,'DCall') , 
  eval_and_unify(__xx__x62x__Type__type_Type1,[->,'Type',type,'Type']).


/*
  (: DCall 
    (-> Type Type type Type))
*/


mc(iz,DCall3,__xx__x62x__Type_Type__type_Type1) :- 
  eval_and_unify(DCall3,'DCall') , 
  eval_and_unify( __xx__x62x__Type_Type__type_Type1, [
    ->, 'Type','Type',type,'Type']).


/*
  (: DCall 
    (-> Type Type Type type Type))
*/


mc(iz,DCall4,__xx__x62x__Type_Type_Type__type_Type1) :- 
  eval_and_unify(DCall4,'DCall') , 
  eval_and_unify( __xx__x62x__Type_Type_Type__type_Type1, [
    ->, 'Type','Type','Type',type,'Type']).


/*
  (: DCall 
    (-> Type Type Type Type type Type))
*/


mc(iz,DCall5,__xx__x62x__Type_Type_Type_Type__type_Type1) :- 
  eval_and_unify(DCall5,'DCall') , 
  eval_and_unify( __xx__x62x__Type_Type_Type_Type__type_Type1, [
    ->, 'Type','Type','Type','Type',type, 
    'Type']).


/*
;; DCall data constructors
*/
/*
  (: MkDCall 
    (-> 
      (-> $a) 
      (DCall $a)))
*/


mc(iz,MkDCall1,__xx__x62x____xx__x62x___a_DCall__a1) :- 
  eval_and_unify(MkDCall1,'MkDCall') , 
  eval_and_unify( __xx__x62x____xx__x62x___a_DCall__a1, [
    ->, 
    [->,_a], 
    ['DCall',_a]]).


/*
; Nullary
*/
/*
  (: MkDCall 
    (-> 
      (-> $a $b) $a 
      (DCall $a $b)))
*/


mc(iz,MkDCall2,__xx__x62x____xx__x62x___a__b__a_DCall__a__b1) :- 
  eval_and_unify(MkDCall2,'MkDCall') , 
  eval_and_unify( __xx__x62x____xx__x62x___a__b__a_DCall__a__b1, [
    ->, 
    [->,_a,_b], 
    _a, 
    ['DCall',_a,_b]]).


/*
; Unary
*/
/*
  (: MkDCall 
    (-> 
      (-> $a $b $c) $a $b 
      (DCall $a $b $c)))
*/


mc(iz,MkDCall3,__xx__x62x____xx__x62x___a__b__c__a__b_DCall__a__b__c1) :- 
  eval_and_unify(MkDCall3,'MkDCall') , 
  eval_and_unify( __xx__x62x____xx__x62x___a__b__c__a__b_DCall__a__b__c1, [
    ->, 
    [->,_a,_b,_c], _a,_b, 
    ['DCall',_a,_b,_c]]).


/*
; Binary
*/
/*
  (: MkDCall 
    (-> 
      (-> $a $b $c $d) $a $b $c 
      (DCall $a $b $c $d)))
*/


mc(iz,MkDCall4,__xx__x62x____xx__x62x___a__b__c__d__a__b__c_DCall__a__b__c__d1) :- 
  eval_and_unify(MkDCall4,'MkDCall') , 
  eval_and_unify( __xx__x62x____xx__x62x___a__b__c__d__a__b__c_DCall__a__b__c__d1, [
    ->, 
    [ ->, _a,_b,_c, 
      _d], _a,_b,_c, 
    [ 'DCall', _a,_b,_c, 
      _d]]).


/*
; Ternary
*/
/*
  (: MkDCall 
    (-> 
      (-> $a $b $c $d $e) $a $b $c $d 
      (DCall $a $b $c $d $e)))
*/


mc(iz,MkDCall5,__xx__x62x____xx__x62x___a__b__c__d__e__a__b__c__d_DCall__a__b__c__d__e1) :- 
  eval_and_unify(MkDCall5,'MkDCall') , 
  eval_and_unify( __xx__x62x____xx__x62x___a__b__c__d__e__a__b__c__d_DCall__a__b__c__d__e1, [
    ->, 
    [ ->, _a,_b,_c, 
      _d,_e], _a,_b,_c, 
    _d, 
    [ 'DCall', _a,_b,_c, 
      _d,_e]]).


/*
; Quaternary
*/
/*
  (: MkDCall 
    (-> 
      (-> $a $b $c $d $e $f) $a $b $c $d $e 
      (DCall $a $b $c $d $e $f)))
*/


mc(iz,MkDCall6,__xx__x62x____xx__x62x___a__b__c__d__e__f__a__b__c__d__e_DCall__a__b__c__d__e__f1) :- 
  eval_and_unify(MkDCall6,'MkDCall') , 
  eval_and_unify( __xx__x62x____xx__x62x___a__b__c__d__e__f__a__b__c__d__e_DCall__a__b__c__d__e__f1, [
    ->, 
    [ ->, _a,_b,_c, 
      _d,_e,_f], _a,_b,_c, 
    _d,_e, 
    [ 'DCall', _a,_b,_c, 
      _d,_e,_f]]).


/*
; Quinary
*/
/*
;; Run a nullary DCall
*/
/*
  (: DCall.run0 
    (-> 
      (DCall $a) $a))
*/


mc(iz,DCall_x46x_run01,__xx__x62x__DCall__a__a1) :- 
  eval_and_unify(DCall_x46x_run01,'DCall.run0') , 
  eval_and_unify( __xx__x62x__DCall__a__a1, [
    ->, 
    ['DCall',_a], 
    _a]).


/*
  (= (DCall.run0 (MkDCall $f))  
    ($f))
*/


mc('DCall.run0',MkDCall__f1,RetVal693) :- 
  eval_and_unify(MkDCall__f1,['MkDCall',_f]) , 
  eval_for1('%Undefined%',_,[_f],RetVal693).


/*
;; Run a unary DCall
*/
/*
  (: DCall.run1 
    (-> 
      (DCall $a $b) $b))
*/


mc(iz,DCall_x46x_run11,__xx__x62x__DCall__a__b__b1) :- 
  eval_and_unify(DCall_x46x_run11,'DCall.run1') , 
  eval_and_unify( __xx__x62x__DCall__a__b__b1, [
    ->, 
    ['DCall',_,_b], 
    _b]).


/*
  (= (DCall.run1 (MkDCall $f $x))  
    ($f $x))
*/


mc('DCall.run1',MkDCall__f__x1,RetVal694) :- 
  eval_and_unify(MkDCall__f__x1,['MkDCall',_f,_x]) , 
  eval_for1('%Undefined%',_,[_f,_x],RetVal694).


/*
;; Run a binary DCall
*/
/*
  (: DCall.run2 
    (-> 
      (DCall $a $b $c) $c))
*/


mc(iz,DCall_x46x_run21,__xx__x62x__DCall__a__b__c__c1) :- 
  eval_and_unify(DCall_x46x_run21,'DCall.run2') , 
  eval_and_unify( __xx__x62x__DCall__a__b__c__c1, [
    ->, 
    ['DCall',_,_,_c], 
    _c]).


/*
  (= (DCall.run2 (MkDCall $f $x $y))  
    ($f $x $y))
*/


mc('DCall.run2',MkDCall__f__x__y1,RetVal695) :- 
  eval_and_unify( MkDCall__f__x__y1, [
    'MkDCall', _f,_x,_y]) , 
  eval_for1( '%Undefined%', 
    _, 
    [_f,_x,_y], 
    RetVal695).


/*
;; Run a ternary DCall
*/
/*
  (: DCall.run3 
    (-> 
      (DCall $a $b $c $d) $d))
*/


mc(iz,DCall_x46x_run31,__xx__x62x__DCall__a__b__c__d__d1) :- 
  eval_and_unify(DCall_x46x_run31,'DCall.run3') , 
  eval_and_unify( __xx__x62x__DCall__a__b__c__d__d1, [
    ->, 
    [ 'DCall', _,_,_, 
      _d], 
    _d]).


/*
  (= (DCall.run3 (MkDCall $f $x $y $z))  
    ($f $x $y $z))
*/


mc('DCall.run3',MkDCall__f__x__y__z1,RetVal696) :- 
  eval_and_unify( MkDCall__f__x__y__z1, [
    'MkDCall', _f,_x,_y, 
    _z]) , 
  eval_for1( '%Undefined%', 
    _, 
    [_f,_x,_y,_z], 
    RetVal696).


/*
;; Run a Quaternary DCall
*/
/*
  (: DCall.run4 
    (-> 
      (DCall $a $b $c $d $e) $e))
*/


mc(iz,DCall_x46x_run41,__xx__x62x__DCall__a__b__c__d__e__e1) :- 
  eval_and_unify(DCall_x46x_run41,'DCall.run4') , 
  eval_and_unify( __xx__x62x__DCall__a__b__c__d__e__e1, [
    ->, 
    [ 'DCall', _,_,_, 
      _,_e], 
    _e]).


/*
  (= (DCall.run4 (MkDCall $f $x $y $z $w))  
    ($f $x $y $z $w))
*/


mc('DCall.run4',MkDCall__f__x__y__z__w1,RetVal697) :- 
  eval_and_unify( MkDCall__f__x__y__z__w1, [
    'MkDCall', _f,_x,_y, 
    _z,_w]) , 
  eval_for1( '%Undefined%', 
    _, 
    [ _f, _x,_y,_z, 
      _w], 
    RetVal697).


/*
;; Run a Quinary DCall
*/
/*
  (: DCall.run5 
    (-> 
      (DCall $a $b $c $d $e $f) $f))
*/


mc(iz,DCall_x46x_run51,__xx__x62x__DCall__a__b__c__d__e__f__f1) :- 
  eval_and_unify(DCall_x46x_run51,'DCall.run5') , 
  eval_and_unify( __xx__x62x__DCall__a__b__c__d__e__f__f1, [
    ->, 
    [ 'DCall', _,_,_, 
      _,_,_f], 
    _f]).


/*
  (= (DCall.run5 (MkDCall $g $x $y $z $w $v))  
    ($g $x $y $z $w $v))
*/


mc('DCall.run5',MkDCall__g__x__y__z__w__v1,RetVal698) :- 
  eval_and_unify( MkDCall__g__x__y__z__w__v1, [
    'MkDCall', _g,_x,_y, 
    _z,_w,_v]) , 
  eval_for1( '%Undefined%', 
    _, 
    [ _g, _x,_y,_z, 
      _w,_v], 
    RetVal698).


/*
;;;;;;;;;;;;;;;;
;; Test DCall ;;
;;;;;;;;;;;;;;;;
*/
/*
  (: foo 
    (-> Number))
*/


mc(iz,_foo1,__xx__x62x__Number1) :- 
  eval_and_unify(_foo1,foo) , 
  eval_and_unify(__xx__x62x__Number1,[->,'Number']).


/*
  (= (foo)  42)
*/


mc(foo,42):-true,true,true.


/*
  (: bar 
    (-> Bool String))
*/


mc(iz,_bar1,__xx__x62x__Bool_String1) :- 
  eval_and_unify(_bar1,bar) , 
  eval_and_unify(__xx__x62x__Bool_String1,[->,'Bool','String']).


/*
  (= (bar $x)  
    (if $x "True" "False"))
*/


mc(bar,_x18,RetVal700) :- 
  ensure_evaled('Bool',_x18,_x) , 
  s(if,_x,"True","False",RetVal700).


/*
  (: baz 
    (-> String Number Bool))
*/


mc(iz,_baz1,__xx__x62x__String_Number_Bool1) :- 
  eval_and_unify(_baz1,baz) , 
  eval_and_unify(__xx__x62x__String_Number_Bool1,[->,'String','Number','Bool']).


/*
  (= (baz $x $y)  
    (and 
      (== $x "abc") 
      (== $y 42)))
*/


mc(baz,_x19,_y8,RetVal701) :- 
  ensure_evaled('String',_x19,_x) , 
  ensure_evaled('Number',_y8,_y) , 
  s(==,_x,"abc",RetVal701) , 
  s(==,_y,42,RetVal701).


/*
  (: qux 
    (-> Number Bool String Atom))
*/


mc(iz,_qux1,__xx__x62x__Number_Bool_String_Atom1) :- 
  eval_and_unify(_qux1,qux) , 
  eval_and_unify( __xx__x62x__Number_Bool_String_Atom1, [
    ->, 'Number','Bool','String','Atom']).


/*
  (= (qux $x $y $z)  
    (R $x $y $z))
*/


mc(qux,_x20,_y9,_z5,RetVal702) :- 
  ensure_evaled('Number',_x20,_x) , 
  ensure_evaled('Bool',_y9,_y) , 
  ensure_evaled('String',_z5,_z) , 
  s('R',_x,_y,_z,RetVal702).


/*
  (: quux 
    (-> Number Bool String Number Atom))
*/


mc(iz,_quux1,__xx__x62x__Number_Bool_String_Number_Atom1) :- 
  eval_and_unify(_quux1,quux) , 
  eval_and_unify( __xx__x62x__Number_Bool_String_Number_Atom1, [
    ->, 'Number','Bool','String', 
    'Number','Atom']).


/*
  (= (quux $x $y $z $w)  
    (RS $x $y $z $w))
*/


mc(quux,_x21,_y10,_z6,_w3,RetVal703) :- 
  ensure_evaled('Number',_x21,_x) , 
  ensure_evaled('Bool',_y10,_y) , 
  ensure_evaled('String',_z6,_z) , 
  ensure_evaled('Number',_w3,_w) , 
  s('RS',_x,_y,_z,_w,RetVal703).


/*
  (: corge 
    (-> Number Bool String Number Bool Atom))
*/


mc(iz,_corge1,__xx__x62x__Number_Bool_String_Number_Bool_Atom1) :- 
  eval_and_unify(_corge1,corge) , 
  eval_and_unify( __xx__x62x__Number_Bool_String_Number_Bool_Atom1, [
    ->, 'Number','Bool','String', 
    'Number','Bool','Atom']).


/*
  (= (corge $x $y $z $w $v)  
    (T $x $y $z $w $v))
*/


mc(corge,_x22,_y11,_z7,_w4,_v1,RetVal704) :- 
  ensure_evaled('Number',_x22,_x) , 
  ensure_evaled('Bool',_y11,_y) , 
  ensure_evaled('String',_z7,_z) , 
  ensure_evaled('Number',_w4,_w) , 
  ensure_evaled('Bool',_v1,_v) , 
  s('T',_x,_y,_z,_w,_v,RetVal704).


/*
;; Test foo wrapped in a DCall
*/
/*
  ! (assertEqual 
      (DCall.run0 (MkDCall foo)) 42)
*/


top_call_33:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_14 =  
                      [ assertEqual, 
                        [ 'DCall.run0', 
                          ['MkDCall',foo]], 
                        42]),
                   (loonit_assert_source_tf_empty( src(Src_14), 
                      FARL_27, 
                      FARL_28, 
                        ((
                         (findall_ne( FA_27, 
                            true,s('MkDCall',foo,Call_c46_run0_Foo),s('DCall.run0',Call_c46_run0_Foo,FA_27), 
                            FARL_27)),
                         (findall_ne(42,true,FARL_28))  )), 
                      equal_enough_for_test(FARL_27,FARL_28), 
                      Equal_enough_for_test))  ))).


<span class="ansi36"></span><span class="ansi36"></span><span class="ansi36">

( ==> ( 
   top_call_33:- do_metta_runtime( Equal_enough_for_test13, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'DCall.run0', 
                             ['MkDCall',foo]], 
                           42]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test12, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S, 
                               true,s('MkDCall',foo,Call_c46_run0_Foo9),s('DCall.run0',Call_c46_run0_Foo9,S), 
                               Equal_enough_for_test12)),
                            (findall_ne(42,true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test12,Test_Ne_True), 
                         Equal_enough_for_test13))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_33)).


</span>top_call :-
    time(top_call_33).


/*
;; Test bar wrapped in a DCall
*/
/*
  ! (assertEqual 
      (DCall.run1 (MkDCall bar True)) "True")
*/


top_call_34:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_15 =  
                      [ assertEqual, 
                        [ 'DCall.run1', 
                          ['MkDCall',bar,'True']], 
                        "True"]),
                   (loonit_assert_source_tf_empty( src(Src_15), 
                      FARL_29, 
                      FARL_30, 
                        ((
                         (findall_ne( FA_29, 
                              ((
                               (true),
                               (  ((
                                   (s('MkDCall',bar,'True',Call_c46_run1_True)),
                                   (s('DCall.run1',Call_c46_run1_True,FA_29))  )))  )), 
                            FARL_29)),
                         (findall_ne("True",true,FARL_30))  )), 
                      equal_enough_for_test(FARL_29,FARL_30), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi35"></span><span class="ansi1 ansi35"></span><span class="ansi1 ansi35">

( ==> ( 
   top_call_34:- do_metta_runtime( Equal_enough_for_test13, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'DCall.run1', 
                             ['MkDCall',bar,'True']], 
                           "True"]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test12, 
                         Test_Ne_True11, 
                           ((
                            (findall_ne( S, 
                                 ((
                                  (true),
                                  (  ((
                                      (s('MkDCall',bar,'True',Call_c46_run1_True9)),
                                      (s('DCall.run1',Call_c46_run1_True9,S))  )))  )), 
                               Equal_enough_for_test12)),
                            (findall_ne("True",true,Test_Ne_True11))  )), 
                         equal_enough_for_test(Equal_enough_for_test12,Test_Ne_True11), 
                         Equal_enough_for_test13))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_34)).


</span>top_call :-
    time(top_call_34).


/*
;; Test baz wrapped in a DCall
*/
/*
  ! (assertEqual 
      (DCall.run2 (MkDCall baz "abc" 42)) True)
*/


top_call_35:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_16 =  
                      [ assertEqual, 
                        [ 'DCall.run2', 
                          [ 'MkDCall', baz,"abc",42]], 
                        'True']),
                   (loonit_assert_source_tf_empty( src(Src_16), 
                      FARL_31, 
                      FARL_32, 
                        ((
                         (findall_ne( FA_31, 
                              ((
                               (true),
                               (s('MkDCall',baz,"abc",42,Call_c46_run2),s('DCall.run2',Call_c46_run2,FA_31))  )), 
                            FARL_31)),
                         (findall_ne('True',true,FARL_32))  )), 
                      equal_enough_for_test(FARL_31,FARL_32), 
                      Equal_enough_for_test))  ))).


<span class="ansi92"></span><span class="ansi92"></span><span class="ansi92">

( ==> ( 
   top_call_35:- do_metta_runtime( Equal_enough_for_test11, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'DCall.run2', 
                             [ 'MkDCall', baz,"abc",42]], 
                           'True']),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test10, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S, 
                                 ((
                                  (true),
                                  (  ((
                                      (s('MkDCall',baz,"abc",42,Call_c46_run28)),
                                      (s('DCall.run2',Call_c46_run28,S))  )))  )), 
                               Equal_enough_for_test10)),
                            (findall_ne('True',true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test10,Test_Ne_True), 
                         Equal_enough_for_test11))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_35)).


</span>top_call :-
    time(top_call_35).


/*
;; Test qux wrapped in a DCall
*/
/*
  ! (assertEqual 
      (DCall.run3 (MkDCall qux 42 True "abc")) 
      (R 42 True "abc"))
*/


top_call_36:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_17 =  
                      [ assertEqual, 
                        [ 'DCall.run3', 
                          [ 'MkDCall', qux,42,'True',"abc"]], 
                        [ 'R', 42,'True',"abc"]]),
                   (loonit_assert_source_tf_empty( src(Src_17), 
                      FARL_33, 
                      FARL_34, 
                        ((
                         (findall_ne( FA_33, 
                              ((
                               (true),
                               (  ((
                                   (s('MkDCall',qux,42,'True',"abc",Call_c46_run3_Abc)),
                                   (s('DCall.run3',Call_c46_run3_Abc,FA_33))  )))  )), 
                            FARL_33)),
                         (findall_ne(FA_34,(true,s('R',42,'True',"abc",FA_34)),FARL_34))  )), 
                      equal_enough_for_test(FARL_33,FARL_34), 
                      Equal_enough_for_test))  ))).


<span class="ansi96"></span><span class="ansi96"></span><span class="ansi96">

( ==> ( 
   top_call_36:- do_metta_runtime( Equal_enough_for_test15, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'DCall.run3', 
                             [ 'MkDCall', qux,42,'True',"abc"]], 
                           [ 'R', 42,'True',"abc"]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test14, 
                         Test_Ne, 
                           ((
                            (findall_ne( S, 
                                 ((
                                  (true),
                                  (  ((
                                      (s('MkDCall',qux,42,'True',"abc",Call_c46_run3_Abc11)),
                                      (s('DCall.run3',Call_c46_run3_Abc11,S))  )))  )), 
                               Equal_enough_for_test14)),
                            (findall_ne( Abc13, 
                               true,s('R',42,'True',"abc",Abc13), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test14,Test_Ne), 
                         Equal_enough_for_test15))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_36)).


</span>top_call :-
    time(top_call_36).


/*
;; Test quux wrapped in a DCall
*/
/*
  ! (assertEqual 
      (DCall.run4 (MkDCall quux 42 True "abc" 42)) 
      (RS 42 True "abc" 42))
*/


top_call_37:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_18 =  
                      [ assertEqual, 
                        [ 'DCall.run4', 
                          [ 'MkDCall', quux,42,'True',"abc",42]], 
                        [ 'RS', 42,'True',"abc",42]]),
                   (loonit_assert_source_tf_empty( src(Src_18), 
                      FARL_35, 
                      FARL_36, 
                        ((
                         (findall_ne( FA_35, 
                              ((
                               (true),
                               (  ((
                                   (s('MkDCall',quux,42,'True',"abc",42,Call_c46_run4)),
                                   (s('DCall.run4',Call_c46_run4,FA_35))  )))  )), 
                            FARL_35)),
                         (findall_ne(FA_36,(true,s('RS',42,'True',"abc",42,FA_36)),FARL_36))  )), 
                      equal_enough_for_test(FARL_35,FARL_36), 
                      Equal_enough_for_test))  ))).


<span class="ansi92"></span><span class="ansi92"></span><span class="ansi92">

( ==> ( 
   top_call_37:- do_metta_runtime( Equal_enough_for_test13, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'DCall.run4', 
                             [ 'MkDCall', quux,42,'True',"abc",42]], 
                           [ 'RS', 42,'True',"abc",42]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test12, 
                         Test_Ne, 
                           ((
                            (findall_ne( S, 
                                 ((
                                  (true),
                                  (  ((
                                      (s('MkDCall',quux,42,'True',"abc",42,Call_c46_run411)),
                                      (s('DCall.run4',Call_c46_run411,S))  )))  )), 
                               Equal_enough_for_test12)),
                            (findall_ne( S16, 
                               true,s('RS',42,'True',"abc",42,S16), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test12,Test_Ne), 
                         Equal_enough_for_test13))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_37)).


</span>top_call :-
    time(top_call_37).


/*
;; Test corge wrapped in a DCall
*/
/*
  ! (assertEqual 
      (DCall.run5 (MkDCall corge 42 True "abc" 42 False)) 
      (T 42 True "abc" 42 False))
*/


top_call_38:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_19 =  
                      [ assertEqual, 
                        [ 'DCall.run5', 
                          [ 'MkDCall', corge,42,'True',"abc",42, 
                            'False']], 
                        [ 'T', 42,'True',"abc",42,'False']]),
                   (loonit_assert_source_tf_empty( src(Src_19), 
                      FARL_37, 
                      FARL_38, 
                        ((
                         (findall_ne( FA_37, 
                              ((
                               (true),
                               (  ((
                                   (s('MkDCall',corge,42,'True',"abc",42,'False',Call_c46_run5_False)),
                                   (s('DCall.run5',Call_c46_run5_False,FA_37))  )))  )), 
                            FARL_37)),
                         (findall_ne(FA_38,(true,s('T',42,'True',"abc",42,'False',FA_38)),FARL_38))  )), 
                      equal_enough_for_test(FARL_37,FARL_38), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi32"></span><span class="ansi1 ansi32"></span><span class="ansi1 ansi32">

( ==> ( 
   top_call_38:- do_metta_runtime( Equal_enough_for_test15, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'DCall.run5', 
                             [ 'MkDCall', corge,42,'True',"abc",42, 
                               'False']], 
                           [ 'T', 42,'True',"abc",42,'False']]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test14, 
                         Test_Ne, 
                           ((
                            (findall_ne( S, 
                                 ((
                                  (true),
                                  (  ((
                                      (s('MkDCall',corge,42,'True',"abc",42,'False',Call_c46_run5_False11)),
                                      (s('DCall.run5',Call_c46_run5_False11,S))  )))  )), 
                               Equal_enough_for_test14)),
                            (findall_ne( False13, 
                               true,s('T',42,'True',"abc",42,'False',False13), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test14,Test_Ne), 
                         Equal_enough_for_test15))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_38)).


</span>top_call :-
    time(top_call_38).


/*
;;;;;;;;;;;;;;;;;;;;
;; Estimate DCall ;;
;;;;;;;;;;;;;;;;;;;;
*/
/*
;; Data structure containing a value estimating the probability of
;; success associated to a DCall
*/
/*
;; Parameterized type representing a pair of estimate and assocated
;; delayed call of a certain type signature, operator followed by
;; operands
*/
/*
  (: EDCall 
    (-> Type Type))
*/


mc(iz,EDCall1,__xx__x62x__Type_Type2) :- 
  eval_and_unify(EDCall1,'EDCall') , 
  eval_and_unify(__xx__x62x__Type_Type2,[->,'Type','Type']).


/*
  (: EDCall 
    (-> Type type Type))
*/


mc(iz,EDCall2,__xx__x62x__Type__type_Type2) :- 
  eval_and_unify(EDCall2,'EDCall') , 
  eval_and_unify(__xx__x62x__Type__type_Type2,[->,'Type',type,'Type']).


/*
  (: EDCall 
    (-> Type Type type Type))
*/


mc(iz,EDCall3,__xx__x62x__Type_Type__type_Type2) :- 
  eval_and_unify(EDCall3,'EDCall') , 
  eval_and_unify( __xx__x62x__Type_Type__type_Type2, [
    ->, 'Type','Type',type,'Type']).


/*
  (: EDCall 
    (-> Type Type Type type Type))
*/


mc(iz,EDCall4,__xx__x62x__Type_Type_Type__type_Type2) :- 
  eval_and_unify(EDCall4,'EDCall') , 
  eval_and_unify( __xx__x62x__Type_Type_Type__type_Type2, [
    ->, 'Type','Type','Type',type,'Type']).


/*
  (: EDCall 
    (-> Type Type Type Type type Type))
*/


mc(iz,EDCall5,__xx__x62x__Type_Type_Type_Type__type_Type2) :- 
  eval_and_unify(EDCall5,'EDCall') , 
  eval_and_unify( __xx__x62x__Type_Type_Type_Type__type_Type2, [
    ->, 'Type','Type','Type','Type',type, 
    'Type']).


/*
;; EDCall data constructors
*/
/*
  (: MkEDCall 
    (-> Number 
      (DCall $a) 
      (EDCall $a)))
*/


mc(iz,MkEDCall1,__xx__x62x__Number_DCall__a_EDCall__a1) :- 
  eval_and_unify(MkEDCall1,'MkEDCall') , 
  eval_and_unify( __xx__x62x__Number_DCall__a_EDCall__a1, [
    ->, 
    'Number', 
    ['DCall',_a], 
    ['EDCall',_a]]).


/*
  (: MkEDCall 
    (-> Number 
      (DCall $a $b) 
      (EDCall $a $b)))
*/


mc(iz,MkEDCall2,__xx__x62x__Number_DCall__a__b_EDCall__a__b1) :- 
  eval_and_unify(MkEDCall2,'MkEDCall') , 
  eval_and_unify( __xx__x62x__Number_DCall__a__b_EDCall__a__b1, [
    ->, 
    'Number', 
    ['DCall',_a,_b], 
    ['EDCall',_a,_b]]).


/*
  (: MkEDCall 
    (-> Number 
      (DCall $a $b $c) 
      (EDCall $a $b $c)))
*/


mc(iz,MkEDCall3,__xx__x62x__Number_DCall__a__b__c_EDCall__a__b__c1) :- 
  eval_and_unify(MkEDCall3,'MkEDCall') , 
  eval_and_unify( __xx__x62x__Number_DCall__a__b__c_EDCall__a__b__c1, [
    ->, 
    'Number', 
    ['DCall',_a,_b,_c], 
    ['EDCall',_a,_b,_c]]).


/*
  (: MkEDCall 
    (-> Number 
      (DCall $a $b $c $d) 
      (EDCall $a $b $c $d)))
*/


mc(iz,MkEDCall4,__xx__x62x__Number_DCall__a__b__c__d_EDCall__a__b__c__d1) :- 
  eval_and_unify(MkEDCall4,'MkEDCall') , 
  eval_and_unify( __xx__x62x__Number_DCall__a__b__c__d_EDCall__a__b__c__d1, [
    ->, 
    'Number', 
    [ 'DCall', _a,_b,_c, 
      _d], 
    [ 'EDCall', _a,_b,_c, 
      _d]]).


/*
  (: MkEDCall 
    (-> Number 
      (DCall $a $b $c $d $e) 
      (EDCall $a $b $c $d $e)))
*/


mc(iz,MkEDCall5,__xx__x62x__Number_DCall__a__b__c__d__e_EDCall__a__b__c__d__e1) :- 
  eval_and_unify(MkEDCall5,'MkEDCall') , 
  eval_and_unify( __xx__x62x__Number_DCall__a__b__c__d__e_EDCall__a__b__c__d__e1, [
    ->, 
    'Number', 
    [ 'DCall', _a,_b,_c, 
      _d,_e], 
    [ 'EDCall', _a,_b,_c, 
      _d,_e]]).


/*
  (: MkEDCall 
    (-> Number 
      (DCall $a $b $c $d $e $f) 
      (EDCall $a $b $c $d $e $f)))
*/


mc(iz,MkEDCall6,__xx__x62x__Number_DCall__a__b__c__d__e__f_EDCall__a__b__c__d__e__f1) :- 
  eval_and_unify(MkEDCall6,'MkEDCall') , 
  eval_and_unify( __xx__x62x__Number_DCall__a__b__c__d__e__f_EDCall__a__b__c__d__e__f1, [
    ->, 
    'Number', 
    [ 'DCall', _a,_b,_c, 
      _d,_e,_f], 
    [ 'EDCall', _a,_b,_c, 
      _d,_e,_f]]).


/*
;; Less than predicate over EDCall objects of same signature.  Compare
;; their estimates.
*/
/*
  (: EDCall.lt0 
    (-> 
      (EDCall $a) 
      (EDCall $a) Bool))
*/


mc(iz,EDCall_x46x_lt01,__xx__x62x__EDCall__a_EDCall__a_Bool1) :- 
  eval_and_unify(EDCall_x46x_lt01,'EDCall.lt0') , 
  eval_and_unify( __xx__x62x__EDCall__a_EDCall__a_Bool1, [
    ->, 
    ['EDCall',_a], 
    ['EDCall',_a], 
    'Bool']).


/*
  (= (EDCall.lt0 (MkEDCall $le (MkDCall $lf)) (MkEDCall $re (MkDCall $rf)))  
    (< $le $re))
*/


mc('EDCall.lt0',MkEDCall__le_MkDCall__lf1,MkEDCall__re_MkDCall__rf1,RetVal705) :- 
  eval_and_unify( MkEDCall__le_MkDCall__lf1, [
    'MkEDCall', 
    _le, 
    ['MkDCall',_]]) , 
  eval_and_unify( MkEDCall__re_MkDCall__rf1, [
    'MkEDCall', 
    _re, 
    ['MkDCall',_]]) , 
  s(<,_le,_re,RetVal705).


/*
  (: EDCall.lt1 
    (-> 
      (EDCall $a $b) 
      (EDCall $a $b) Bool))
*/


mc(iz,EDCall_x46x_lt11,__xx__x62x__EDCall__a__b_EDCall__a__b_Bool1) :- 
  eval_and_unify(EDCall_x46x_lt11,'EDCall.lt1') , 
  eval_and_unify( __xx__x62x__EDCall__a__b_EDCall__a__b_Bool1, [
    ->, 
    ['EDCall',_a,_b], 
    ['EDCall',_a,_b], 
    'Bool']).


/*
  (= (EDCall.lt1 (MkEDCall $le (MkDCall $lf $lx)) (MkEDCall $re (MkDCall $rf $rx)))  
    (< $le $re))
*/


mc('EDCall.lt1',MkEDCall__le_MkDCall__lf__lx1,MkEDCall__re_MkDCall__rf__rx1,RetVal706) :- 
  eval_and_unify( MkEDCall__le_MkDCall__lf__lx1, [
    'MkEDCall', 
    _le, 
    ['MkDCall',_,_]]) , 
  eval_and_unify( MkEDCall__re_MkDCall__rf__rx1, [
    'MkEDCall', 
    _re, 
    ['MkDCall',_,_]]) , 
  s(<,_le,_re,RetVal706).


/*
  (: EDCall.lt2 
    (-> 
      (EDCall $a $b $c) 
      (EDCall $a $b $c) Bool))
*/


mc(iz,EDCall_x46x_lt21,__xx__x62x__EDCall__a__b__c_EDCall__a__b__c_Bool1) :- 
  eval_and_unify(EDCall_x46x_lt21,'EDCall.lt2') , 
  eval_and_unify( __xx__x62x__EDCall__a__b__c_EDCall__a__b__c_Bool1, [
    ->, 
    ['EDCall',_a,_b,_c], 
    ['EDCall',_a,_b,_c], 
    'Bool']).


/*
  (= (EDCall.lt2 (MkEDCall $le (MkDCall $lf $lx $ly)) (MkEDCall $re (MkDCall $rf $rx $ry)))  
    (< $le $re))
*/


mc( 'EDCall.lt2', 
  MkEDCall__le_MkDCall__lf__lx__ly1,  MkEDCall__re_MkDCall__rf__rx__ry1, RetVal707) :- 
  eval_and_unify( MkEDCall__le_MkDCall__lf__lx__ly1, [
    'MkEDCall', 
    _le, 
    ['MkDCall',_,_,_]]) , 
  eval_and_unify( MkEDCall__re_MkDCall__rf__rx__ry1, [
    'MkEDCall', 
    _re, 
    ['MkDCall',_,_,_]]) , 
  s(<,_le,_re,RetVal707).


/*
  (: EDCall.lt3 
    (-> 
      (EDCall $a $b $c $d) 
      (EDCall $a $b $c $d) Bool))
*/


mc(iz,EDCall_x46x_lt31,__xx__x62x__EDCall__a__b__c__d_EDCall__a__b__c__d_Bool1) :- 
  eval_and_unify(EDCall_x46x_lt31,'EDCall.lt3') , 
  eval_and_unify( __xx__x62x__EDCall__a__b__c__d_EDCall__a__b__c__d_Bool1, [
    ->, 
    [ 'EDCall', _a,_b,_c, 
      _d], 
    [ 'EDCall', _a,_b,_c, 
      _d], 
    'Bool']).


/*
  (= (EDCall.lt3 (MkEDCall $le (MkDCall $lf $lx $ly $lz)) (MkEDCall $re (MkDCall $rf $rx $ry $rz)))  
    (< $le $re))
*/


mc( 'EDCall.lt3', 
  MkEDCall__le_MkDCall__lf__lx__ly__lz1,  MkEDCall__re_MkDCall__rf__rx__ry__rz1, RetVal708) :- 
  eval_and_unify( MkEDCall__le_MkDCall__lf__lx__ly__lz1, [
    'MkEDCall', 
    _le, 
    [ 'MkDCall', _,_,_, 
      _]]) , 
  eval_and_unify( MkEDCall__re_MkDCall__rf__rx__ry__rz1, [
    'MkEDCall', 
    _re, 
    [ 'MkDCall', _,_,_, 
      _]]) , 
  s(<,_le,_re,RetVal708).


/*
  (: EDCall.lt4 
    (-> 
      (EDCall $a $b $c $d $e) 
      (EDCall $a $b $c $d $e) Bool))
*/


mc(iz,EDCall_x46x_lt41,__xx__x62x__EDCall__a__b__c__d__e_EDCall__a__b__c__d__e_Bool1) :- 
  eval_and_unify(EDCall_x46x_lt41,'EDCall.lt4') , 
  eval_and_unify( __xx__x62x__EDCall__a__b__c__d__e_EDCall__a__b__c__d__e_Bool1, [
    ->, 
    [ 'EDCall', _a,_b,_c, 
      _d,_e], 
    [ 'EDCall', _a,_b,_c, 
      _d,_e], 
    'Bool']).


/*
  (= (EDCall.lt4 (MkEDCall $le (MkDCall $lf $lx $ly $lz $lw)) (MkEDCall $re (MkDCall $rf $rx $ry $rz $rw)))  
    (< $le $re))
*/


mc( 'EDCall.lt4', 
  MkEDCall__le_MkDCall__lf__lx__ly__lz__lw1,  MkEDCall__re_MkDCall__rf__rx__ry__rz__rw1, RetVal709) :- 
  eval_and_unify( MkEDCall__le_MkDCall__lf__lx__ly__lz__lw1, [
    'MkEDCall', 
    _le, 
    [ 'MkDCall', _,_,_, 
      _,_]]) , 
  eval_and_unify( MkEDCall__re_MkDCall__rf__rx__ry__rz__rw1, [
    'MkEDCall', 
    _re, 
    [ 'MkDCall', _,_,_, 
      _,_]]) , 
  s(<,_le,_re,RetVal709).


/*
  (: EDCall.lt5 
    (-> 
      (EDCall $a $b $c $d $e $f) 
      (EDCall $a $b $c $d $e $f) Bool))
*/


mc(iz,EDCall_x46x_lt51,__xx__x62x__EDCall__a__b__c__d__e__f_EDCall__a__b__c__d__e__f_Bool1) :- 
  eval_and_unify(EDCall_x46x_lt51,'EDCall.lt5') , 
  eval_and_unify( __xx__x62x__EDCall__a__b__c__d__e__f_EDCall__a__b__c__d__e__f_Bool1, [
    ->, 
    [ 'EDCall', _a,_b,_c, 
      _d,_e,_f], 
    [ 'EDCall', _a,_b,_c, 
      _d,_e,_f], 
    'Bool']).


/*
  (= (EDCall.lt5 (MkEDCall $le (MkDCall $lg $lx $ly $lz $lw $lf)) (MkEDCall $re (MkDCall $rg $rx $ry $rz $rw $rf)))  
    (< $le $re))
*/


mc( 'EDCall.lt5', 
  MkEDCall__le_MkDCall__lg__lx__ly__lz__lw__lf1,  MkEDCall__re_MkDCall__rg__rx__ry__rz__rw__rf1, RetVal710) :- 
  eval_and_unify( MkEDCall__le_MkDCall__lg__lx__ly__lz__lw__lf1, [
    'MkEDCall', 
    _le, 
    [ 'MkDCall', _,_,_, 
      _,_,_]]) , 
  eval_and_unify( MkEDCall__re_MkDCall__rg__rx__ry__rz__rw__rf1, [
    'MkEDCall', 
    _re, 
    [ 'MkDCall', _,_,_, 
      _,_,_]]) , 
  s(<,_le,_re,RetVal710).


/*
;; Test EDCall
*/
/*
  ! (assertEqual 
      (EDCall.lt0 
        (MkEDCall 0.9 
          (MkDCall foo)) 
        (MkEDCall 0.2 
          (MkDCall foo))) False)
*/


top_call_39:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_20 =  
                      [ assertEqual, 
                        [ 'EDCall.lt0', 
                          [ 'MkEDCall', 
                            0.9, 
                            ['MkDCall',foo]], 
                          [ 'MkEDCall', 
                            0.2, 
                            ['MkDCall',foo]]], 
                        'False']),
                   (loonit_assert_source_tf_empty( src(Src_20), 
                      FARL_39, 
                      FARL_40, 
                        ((
                         (findall_ne( FA_39, 
                            ( s('MkDCall',foo,Foo)  ,
                              s('MkEDCall',0.9,Foo,Call_c46_lt0) , 
                              s('MkDCall',foo,Foo2) , 
                              s('MkEDCall',0.2,Foo2,S) , 
                              s('EDCall.lt0',Call_c46_lt0,S,FA_39)), 
                            FARL_39)),
                         (findall_ne('False',true,FARL_40))  )), 
                      equal_enough_for_test(FARL_39,FARL_40), 
                      Equal_enough_for_test))  ))).


<span class="ansi36"></span><span class="ansi36"></span><span class="ansi36">

( ==> ( 
   top_call_39:- do_metta_runtime( Equal_enough_for_test17, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'EDCall.lt0', 
                             [ 'MkEDCall', 
                               0.9, 
                               ['MkDCall',foo]], 
                             [ 'MkEDCall', 
                               0.2, 
                               ['MkDCall',foo]]], 
                           'False']),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test16, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S19, 
                               ( s('MkDCall',foo,Foo11)  ,
                                 s('MkEDCall',0.9,Foo11,Call_c46_lt013) , 
                                 s('MkDCall',foo,Foo12) , 
                                 s('MkEDCall',0.2,Foo12,S14) , 
                                 s('EDCall.lt0',Call_c46_lt013,S14,S19)), 
                               Equal_enough_for_test16)),
                            (findall_ne('False',true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test16,Test_Ne_True), 
                         Equal_enough_for_test17))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_39)).


</span>top_call :-
    time(top_call_39).


/*
  ! (assertEqual 
      (EDCall.lt1 
        (MkEDCall 0.3 
          (MkDCall bar False)) 
        (MkEDCall 0.6 
          (MkDCall bar True))) True)
*/


top_call_40:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_21 =  
                      [ assertEqual, 
                        [ 'EDCall.lt1', 
                          [ 'MkEDCall', 
                            0.3, 
                            ['MkDCall',bar,'False']], 
                          [ 'MkEDCall', 
                            0.6, 
                            ['MkDCall',bar,'True']]], 
                        'True']),
                   (loonit_assert_source_tf_empty( src(Src_21), 
                      FARL_41, 
                      FARL_42, 
                        ((
                         (findall_ne( FA_41, 
                            ( s('MkDCall',bar,'False',False)  ,
                              s('MkEDCall',0.3,False,Call_c46_lt1) , 
                              s('MkDCall',bar,'True',True) , 
                              s('MkEDCall',0.6,True,S) , 
                              s('EDCall.lt1',Call_c46_lt1,S,FA_41)), 
                            FARL_41)),
                         (findall_ne('True',true,FARL_42))  )), 
                      equal_enough_for_test(FARL_41,FARL_42), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi32"></span><span class="ansi1 ansi32"></span><span class="ansi1 ansi32">

( ==> ( 
   top_call_40:- do_metta_runtime( Equal_enough_for_test17, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'EDCall.lt1', 
                             [ 'MkEDCall', 
                               0.3, 
                               ['MkDCall',bar,'False']], 
                             [ 'MkEDCall', 
                               0.6, 
                               ['MkDCall',bar,'True']]], 
                           'True']),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test16, 
                         Test_Ne_True15, 
                           ((
                            (findall_ne( S19, 
                               ( s('MkDCall',bar,'False',False11)  ,
                                 s('MkEDCall',0.3,False11,Call_c46_lt113) , 
                                 s('MkDCall',bar,'True',True12) , 
                                 s('MkEDCall',0.6,True12,S14) , 
                                 s('EDCall.lt1',Call_c46_lt113,S14,S19)), 
                               Equal_enough_for_test16)),
                            (findall_ne('True',true,Test_Ne_True15))  )), 
                         equal_enough_for_test(Equal_enough_for_test16,Test_Ne_True15), 
                         Equal_enough_for_test17))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_40)).


</span>top_call :-
    time(top_call_40).


/*
  ! (assertEqual 
      (EDCall.lt2 
        (MkEDCall 0.4 
          (MkDCall baz "abc" 42)) 
        (MkEDCall 0.5 
          (MkDCall baz "def" 24))) True)
*/


top_call_41:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_22 =  
                      [ assertEqual, 
                        [ 'EDCall.lt2', 
                          [ 'MkEDCall', 
                            0.4, 
                            [ 'MkDCall', baz,"abc",42]], 
                          [ 'MkEDCall', 
                            0.5, 
                            [ 'MkDCall', baz,"def",24]]], 
                        'True']),
                   (loonit_assert_source_tf_empty( src(Src_22), 
                      FARL_43, 
                      FARL_44, 
                        ((
                         (findall_ne( FA_43, 
                            ( s('MkDCall',baz,"abc",42,S7)  ,
                              s('MkEDCall',0.4,S7,Call_c46_lt2) , 
                              s('MkDCall',baz,"def",24,S8) , 
                              s('MkEDCall',0.5,S8,S) , 
                              s('EDCall.lt2',Call_c46_lt2,S,FA_43)), 
                            FARL_43)),
                         (findall_ne('True',true,FARL_44))  )), 
                      equal_enough_for_test(FARL_43,FARL_44), 
                      Equal_enough_for_test))  ))).


<span class="ansi92"></span><span class="ansi92"></span><span class="ansi92">

( ==> ( 
   top_call_41:- do_metta_runtime( Equal_enough_for_test15, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'EDCall.lt2', 
                             [ 'MkEDCall', 
                               0.4, 
                               [ 'MkDCall', baz,"abc",42]], 
                             [ 'MkEDCall', 
                               0.5, 
                               [ 'MkDCall', baz,"def",24]]], 
                           'True']),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test14, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S19, 
                               ( s('MkDCall',baz,"abc",42,S17)  ,
                                 s('MkEDCall',0.4,S17,Call_c46_lt211) , 
                                 s('MkDCall',baz,"def",24,S18) , 
                                 s('MkEDCall',0.5,S18,S12) , 
                                 s('EDCall.lt2',Call_c46_lt211,S12,S19)), 
                               Equal_enough_for_test14)),
                            (findall_ne('True',true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test14,Test_Ne_True), 
                         Equal_enough_for_test15))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_41)).


</span>top_call :-
    time(top_call_41).


/*
  ! (assertEqual 
      (EDCall.lt3 
        (MkEDCall 0.2 
          (MkDCall qux 42 True "abc")) 
        (MkEDCall 0.1 
          (MkDCall qux 24 False "def"))) False)
*/


top_call_42:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_23 =  
                      [ assertEqual, 
                        [ 'EDCall.lt3', 
                          [ 'MkEDCall', 
                            0.2, 
                            [ 'MkDCall', qux,42,'True',"abc"]], 
                          [ 'MkEDCall', 
                            0.1, 
                            [ 'MkDCall', qux,24,'False',"def"]]], 
                        'False']),
                   (loonit_assert_source_tf_empty( src(Src_23), 
                      FARL_45, 
                      FARL_46, 
                        ((
                         (findall_ne( FA_45, 
                            ( s('MkDCall',qux,42,'True',"abc",Abc)  ,
                              s('MkEDCall',0.2,Abc,Call_c46_lt3) , 
                              s('MkDCall',qux,24,'False',"def",Def) , 
                              s('MkEDCall',0.1,Def,S) , 
                              s('EDCall.lt3',Call_c46_lt3,S,FA_45)), 
                            FARL_45)),
                         (findall_ne('False',true,FARL_46))  )), 
                      equal_enough_for_test(FARL_45,FARL_46), 
                      Equal_enough_for_test))  ))).


<span class="ansi96"></span><span class="ansi96"></span><span class="ansi96">

( ==> ( 
   top_call_42:- do_metta_runtime( Equal_enough_for_test17, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'EDCall.lt3', 
                             [ 'MkEDCall', 
                               0.2, 
                               [ 'MkDCall', qux,42,'True',"abc"]], 
                             [ 'MkEDCall', 
                               0.1, 
                               [ 'MkDCall', qux,24,'False',"def"]]], 
                           'False']),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test16, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S19, 
                               ( s('MkDCall',qux,42,'True',"abc",Abc11)  ,
                                 s('MkEDCall',0.2,Abc11,Call_c46_lt313) , 
                                 s('MkDCall',qux,24,'False',"def",Def12) , 
                                 s('MkEDCall',0.1,Def12,S14) , 
                                 s('EDCall.lt3',Call_c46_lt313,S14,S19)), 
                               Equal_enough_for_test16)),
                            (findall_ne('False',true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test16,Test_Ne_True), 
                         Equal_enough_for_test17))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_42)).


</span>top_call :-
    time(top_call_42).


/*
  ! (assertEqual 
      (EDCall.lt4 
        (MkEDCall 0.2 
          (MkDCall quux 42 True "abc" 42)) 
        (MkEDCall 0.3 
          (MkDCall quux 24 False "def" 24))) True)
*/


top_call_43:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_24 =  
                      [ assertEqual, 
                        [ 'EDCall.lt4', 
                          [ 'MkEDCall', 
                            0.2, 
                            [ 'MkDCall', quux,42,'True',"abc",42]], 
                          [ 'MkEDCall', 
                            0.3, 
                            [ 'MkDCall', quux,24,'False',"def",24]]], 
                        'True']),
                   (loonit_assert_source_tf_empty( src(Src_24), 
                      FARL_47, 
                      FARL_48, 
                        ((
                         (findall_ne( FA_47, 
                            ( s('MkDCall',quux,42,'True',"abc",42,S7)  ,
                              s('MkEDCall',0.2,S7,Call_c46_lt4) , 
                              s('MkDCall',quux,24,'False',"def",24,S8) , 
                              s('MkEDCall',0.3,S8,S) , 
                              s('EDCall.lt4',Call_c46_lt4,S,FA_47)), 
                            FARL_47)),
                         (findall_ne('True',true,FARL_48))  )), 
                      equal_enough_for_test(FARL_47,FARL_48), 
                      Equal_enough_for_test))  ))).


<span class="ansi92"></span><span class="ansi92"></span><span class="ansi92">

( ==> ( 
   top_call_43:- do_metta_runtime( Equal_enough_for_test15, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'EDCall.lt4', 
                             [ 'MkEDCall', 
                               0.2, 
                               [ 'MkDCall', quux,42,'True',"abc",42]], 
                             [ 'MkEDCall', 
                               0.3, 
                               [ 'MkDCall', quux,24,'False',"def",24]]], 
                           'True']),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test14, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S19, 
                               ( s('MkDCall',quux,42,'True',"abc",42,S17)  ,
                                 s('MkEDCall',0.2,S17,Call_c46_lt411) , 
                                 s('MkDCall',quux,24,'False',"def",24,S18) , 
                                 s('MkEDCall',0.3,S18,S12) , 
                                 s('EDCall.lt4',Call_c46_lt411,S12,S19)), 
                               Equal_enough_for_test14)),
                            (findall_ne('True',true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test14,Test_Ne_True), 
                         Equal_enough_for_test15))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_43)).


</span>top_call :-
    time(top_call_43).


/*
  ! (assertEqual 
      (EDCall.lt5 
        (MkEDCall 0.6 
          (MkDCall corge 42 True "abc" 42 True)) 
        (MkEDCall 0.3 
          (MkDCall corge 24 False "def" 24 False))) False)
*/


top_call_44:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_25 =  
                      [ assertEqual, 
                        [ 'EDCall.lt5', 
                          [ 'MkEDCall', 
                            0.6, 
                            [ 'MkDCall', corge,42,'True',"abc",42, 
                              'True']], 
                          [ 'MkEDCall', 
                            0.3, 
                            [ 'MkDCall', corge,24,'False',"def",24, 
                              'False']]], 
                        'False']),
                   (loonit_assert_source_tf_empty( src(Src_25), 
                      FARL_49, 
                      FARL_50, 
                        ((
                         (findall_ne( FA_49, 
                            ( s('MkDCall',corge,42,'True',"abc",42,'True',True)  ,
                              s('MkEDCall',0.6,True,Call_c46_lt5) , 
                              s('MkDCall',corge,24,'False',"def",24,'False',False) , 
                              s('MkEDCall',0.3,False,S) , 
                              s('EDCall.lt5',Call_c46_lt5,S,FA_49)), 
                            FARL_49)),
                         (findall_ne('False',true,FARL_50))  )), 
                      equal_enough_for_test(FARL_49,FARL_50), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi35"></span><span class="ansi1 ansi35"></span><span class="ansi1 ansi35">

( ==> ( 
   top_call_44:- do_metta_runtime( Equal_enough_for_test17, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'EDCall.lt5', 
                             [ 'MkEDCall', 
                               0.6, 
                               [ 'MkDCall', corge,42,'True',"abc",42, 
                                 'True']], 
                             [ 'MkEDCall', 
                               0.3, 
                               [ 'MkDCall', corge,24,'False',"def",24, 
                                 'False']]], 
                           'False']),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test16, 
                         Test_Ne_True15, 
                           ((
                            (findall_ne( S19, 
                               ( s('MkDCall',corge,42,'True',"abc",42,'True',True11)  ,
                                 s('MkEDCall',0.6,True11,Call_c46_lt513) , 
                                 s('MkDCall',corge,24,'False',"def",24,'False',False12) , 
                                 s('MkEDCall',0.3,False12,S14) , 
                                 s('EDCall.lt5',Call_c46_lt513,S14,S19)), 
                               Equal_enough_for_test16)),
                            (findall_ne('False',true,Test_Ne_True15))  )), 
                         equal_enough_for_test(Equal_enough_for_test16,Test_Ne_True15), 
                         Equal_enough_for_test17))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_44)).


</span>top_call :-
    time(top_call_44).


/*
;; Test taking the max of two EDCalls
*/
/*
  (: EDCalls.test.foo 
    (-> $a $b $c $c))
*/


mc(iz,EDCalls_x46x_test_x46x_foo1,__xx__x62x___a__b__c__c1) :- 
  eval_and_unify(EDCalls_x46x_test_x46x_foo1,'EDCalls.test.foo') , 
  eval_and_unify( __xx__x62x___a__b__c__c1, [
    ->, _,_,_c, 
    _c]).


/*
  (= (EDCalls.test.foo $x $y $z)  $z)
*/


mc('EDCalls.test.foo',_x23,_y12,_z8,_z) :- 
  ensure_evaled(_,_x23,_) , 
  ensure_evaled(_,_y12,_) , 
  ensure_evaled(_,_z8,_z).


/*
  (: EDCalls.test.bar 
    (-> $a $b $c $c))
*/


mc(iz,EDCalls_x46x_test_x46x_bar1,__xx__x62x___a__b__c__c2) :- 
  eval_and_unify(EDCalls_x46x_test_x46x_bar1,'EDCalls.test.bar') , 
  eval_and_unify( __xx__x62x___a__b__c__c2, [
    ->, _,_,_c, 
    _c]).


/*
  (= (EDCalls.test.bar $x $y $z)  $z)
*/


mc('EDCalls.test.bar',_x24,_y13,_z9,_z) :- 
  ensure_evaled(_,_x24,_) , 
  ensure_evaled(_,_y13,_) , 
  ensure_evaled(_,_z9,_z).


/*
  ! (assertEqual 
      (maxWith EDCall.lt3 
        (MkEDCall 0.9 
          (MkDCall EDCalls.test.foo Nil Z 
            (: ax1 T1))) 
        (MkEDCall 0.8 
          (MkDCall EDCalls.test.bar Nil Z 
            (: ax2 T2)))) 
      (MkEDCall 0.9 
        (MkDCall EDCalls.test.foo Nil Z 
          (: ax1 T1))))
*/


top_call_45:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_26 =  
                      [ assertEqual, 
                        [ maxWith, 
                          'EDCall.lt3', 
                          [ 'MkEDCall', 
                            0.9, 
                            [ 'MkDCall', 'EDCalls.test.foo','Nil','Z', 
                              [:,ax1,'T1']]], 
                          [ 'MkEDCall', 
                            0.8, 
                            [ 'MkDCall', 'EDCalls.test.bar','Nil','Z', 
                              [:,ax2,'T2']]]], 
                        [ 'MkEDCall', 
                          0.9, 
                          [ 'MkDCall', 'EDCalls.test.foo','Nil','Z', 
                            [:,ax1,'T1']]]]),
                   (loonit_assert_source_tf_empty( src(Src_26), 
                      FARL_51, 
                      FARL_52, 
                        ((
                         (findall_ne( FA_51, 
                            ( s(:,ax1,'T1',S_Z_T1)  ,
                              s('MkDCall','EDCalls.test.foo','Nil','Z',S_Z_T1,S) , 
                              s('MkEDCall',0.9,S,Call_c46_lt3) , 
                              s(:,ax2,'T2',S_Z_T2) , 
                              s('MkDCall','EDCalls.test.bar','Nil','Z',S_Z_T2,S17) , 
                              s('MkEDCall',0.8,S17,MaxWith) , 
                              s(maxWith,'EDCall.lt3',Call_c46_lt3,MaxWith,FA_51)), 
                            FARL_51)),
                         (findall_ne( FA_52, 
                            ( s(:,ax1,'T1',S_Z_T18)  ,
                              s('MkDCall','EDCalls.test.foo','Nil','Z',S_Z_T18,S20) , 
                              s('MkEDCall',0.9,S20,FA_52)), 
                            FARL_52))  )), 
                      equal_enough_for_test(FARL_51,FARL_52), 
                      Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2 ansi37"></span><span class="ansi2 ansi37 ansi40"></span><span class="ansi2 ansi37 ansi40">

( ==> ( 
   top_call_45:- do_metta_runtime( Equal_enough_for_test33, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ maxWith, 
                             'EDCall.lt3', 
                             [ 'MkEDCall', 
                               0.9, 
                               [ 'MkDCall', 'EDCalls.test.foo','Nil','Z', 
                                 [:,ax1,'T1']]], 
                             [ 'MkEDCall', 
                               0.8, 
                               [ 'MkDCall', 'EDCalls.test.bar','Nil','Z', 
                                 [:,ax2,'T2']]]], 
                           [ 'MkEDCall', 
                             0.9, 
                             [ 'MkDCall', 'EDCalls.test.foo','Nil','Z', 
                               [:,ax1,'T1']]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test32, 
                         Test_Ne, 
                           ((
                            (findall_ne( S39, 
                               ( s(:,ax1,'T1',S_Z_T124)  ,
                                 s('MkDCall','EDCalls.test.foo','Nil','Z',S_Z_T124,S36) , 
                                 s('MkEDCall',0.9,S36,Call_c46_lt328) , 
                                 s(:,ax2,'T2',S_Z_T226) , 
                                 s('MkDCall','EDCalls.test.bar','Nil','Z',S_Z_T226,S38) , 
                                 s('MkEDCall',0.8,S38,MaxWith29) , 
                                 s(maxWith,'EDCall.lt3',Call_c46_lt328,MaxWith29,S39)), 
                               Equal_enough_for_test32)),
                            (findall_ne( S42, 
                               ( s(:,ax1,'T1',S_Z_T130)  ,
                                 s('MkDCall','EDCalls.test.foo','Nil','Z',S_Z_T130,S41) , 
                                 s('MkEDCall',0.9,S41,S42)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test32,Test_Ne), 
                         Equal_enough_for_test33))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_45)).


</span>top_call :-
    time(top_call_45).


/*
;; Run a nullary EDCall
*/
/*
  (: EDCall.run0 
    (-> 
      (EDCall $a) $a))
*/


mc(iz,EDCall_x46x_run01,__xx__x62x__EDCall__a__a1) :- 
  eval_and_unify(EDCall_x46x_run01,'EDCall.run0') , 
  eval_and_unify( __xx__x62x__EDCall__a__a1, [
    ->, 
    ['EDCall',_a], 
    _a]).


/*
  (= (EDCall.run0 (MkEDCall $estimate (MkDCall $f)))  
    ($f))
*/


mc('EDCall.run0',MkEDCall__estimate_MkDCall__f1,RetVal713) :- 
  eval_and_unify( MkEDCall__estimate_MkDCall__f1, [
    'MkEDCall', 
    _, 
    ['MkDCall',_f]]) , 
  eval_for1('%Undefined%',_,[_f],RetVal713).


/*
;; Run a unary EDCall
*/
/*
  (: EDCall.run1 
    (-> 
      (EDCall $a $b) $b))
*/


mc(iz,EDCall_x46x_run11,__xx__x62x__EDCall__a__b__b1) :- 
  eval_and_unify(EDCall_x46x_run11,'EDCall.run1') , 
  eval_and_unify( __xx__x62x__EDCall__a__b__b1, [
    ->, 
    ['EDCall',_,_b], 
    _b]).


/*
  (= (EDCall.run1 (MkEDCall $estimate (MkDCall $f $x)))  
    ($f $x))
*/


mc('EDCall.run1',MkEDCall__estimate_MkDCall__f__x1,RetVal714) :- 
  eval_and_unify( MkEDCall__estimate_MkDCall__f__x1, [
    'MkEDCall', 
    _, 
    ['MkDCall',_f,_x]]) , 
  eval_for1('%Undefined%',_,[_f,_x],RetVal714).


/*
;; Run a binary EDCall
*/
/*
  (: EDCall.run2 
    (-> 
      (EDCall $a $b $c) $c))
*/


mc(iz,EDCall_x46x_run21,__xx__x62x__EDCall__a__b__c__c1) :- 
  eval_and_unify(EDCall_x46x_run21,'EDCall.run2') , 
  eval_and_unify( __xx__x62x__EDCall__a__b__c__c1, [
    ->, 
    ['EDCall',_,_,_c], 
    _c]).


/*
  (= (EDCall.run2 (MkEDCall $estimate (MkDCall $f $x $y)))  
    ($f $x $y))
*/


mc('EDCall.run2',MkEDCall__estimate_MkDCall__f__x__y1,RetVal715) :- 
  eval_and_unify( MkEDCall__estimate_MkDCall__f__x__y1, [
    'MkEDCall', 
    _, 
    ['MkDCall',_f,_x,_y]]) , 
  eval_for1( '%Undefined%', 
    _, 
    [_f,_x,_y], 
    RetVal715).


/*
;; Run a ternary EDCall
*/
/*
  (: EDCall.run3 
    (-> 
      (EDCall $a $b $c $d) $d))
*/


mc(iz,EDCall_x46x_run31,__xx__x62x__EDCall__a__b__c__d__d1) :- 
  eval_and_unify(EDCall_x46x_run31,'EDCall.run3') , 
  eval_and_unify( __xx__x62x__EDCall__a__b__c__d__d1, [
    ->, 
    [ 'EDCall', _,_,_, 
      _d], 
    _d]).


/*
  (= (EDCall.run3 (MkEDCall $estimate (MkDCall $f $x $y $z)))  
    ($f $x $y $z))
*/


mc('EDCall.run3',MkEDCall__estimate_MkDCall__f__x__y__z1,RetVal716) :- 
  eval_and_unify( MkEDCall__estimate_MkDCall__f__x__y__z1, [
    'MkEDCall', 
    _, 
    [ 'MkDCall', _f,_x,_y, 
      _z]]) , 
  eval_for1( '%Undefined%', 
    _, 
    [_f,_x,_y,_z], 
    RetVal716).


/*
;; Run a quaternary EDCall
*/
/*
  (: EDCall.run4 
    (-> 
      (EDCall $a $b $c $d $e) $e))
*/


mc(iz,EDCall_x46x_run41,__xx__x62x__EDCall__a__b__c__d__e__e1) :- 
  eval_and_unify(EDCall_x46x_run41,'EDCall.run4') , 
  eval_and_unify( __xx__x62x__EDCall__a__b__c__d__e__e1, [
    ->, 
    [ 'EDCall', _,_,_, 
      _,_e], 
    _e]).


/*
  (= (EDCall.run4 (MkEDCall $estimate (MkDCall $f $x $y $z $w)))  
    ($f $x $y $z $w))
*/


mc('EDCall.run4',MkEDCall__estimate_MkDCall__f__x__y__z__w1,RetVal717) :- 
  eval_and_unify( MkEDCall__estimate_MkDCall__f__x__y__z__w1, [
    'MkEDCall', 
    _, 
    [ 'MkDCall', _f,_x,_y, 
      _z,_w]]) , 
  eval_for1( '%Undefined%', 
    _, 
    [ _f, _x,_y,_z, 
      _w], 
    RetVal717).


/*
;; Run a quinary EDCall
*/
/*
  (: EDCall.run5 
    (-> 
      (EDCall $a $b $c $d $e $f) $f))
*/


mc(iz,EDCall_x46x_run51,__xx__x62x__EDCall__a__b__c__d__e__f__f1) :- 
  eval_and_unify(EDCall_x46x_run51,'EDCall.run5') , 
  eval_and_unify( __xx__x62x__EDCall__a__b__c__d__e__f__f1, [
    ->, 
    [ 'EDCall', _,_,_, 
      _,_,_f], 
    _f]).


/*
  (= (EDCall.run5 (MkEDCall $estimate (MkDCall $g $x $y $z $w $v)))  
    ($g $x $y $z $w $v))
*/


mc('EDCall.run5',MkEDCall__estimate_MkDCall__g__x__y__z__w__v1,RetVal718) :- 
  eval_and_unify( MkEDCall__estimate_MkDCall__g__x__y__z__w__v1, [
    'MkEDCall', 
    _, 
    [ 'MkDCall', _g,_x,_y, 
      _z,_w,_v]]) , 
  eval_for1( '%Undefined%', 
    _, 
    [ _g, _x,_y,_z, 
      _w,_v], 
    RetVal718).


/*
;;;;;;;;;;;;;
;; Control ;;
;;;;;;;;;;;;;
*/
/*
;; Control structure holding the inference control, parameterized by
;; the query language.  For now it merely holds a function to estimate
;; the probability of success of a particular branch.
*/
/*
  (: Control Type)
*/


mc(iz,Control1,Type3) :- 
  eval_and_unify(Control1,'Control') , 
  eval_and_unify(Type3,'Type').


/*
  (MkControl (-> $a (-> (List $b) (List $b) Nat $b Number) Control))
*/


mc('MkControl',__xx__x62x___a___xx__x62x__List__b_List__b_Nat__b_Number_Control1) :- 
  eval_and_unify( __xx__x62x___a___xx__x62x__List__b_List__b_Nat__b_Number_Control1, [
    ->, 
    _, 
    [ ->, 
      ['List',_b], 
      ['List',_b], 'Nat',_b,'Number'], 
    'Control']).


/*
;;;;;;;;;
;; PLN ;;
;;;;;;;;;
*/
/*
;; Define PLN TruthValue type and its constructor MkSimpleTruthValue
*/
/*
  (: PLN.TruthValue Type)
*/


mc(iz,PLN_x46x_TruthValue1,Type4) :- 
  eval_and_unify(PLN_x46x_TruthValue1,'PLN.TruthValue') , 
  eval_and_unify(Type4,'Type').


/*
  (: PLN.MkSTV 
    (-> Number Number PLN.TruthValue))
*/


mc(iz,PLN_x46x_MkSTV1,__xx__x62x__Number_Number_PLN_x46x_TruthValue1) :- 
  eval_and_unify(PLN_x46x_MkSTV1,'PLN.MkSTV') , 
  eval_and_unify( __xx__x62x__Number_Number_PLN_x46x_TruthValue1, [
    ->, 'Number','Number','PLN.TruthValue']).


/*
;; Define PLN Term type.  PLN terms are expressions defining the
;; objects that the PLN predicates can take in input.  To not be
;; confused with PLN connectors such as ∧ and constants such ⊥, PLN
;; terms are surrounded by underscore characters when needed.  So for
;; instance a formula
;;
;; (∧ P Q)
;;
;; can be represented at the object level as
;;
;; ([∧] [P] [Q])
;;
;; We need to do that because in this experiment we reason about 𝛩, a
;; ternary predicate relating theories, proofs and theorems, thus we
;; need a way to represent them at the object level.
*/
/*
  (: PLN.Term Type)
*/


mc(iz,PLN_x46x_Term1,Type5) :- 
  eval_and_unify(PLN_x46x_Term1,'PLN.Term') , 
  eval_and_unify(Type5,'Type').


/*
;; Make sure that z and s can be typed as PLN.Term as well
*/
/*
  (: z PLN.Term)
*/


mc(iz,_z10,PLN_x46x_Term2) :- 
  eval_and_unify(_z10,z) , 
  eval_and_unify(PLN_x46x_Term2,'PLN.Term').


/*
  (: s 
    (-> DeBruijn PLN.Term))
*/


mc(iz,_s3,__xx__x62x__DeBruijn_PLN_x46x_Term1) :- 
  eval_and_unify(_s3,s) , 
  eval_and_unify(__xx__x62x__DeBruijn_PLN_x46x_Term1,[->,'DeBruijn','PLN.Term']).


/*
;; Define PLN Term DeBruijn index constructors, used in quantifiers at
;; the object level.
*/
/*
  (: PLN.Term.DeBruijn Type)
*/


mc(iz,PLN_x46x_Term_x46x_DeBruijn1,Type6) :- 
  eval_and_unify(PLN_x46x_Term_x46x_DeBruijn1,'PLN.Term.DeBruijn') , 
  eval_and_unify(Type6,'Type').


/*
  (: 
    [z] PLN.Term.DeBruijn)
*/


mc(iz,_z11,PLN_x46x_Term_x46x_DeBruijn2) :- 
  eval_and_unify(_z11,z()) , 
  eval_and_unify(PLN_x46x_Term_x46x_DeBruijn2,'PLN.Term.DeBruijn').


/*
  (: 
    [s] 
    (-> PLN.Term.DeBruijn PLN.Term.DeBruijn))
*/


mc(iz,_s4,__xx__x62x__PLN_x46x_Term_x46x_DeBruijn_PLN_x46x_Term_x46x_DeBruijn1) :- 
  eval_and_unify(_s4,s()) , 
  eval_and_unify( __xx__x62x__PLN_x46x_Term_x46x_DeBruijn_PLN_x46x_Term_x46x_DeBruijn1, [
    ->, 'PLN.Term.DeBruijn','PLN.Term.DeBruijn']).


/*
;; Make sure that [z] and [s] can be typed as PLN.Term as well
*/
/*
  (: 
    [z] PLN.Term)
*/


mc(iz,_z12,PLN_x46x_Term3) :- 
  eval_and_unify(_z12,z()) , 
  eval_and_unify(PLN_x46x_Term3,'PLN.Term').


/*
  (: 
    [s] 
    (-> PLN.Term.DeBruijn PLN.Term))
*/


mc(iz,_s5,__xx__x62x__PLN_x46x_Term_x46x_DeBruijn_PLN_x46x_Term1) :- 
  eval_and_unify(_s5,s()) , 
  eval_and_unify( __xx__x62x__PLN_x46x_Term_x46x_DeBruijn_PLN_x46x_Term1, [
    ->, 'PLN.Term.DeBruijn','PLN.Term']).


/*
;; Define axiom and inference rule names as PLN terms
*/
/*
  (: 
    [ax-1] PLN.Term)
*/


mc(iz,_ax_xx_11,PLN_x46x_Term4) :- 
  eval_and_unify(_ax_xx_11,'ax-1'()) , 
  eval_and_unify(PLN_x46x_Term4,'PLN.Term').


/*
  (: 
    [ax-2] PLN.Term)
*/


mc(iz,_ax_xx_21,PLN_x46x_Term5) :- 
  eval_and_unify(_ax_xx_21,'ax-2'()) , 
  eval_and_unify(PLN_x46x_Term5,'PLN.Term').


/*
  (: 
    [ax-3] PLN.Term)
*/


mc(iz,_ax_xx_31,PLN_x46x_Term6) :- 
  eval_and_unify(_ax_xx_31,'ax-3'()) , 
  eval_and_unify(PLN_x46x_Term6,'PLN.Term').


/*
  (: 
    [ax-mp] 
    (-> PLN.Term PLN.Term PLN.Term))
*/


mc(iz,_ax_xx_mp1,__xx__x62x__PLN_x46x_Term_PLN_x46x_Term_PLN_x46x_Term1) :- 
  eval_and_unify(_ax_xx_mp1,'ax-mp'()) , 
  eval_and_unify( __xx__x62x__PLN_x46x_Term_PLN_x46x_Term_PLN_x46x_Term1, [
    ->, 'PLN.Term','PLN.Term','PLN.Term']).


/*
  (: 
    [mp2.1] PLN.Term)
*/


mc(iz,_mp2_x46x_11,PLN_x46x_Term7) :- 
  eval_and_unify(_mp2_x46x_11,'mp2.1'()) , 
  eval_and_unify(PLN_x46x_Term7,'PLN.Term').


/*
  (: 
    [mp2.2] PLN.Term)
*/


mc(iz,_mp2_x46x_21,PLN_x46x_Term8) :- 
  eval_and_unify(_mp2_x46x_21,'mp2.2'()) , 
  eval_and_unify(PLN_x46x_Term8,'PLN.Term').


/*
  (: 
    [mp2.3] PLN.Term)
*/


mc(iz,_mp2_x46x_31,PLN_x46x_Term9) :- 
  eval_and_unify(_mp2_x46x_31,'mp2.3'()) , 
  eval_and_unify(PLN_x46x_Term9,'PLN.Term').


/*
  (: 
    [mp2b.1] PLN.Term)
*/


mc(iz,_mp2b_x46x_11,PLN_x46x_Term10) :- 
  eval_and_unify(_mp2b_x46x_11,'mp2b.1'()) , 
  eval_and_unify(PLN_x46x_Term10,'PLN.Term').


/*
  (: 
    [mp2b.2] PLN.Term)
*/


mc(iz,_mp2b_x46x_21,PLN_x46x_Term11) :- 
  eval_and_unify(_mp2b_x46x_21,'mp2b.2'()) , 
  eval_and_unify(PLN_x46x_Term11,'PLN.Term').


/*
  (: 
    [mp2b.3] PLN.Term)
*/


mc(iz,_mp2b_x46x_31,PLN_x46x_Term12) :- 
  eval_and_unify(_mp2b_x46x_31,'mp2b.3'()) , 
  eval_and_unify(PLN_x46x_Term12,'PLN.Term').


/*
  (: 
    [a1i.1] PLN.Term)
*/


mc(iz,_a1i_x46x_11,PLN_x46x_Term13) :- 
  eval_and_unify(_a1i_x46x_11,'a1i.1'()) , 
  eval_and_unify(PLN_x46x_Term13,'PLN.Term').


/*
  (: 
    [PC] 
    (List PLN.Term))
*/


mc(iz,PC1,List_PLN_x46x_Term1) :- 
  eval_and_unify(PC1,'PC'()) , 
  eval_and_unify(List_PLN_x46x_Term1,['List','PLN.Term']).


/*
  (: 
    [ 𝜑 ] PLN.Term)
*/


mc(iz,_𝜑1,PLN_x46x_Term14) :- 
  eval_and_unify(_𝜑1,𝜑()) , 
  eval_and_unify(PLN_x46x_Term14,'PLN.Term').


/*
  (: 
    [ 𝜓 ] PLN.Term)
*/


mc(iz,_𝜓1,PLN_x46x_Term15) :- 
  eval_and_unify(_𝜓1,𝜓()) , 
  eval_and_unify(PLN_x46x_Term15,'PLN.Term').


/*
  (: 
    [ 𝜒 ] PLN.Term)
*/


mc(iz,_𝜒1,PLN_x46x_Term16) :- 
  eval_and_unify(_𝜒1,𝜒()) , 
  eval_and_unify(PLN_x46x_Term16,'PLN.Term').


/*
;; Define PLN Term logical connectors at the object level.  NEXT:
;; support PLN.Term.DeBruijn.
*/
/*
  (: 
    [ → ] 
    (-> PLN.Term PLN.Term PLN.Term))
*/


mc(iz,__x8594x_1,__xx__x62x__PLN_x46x_Term_PLN_x46x_Term_PLN_x46x_Term2) :- 
  eval_and_unify(__x8594x_1,→()) , 
  eval_and_unify( __xx__x62x__PLN_x46x_Term_PLN_x46x_Term_PLN_x46x_Term2, [
    ->, 'PLN.Term','PLN.Term','PLN.Term']).


/*
  (: 
    [ ∧ ] 
    (-> PLN.Term PLN.Term PLN.Term))
*/


mc(iz,__x8743x_1,__xx__x62x__PLN_x46x_Term_PLN_x46x_Term_PLN_x46x_Term3) :- 
  eval_and_unify(__x8743x_1,∧()) , 
  eval_and_unify( __xx__x62x__PLN_x46x_Term_PLN_x46x_Term_PLN_x46x_Term3, [
    ->, 'PLN.Term','PLN.Term','PLN.Term']).


/*
  (: 
    [ ∨ ] 
    (-> PLN.Term PLN.Term PLN.Term))
*/


mc(iz,__x8744x_1,__xx__x62x__PLN_x46x_Term_PLN_x46x_Term_PLN_x46x_Term4) :- 
  eval_and_unify(__x8744x_1,∨()) , 
  eval_and_unify( __xx__x62x__PLN_x46x_Term_PLN_x46x_Term_PLN_x46x_Term4, [
    ->, 'PLN.Term','PLN.Term','PLN.Term']).


/*
  (: 
    [ ¬ ] 
    (-> PLN.Term PLN.Term))
*/


mc(iz,__x172x_1,__xx__x62x__PLN_x46x_Term_PLN_x46x_Term1) :- 
  eval_and_unify(__x172x_1,¬()) , 
  eval_and_unify(__xx__x62x__PLN_x46x_Term_PLN_x46x_Term1,[->,'PLN.Term','PLN.Term']).


/*
;; Define typing relationship at the object level.
*/
/*
  (: 
    [ : ] 
    (-> PLN.Term PLN.Term PLN.Term))
*/


mc(iz,__xCx_1,__xx__x62x__PLN_x46x_Term_PLN_x46x_Term_PLN_x46x_Term5) :- 
  eval_and_unify(__xCx_1,:()) , 
  eval_and_unify( __xx__x62x__PLN_x46x_Term_PLN_x46x_Term_PLN_x46x_Term5, [
    ->, 'PLN.Term','PLN.Term','PLN.Term']).


/*
;; Define PLN Statement type.  A PLN statement represents a predicate
;; or conditioned predicate.
*/
/*
  (: PLN.Statement Type)
*/


mc(iz,PLN_x46x_Statement1,Type7) :- 
  eval_and_unify(PLN_x46x_Statement1,'PLN.Statement') , 
  eval_and_unify(Type7,'Type').


/*
;; Define PLN Statement constructors ∧, ∨, ¬.  Note that these
;; connectors represent in fact pointwise predicate connectors.  So
;; that (∧ P Q) is a predicate resulting from the pointwise
;; conjunction of P and Q, themselves predicates.
*/
/*
  (: ∧ 
    (-> PLN.Statement PLN.Statement PLN.Statement))
*/


mc(iz,__x8743x_2,__xx__x62x__PLN_x46x_Statement_PLN_x46x_Statement_PLN_x46x_Statement1) :- 
  eval_and_unify(__x8743x_2,∧) , 
  eval_and_unify( __xx__x62x__PLN_x46x_Statement_PLN_x46x_Statement_PLN_x46x_Statement1, [
    ->, 'PLN.Statement','PLN.Statement','PLN.Statement']).


/*
  (: ∨ 
    (-> PLN.Statement PLN.Statement PLN.Statement))
*/


mc(iz,__x8744x_2,__xx__x62x__PLN_x46x_Statement_PLN_x46x_Statement_PLN_x46x_Statement2) :- 
  eval_and_unify(__x8744x_2,∨) , 
  eval_and_unify( __xx__x62x__PLN_x46x_Statement_PLN_x46x_Statement_PLN_x46x_Statement2, [
    ->, 'PLN.Statement','PLN.Statement','PLN.Statement']).


/*
  (: ¬ 
    (-> PLN.Statement PLN.Statement))
*/


mc(iz,__x172x_2,__xx__x62x__PLN_x46x_Statement_PLN_x46x_Statement1) :- 
  eval_and_unify(__x172x_2,¬) , 
  eval_and_unify( __xx__x62x__PLN_x46x_Statement_PLN_x46x_Statement1, [
    ->, 'PLN.Statement','PLN.Statement']).


/*
;; Define PLN Statement constants ⊥ and ⊤, which are also pointwise
;; predicates corresponding respectively to the predicate that returns
;; always False and the predicate that returns always True.  Please do
;; not confuse ⊤ and T.  ⊤ is the top predicate, while T is an upper
;; case letter of the Latin alphabet.  Before you start cursing me to
;; no end for that decision, please consider that the type checker
;; will be able to catch your potential typos.
*/
/*
  (: ⊤ PLN.Statement)
*/


mc(iz,__x8868x_1,PLN_x46x_Statement2) :- 
  eval_and_unify(__x8868x_1,⊤) , 
  eval_and_unify(PLN_x46x_Statement2,'PLN.Statement').


/*
  (: ⊥ PLN.Statement)
*/


mc(iz,__x8869x_1,PLN_x46x_Statement3) :- 
  eval_and_unify(__x8869x_1,⊥) , 
  eval_and_unify(PLN_x46x_Statement3,'PLN.Statement').


/*
;; Define PLN Statement existential quantifier ∃.  For now we avoid
;; concerns about its semantics, including the interval aspect
;; explained in the PLN book.  Since 𝛩 is deterministic anyway, let's
;; see how far we can go with a crisp version of this quantifier.
*/
/*
  (: ∃ 
    (-> DeBruijn PLN.Statement PLN.Statement))
*/


mc(iz,__x8707x_1,__xx__x62x__DeBruijn_PLN_x46x_Statement_PLN_x46x_Statement1) :- 
  eval_and_unify(__x8707x_1,∃) , 
  eval_and_unify( __xx__x62x__DeBruijn_PLN_x46x_Statement_PLN_x46x_Statement1, [
    ->, 'DeBruijn','PLN.Statement','PLN.Statement']).


/*
;; Define PLN Statement constructors from a set of primitive
;; predicates.  For now only 𝛩, a ternary predicate representing the
;; relationship between theory, proof and theorem, is used.  A theory
;; is a collection of axioms and inference rules, for now encoded as a
;; list of PLN terms.  Even though 𝛩 is completely deterministic, it
;; is treated as probabilistic to cope with the insufficient knowledge
;; and resources about it.  Indeed, 𝛩 is semi-computable at best, thus
;; it is pointless to hope we can ever know everything about.  For
;; that reason, 𝛩 (or any other PLN predicates) has the following
;; underlying type signature
;;
;; 𝛩 : Theory -> Proof -> Theorem -> Ω -> Bool
;;
;; where Ω is the sample space of the underlying probability space.
*/
/*
  (: 𝛩 
    (-> 
      (List PLN.Term) PLN.Term PLN.Term PLN.Statement))
*/


mc(iz,𝛩1,__xx__x62x__List_PLN_x46x_Term_PLN_x46x_Term_PLN_x46x_Term_PLN_x46x_Statement1) :- 
  eval_and_unify(𝛩1,'𝛩') , 
  eval_and_unify( __xx__x62x__List_PLN_x46x_Term_PLN_x46x_Term_PLN_x46x_Term_PLN_x46x_Statement1, [
    ->, 
    ['List','PLN.Term'], 'PLN.Term','PLN.Term','PLN.Statement']).


/*
;; Define PLN judgement type and its constructor.  A judgement is a
;; PLN statement alonside its assigned truth value, constructed with
;; the ≞ connector.
*/
/*
  (: PLN.Judgement Type)
*/


mc(iz,PLN_x46x_Judgement1,Type8) :- 
  eval_and_unify(PLN_x46x_Judgement1,'PLN.Judgement') , 
  eval_and_unify(Type8,'Type').


/*
  (: ≞ 
    (-> PLN.Statement PLN.TruthValue PLN.Judgement))
*/


mc(iz,__x8798x_1,__xx__x62x__PLN_x46x_Statement_PLN_x46x_TruthValue_PLN_x46x_Judgement1) :- 
  eval_and_unify(__x8798x_1,≞) , 
  eval_and_unify( __xx__x62x__PLN_x46x_Statement_PLN_x46x_TruthValue_PLN_x46x_Judgement1, [
    ->, 'PLN.Statement','PLN.TruthValue','PLN.Judgement']).


/*
;; Access truth value from judgement
*/
/*
  (: PLN.tv 
    (-> PLN.Judgement PLN.TruthValue))
*/


mc(iz,PLN_x46x_tv1,__xx__x62x__PLN_x46x_Judgement_PLN_x46x_TruthValue1) :- 
  eval_and_unify(PLN_x46x_tv1,'PLN.tv') , 
  eval_and_unify( __xx__x62x__PLN_x46x_Judgement_PLN_x46x_TruthValue1, [
    ->, 'PLN.Judgement','PLN.TruthValue']).


/*
  (= (PLN.tv (≞ $stm $tv))  $tv)
*/


mc('PLN.tv',__x8798x___stm__tv1,_tv) :- 
  eval_and_unify(__x8798x___stm__tv1,[≞,_,_tv]).


/*
;;;;;;;;;;;;;;;;;;;;;;;
;; Thompson Sampling ;;
;;;;;;;;;;;;;;;;;;;;;;;
*/
/*
;; Thompson sample from a simple truth value.  For now only confidence
;; of 0 or 1 are supported.  This assumption allows us to operate
;; Thompson sampling without requiring a Beta distribution.  Indeed if
;; the confidence is 0 then it amounts to a uniform sampling, assuming
;; a flat Bayesian prior that is.  And if the confidence is 1 then we
;; just return the strength.
*/
/*
  (: thompson-sample 
    (-> PLN.TruthValue Number))
*/


mc(iz,_thompson_xx_sample1,__xx__x62x__PLN_x46x_TruthValue_Number1) :- 
  eval_and_unify(_thompson_xx_sample1,'thompson-sample') , 
  eval_and_unify( __xx__x62x__PLN_x46x_TruthValue_Number1, [
    ->, 'PLN.TruthValue','Number']).


/*
  (= (thompson-sample (PLN.MkSTV $s 0))  
    (random-float &rng 0 1))
*/


mc('thompson-sample',PLN_x46x_MkSTV__s__01,RetVal720) :- 
  eval_and_unify(PLN_x46x_MkSTV__s__01,['PLN.MkSTV',_,0]) , 
  get_value('&rng',Random_float_Rng) , 
  s('random-float',Random_float_Rng,0,1,RetVal720).


/*
;)
*/
/*
  (= (thompson-sample (PLN.MkSTV $s 1))  $s)
*/


mc('thompson-sample',PLN_x46x_MkSTV__s__11,_s) :- 
  eval_and_unify(PLN_x46x_MkSTV__s__11,['PLN.MkSTV',_s,1]).


/*
;)
*/
/*
;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Reduce PLN statements ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;
*/
/*
;; Reduce PLN statement.  For now it only supports neutral element
;; elimination.
*/
/*
  (: PLN.reduce 
    (-> PLN.Statement PLN.Statement))
*/


mc(iz,PLN_x46x_reduce1,__xx__x62x__PLN_x46x_Statement_PLN_x46x_Statement2) :- 
  eval_and_unify(PLN_x46x_reduce1,'PLN.reduce') , 
  eval_and_unify( __xx__x62x__PLN_x46x_Statement_PLN_x46x_Statement2, [
    ->, 'PLN.Statement','PLN.Statement']).


/*
  (= (PLN.reduce $stm)  
    (case 
      (get-metatype $stm) 
      ( (Symbol $stm) 
        (Grounded $stm) 
        (Expression (case $stm ((() ()) (($x) ($x)) (($x $y) ($x (PLN.reduce $y))) ((→ $x ⊤) ⊤) ((→ ⊤ $x) (PLN.reduce $x)) ((→ $x ⊥) (¬ (PLN.reduce $x))) ((→ ⊥ $x) ⊤) ((∧ $x ⊤) (PLN.reduce $x)) ((∧ ⊤ $x) (PLN.reduce $x)) ((∧ ⊥ $x) ⊥) ((∧ $x ⊥) ⊥) ((∨ $x ⊤) ⊤) ((∨ ⊤ $x) ⊤) ((∨ $x ⊥) (PLN.reduce $x)) ((∨ ⊥ $x) (PLN.reduce $x)) (($x $y $z) ($x (PLN.reduce $y) (PLN.reduce $z))) ((𝛩 $x $y $z) $stm) (($x $y $z $w) ($x (PLN.reduce $y) (PLN.reduce $z) (PLN.reduce $w))) (($x $y $z $w $v) ($x (PLN.reduce $y) (PLN.reduce $z) (PLN.reduce $w) (PLN.reduce $v))) ($else (Error $stm "Not supported in PLN.reduce"))))) 
        ($else (Error (get-metatype $stm) "Not supported in PLN.reduce")))))
*/


mc('PLN.reduce',_stm1,CASE_RESULT_RetVal7221) :- 
  ensure_evaled('PLN.Statement',_stm1,_stm) , 
  s('get-metatype',_stm,Select_caseCASE_SWITCH_19) , 
  CASE_SWITCH_19 =  
    [ caseOption('Symbol',_stm,[_stm],true), 
      caseOption('Grounded',_stm,[_stm],true), 
      caseOption( 'Expression', 
        CASE_RESULT_1, 
        [_stm], 
          ((
           (true),
           (  ((
               (CASE_SWITCH_18 =  
                  [ caseOption([],For1,[_stm],eval_for1('%Undefined%','PLN.Statement',[],For1)), 
                    caseOption( [_x], 
                      For13, 
                      [_stm], 
                      eval_for1('%Undefined%','PLN.Statement',[_x],For13)), 
                    caseOption( [_x,_y], 
                      For14, 
                      [_stm], 
                      eval_for1( '%Undefined%', 
                        'PLN.Statement', 
                        [ _x, 
                          ['PLN.reduce',_y]], 
                        For14)), 
                    caseOption([→,_x,⊤],⊤,[_stm],true), 
                    caseOption( [→,⊤,_x], 
                      S, 
                      [_stm], 
                      true,s('PLN.reduce',_x,S)), 
                    caseOption( [→,_x,⊥], 
                      S7, 
                      [_stm], 
                      true,s('PLN.reduce',_x,S6),s(¬,S6,S7)), 
                    caseOption([→,⊥,_x],⊤,[_stm],true), 
                    caseOption( [∧,_x,⊤], 
                      S8, 
                      [_stm], 
                      true,s('PLN.reduce',_x,S8)), 
                    caseOption( [∧,⊤,_x], 
                      S9, 
                      [_stm], 
                      true,s('PLN.reduce',_x,S9)), 
                    caseOption([∧,⊥,_x],⊥,[_stm],true), 
                    caseOption([∧,_x,⊥],⊥,[_stm],true), 
                    caseOption([∨,_x,⊤],⊤,[_stm],true), 
                    caseOption([∨,⊤,_x],⊤,[_stm],true), 
                    caseOption( [∨,_x,⊥], 
                      S10, 
                      [_stm], 
                      true,s('PLN.reduce',_x,S10)), 
                    caseOption( [∨,⊥,_x], 
                      S11, 
                      [_stm], 
                      true,s('PLN.reduce',_x,S11)), 
                    caseOption( [_x,_y,_z], 
                      For112, 
                      [_stm], 
                      eval_for1( '%Undefined%', 
                        'PLN.Statement', 
                        [ _x, 
                          ['PLN.reduce',_y], 
                          ['PLN.reduce',_z]], 
                        For112)), 
                    caseOption( ['𝛩',_x,_y,_z], 
                      _stm, 
                      [_stm], 
                      true), 
                    caseOption( [_x,_y,_z,_w], 
                      For113, 
                      [_stm], 
                      eval_for1( '%Undefined%', 
                        'PLN.Statement', 
                        [ _x, 
                          ['PLN.reduce',_y], 
                          ['PLN.reduce',_z], 
                          ['PLN.reduce',_w]], 
                        For113)), 
                    caseOption( 
                       [ _x, _y,_z,_w, 
                         _v], 
                       For114, 
                       [_stm], 
                       eval_for1( '%Undefined%', 
                         'PLN.Statement', 
                         [ _x, 
                           ['PLN.reduce',_y], 
                           ['PLN.reduce',_z], 
                           ['PLN.reduce',_w], 
                           ['PLN.reduce',_v]], 
                         For114)), 
                    caseOption( _else, 
                      S15, 
                      [_stm], 
                      true,s('Error',_stm,"Not supported in PLN.reduce",S15))]),
               (select_case(CASE_SWITCH_18,_stm,CASE_RESULT_1))  )))  ))), 
      caseOption( _else, 
        S17, 
        [_stm], 
          ((
           (true),
           (  ((
               (s('get-metatype',_stm,S16)),
               (true,s('Error',S16,"Not supported in PLN.reduce",S17))  )))  )))] , 
  select_case(CASE_SWITCH_19,Select_caseCASE_SWITCH_19,CASE_RESULT_RetVal7221).


/*
;)
*/
/*
;; Test PLN.reduce
*/
/*
  ! (assertEqual 
      (PLN.reduce ⊤) ⊤)
*/


top_call_46:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_27 =  
                      [ assertEqual, 
                        ['PLN.reduce',⊤], 
                        ⊤]),
                   (loonit_assert_source_tf_empty( src(Src_27), 
                      FARL_53, 
                      FARL_54, 
                        ((
                         (findall_ne(FA_53,(true,s('PLN.reduce',⊤,FA_53)),FARL_53)),
                         (findall_ne(⊤,true,FARL_54))  )), 
                      equal_enough_for_test(FARL_53,FARL_54), 
                      Equal_enough_for_test))  ))).


<span class="ansi95"></span><span class="ansi95"></span><span class="ansi95">

( ==> ( 
   top_call_46:- do_metta_runtime( Equal_enough_for_test9, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           ['PLN.reduce',⊤], 
                           ⊤]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test8, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S, 
                               true,s('PLN.reduce',⊤,S), 
                               Equal_enough_for_test8)),
                            (findall_ne(⊤,true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test8,Test_Ne_True), 
                         Equal_enough_for_test9))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_46)).


</span>top_call :-
    time(top_call_46).


/*
  ! (assertEqual 
      (PLN.reduce (𝛩 [PC] z [ 𝜑 ])) 
      (𝛩 
        [PC] z 
        [ 𝜑 ]))
*/


top_call_47:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_28 =  
                      [ assertEqual, 
                        [ 'PLN.reduce', 
                          ['𝛩','PC'(),z,𝜑()]], 
                        ['𝛩','PC'(),z,𝜑()]]),
                   (loonit_assert_source_tf_empty( src(Src_28), 
                      FARL_55, 
                      FARL_56, 
                        ((
                         (findall_ne( FA_55, 
                            ( info(is_value_obj('PC'()))  ,
                              info(is_value_obj(𝜑())) , 
                              s('𝛩','PC'(),z,𝜑(),PLN_c46_reduce_𝜑) , 
                              s('PLN.reduce',PLN_c46_reduce_𝜑,FA_55)), 
                            FARL_55)),
                         (findall_ne( FA_56, 
                            ( info(is_value_obj('PC'()))  ,
                              info(is_value_obj(𝜑())) , 
                              s('𝛩','PC'(),z,𝜑(),FA_56)), 
                            FARL_56))  )), 
                      equal_enough_for_test(FARL_55,FARL_56), 
                      Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2 ansi37"></span><span class="ansi2 ansi37 ansi40"></span><span class="ansi2 ansi37 ansi40">

( ==> ( 
   top_call_47:- do_metta_runtime( Equal_enough_for_test15, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'PLN.reduce', 
                             ['𝛩','PC'(),z,𝜑()]], 
                           ['𝛩','PC'(),z,𝜑()]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test14, 
                         Test_Ne, 
                           ((
                            (findall_ne( S, 
                               ( info(is_value_obj('PC'()))  ,
                                 info(is_value_obj(𝜑())) , 
                                 s('𝛩','PC'(),z,𝜑(),PLN_c46_reduce_𝜑11) , 
                                 s('PLN.reduce',PLN_c46_reduce_𝜑11,S)), 
                               Equal_enough_for_test14)),
                            (findall_ne( S_𝜑13, 
                               ( info(is_value_obj('PC'()))  ,
                                 info(is_value_obj(𝜑())) , 
                                 s('𝛩','PC'(),z,𝜑(),S_𝜑13)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test14,Test_Ne), 
                         Equal_enough_for_test15))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_47)).


</span>top_call :-
    time(top_call_47).


/*
  ! (assertEqual 
      (PLN.reduce (∧ (𝛩 [PC] z [ 𝜑 ]) ⊤)) 
      (𝛩 
        [PC] z 
        [ 𝜑 ]))
*/


top_call_48:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_29 =  
                      [ assertEqual, 
                        [ 'PLN.reduce', 
                          [ ∧, 
                            ['𝛩','PC'(),z,𝜑()], 
                            ⊤]], 
                        ['𝛩','PC'(),z,𝜑()]]),
                   (loonit_assert_source_tf_empty( src(Src_29), 
                      FARL_57, 
                      FARL_58, 
                        ((
                         (findall_ne( FA_57, 
                            ( info(is_value_obj('PC'()))  ,
                              info(is_value_obj(𝜑())) , 
                              s('𝛩','PC'(),z,𝜑(),S_𝜑) , 
                              s(∧,S_𝜑,⊤,PLN_c46_reduce) , 
                              s('PLN.reduce',PLN_c46_reduce,FA_57)), 
                            FARL_57)),
                         (findall_ne( FA_58, 
                            ( info(is_value_obj('PC'()))  ,
                              info(is_value_obj(𝜑())) , 
                              s('𝛩','PC'(),z,𝜑(),FA_58)), 
                            FARL_58))  )), 
                      equal_enough_for_test(FARL_57,FARL_58), 
                      Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2 ansi37"></span><span class="ansi2 ansi37 ansi40"></span><span class="ansi2 ansi37 ansi40">

( ==> ( 
   top_call_48:- do_metta_runtime( Equal_enough_for_test16, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'PLN.reduce', 
                             [ ∧, 
                               ['𝛩','PC'(),z,𝜑()], 
                               ⊤]], 
                           ['𝛩','PC'(),z,𝜑()]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test15, 
                         Test_Ne, 
                           ((
                            (findall_ne( S, 
                               ( info(is_value_obj('PC'()))  ,
                                 info(is_value_obj(𝜑())) , 
                                 s('𝛩','PC'(),z,𝜑(),S_𝜑12) , 
                                 s(∧,S_𝜑12,⊤,PLN_c46_reduce13) , 
                                 s('PLN.reduce',PLN_c46_reduce13,S)), 
                               Equal_enough_for_test15)),
                            (findall_ne( S_𝜑14, 
                               ( info(is_value_obj('PC'()))  ,
                                 info(is_value_obj(𝜑())) , 
                                 s('𝛩','PC'(),z,𝜑(),S_𝜑14)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test15,Test_Ne), 
                         Equal_enough_for_test16))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_48)).


</span>top_call :-
    time(top_call_48).


/*
  ! (assertEqual 
      (PLN.reduce (∧ (𝛩 [PC] (s (s z)) (s z)) (∧ (𝛩 [PC] z ([ → ] (s z) ([ → ] [ 𝜓 ] [ 𝜒 ]))) ⊤))) 
      (∧ 
        (𝛩 
          [PC] 
          (s (s z)) 
          (s z)) 
        (𝛩 
          [PC] z 
          ( [ → ] 
            (s z) 
            ( [ → ] 
              [ 𝜓 ] 
              [ 𝜒 ])))))
*/


top_call_49:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_30 =  
                      [ assertEqual, 
                        [ 'PLN.reduce', 
                          [ ∧, 
                            [ '𝛩', 
                              'PC'(), 
                              [s,[s,z]], 
                              [s,z]], 
                            [ ∧, 
                              [ '𝛩', 'PC'(),z, 
                                [ →(), 
                                  [s,z], 
                                  [→(),𝜓(),𝜒()]]], 
                              ⊤]]], 
                        [ ∧, 
                          [ '𝛩', 
                            'PC'(), 
                            [s,[s,z]], 
                            [s,z]], 
                          [ '𝛩', 'PC'(),z, 
                            [ →(), 
                              [s,z], 
                              [→(),𝜓(),𝜒()]]]]]),
                   (loonit_assert_source_tf_empty( src(Src_30), 
                      FARL_59, 
                      FARL_60, 
                        ((
                         (findall_ne( FA_59, 
                            ( info(is_value_obj('PC'()))  ,
                              s(s,z,S_Z) , 
                              s(s,S_Z,S_PC) , 
                              s(s,z,S_Z3) , 
                              s('𝛩','PC'(),S_PC,S_Z3,S25) , 
                              info(is_value_obj('PC'())) , 
                              s(s,z,S_Z5) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜓(),𝜒(),S_𝜒) , 
                              s(→(),S_Z5,S_𝜒,S_Z7) , 
                              s('𝛩','PC'(),z,S_Z7,S29) , 
                              s(∧,S29,⊤,S) , 
                              s(∧,S25,S,PLN_c46_reduce) , 
                              s('PLN.reduce',PLN_c46_reduce,FA_59)), 
                            FARL_59)),
                         (findall_ne( FA_60, 
                            ( info(is_value_obj('PC'()))  ,
                              s(s,z,S_Z11) , 
                              s(s,S_Z11,S_PC14) , 
                              s(s,z,S_Z13) , 
                              s('𝛩','PC'(),S_PC14,S_Z13,S33) , 
                              info(is_value_obj('PC'())) , 
                              s(s,z,S_Z15) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜓(),𝜒(),S_𝜒16) , 
                              s(→(),S_Z15,S_𝜒16,S_Z17) , 
                              s('𝛩','PC'(),z,S_Z17,S18) , 
                              s(∧,S33,S18,FA_60)), 
                            FARL_60))  )), 
                      equal_enough_for_test(FARL_59,FARL_60), 
                      Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2 ansi37"></span><span class="ansi2 ansi37 ansi40"></span><span class="ansi2 ansi37 ansi40">

( ==> ( 
   top_call_49:- do_metta_runtime( Equal_enough_for_test58, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'PLN.reduce', 
                             [ ∧, 
                               [ '𝛩', 
                                 'PC'(), 
                                 [s,[s,z]], 
                                 [s,z]], 
                               [ ∧, 
                                 [ '𝛩', 'PC'(),z, 
                                   [ →(), 
                                     [s,z], 
                                     [→(),𝜓(),𝜒()]]], 
                                 ⊤]]], 
                           [ ∧, 
                             [ '𝛩', 
                               'PC'(), 
                               [s,[s,z]], 
                               [s,z]], 
                             [ '𝛩', 'PC'(),z, 
                               [ →(), 
                                 [s,z], 
                                 [→(),𝜓(),𝜒()]]]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test57, 
                         Test_Ne, 
                           ((
                            (findall_ne( S67, 
                               ( info(is_value_obj('PC'()))  ,
                                 s(s,z,S_Z40) , 
                                 s(s,S_Z40,S_PC43) , 
                                 s(s,z,S_Z42) , 
                                 s('𝛩','PC'(),S_PC43,S_Z42,S62) , 
                                 info(is_value_obj('PC'())) , 
                                 s(s,z,S_Z44) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜓(),𝜒(),S_𝜒45) , 
                                 s(→(),S_Z44,S_𝜒45,S_Z46) , 
                                 s('𝛩','PC'(),z,S_Z46,S66) , 
                                 s(∧,S66,⊤,S47) , 
                                 s(∧,S62,S47,PLN_c46_reduce48) , 
                                 s('PLN.reduce',PLN_c46_reduce48,S67)), 
                               Equal_enough_for_test57)),
                            (findall_ne( S74, 
                               ( info(is_value_obj('PC'()))  ,
                                 s(s,z,S_Z49) , 
                                 s(s,S_Z49,S_PC52) , 
                                 s(s,z,S_Z51) , 
                                 s('𝛩','PC'(),S_PC52,S_Z51,S70) , 
                                 info(is_value_obj('PC'())) , 
                                 s(s,z,S_Z53) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜓(),𝜒(),S_𝜒54) , 
                                 s(→(),S_Z53,S_𝜒54,S_Z55) , 
                                 s('𝛩','PC'(),z,S_Z55,S56) , 
                                 s(∧,S70,S56,S74)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test57,Test_Ne), 
                         Equal_enough_for_test58))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_49)).


</span>top_call :-
    time(top_call_49).


/*
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Convert backward chainer call to PLN ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
*/
/*
;; Convert the arguments of a backward chainer call to a PLN statement
;; such that the semantics of its associated truth value corresponds
;; to how likely the holes in the arguments of the call (the
;; environment, the query and its surrounding premises) can be filled
;; within the provided depth.
;;
;; So for instance, if the backward chainer call is
;;
;; (bc (Cons (: a1i.1 𝜑) Nil)
;;     Nil
;;     (fromNumber 1)
;;     (: $prf (→ 𝜓 𝜑)))
;;
;; thus
;;
;; - the environment is (Cons (: a1i.1 𝜑) Nil)
;; - the query is (: $prf (→ 𝜓 𝜑))
;; - the surrounding premises are Nil
;; - the depth 1
;;
;; would be converted into the following PLN query
;;
;; (∃ z (𝛩 (Cons ([:] [a1i.1] [𝜑]) [PC]) z ([→] [𝜓] [𝜑])) ∧ (depth_lte z 1))
;;
;; where
;;
;; - z is the first De Bruijn index,
;;
;; - all symbols of the logic have been dropped to the object level
;;   (or mesa level), by being surrounded with [].  So for instance, :
;;   becomes [:], a1i.1 becomes [a1i.1], → becomes [→], etc.
;;
;; - The ternary predicate 𝛩 is a PLN predicate representing the
;;   relationship between Theory, Proof and Theorem, in this
;;   respective argument order.  It is also a partial function mapping
;;   its first two arguments, Theory and Proof to the third one,
;;   Theorem.  Meaning, given a theory and a proof, there is at most
;;   one corresponding theorem.  It is partial because not all proof
;;   terms are actually well formed proofs.
;;
;; - The binary predicate depth_lte is true iff the depth of the first
;;   argument is equal or below the number provided as second
;;   argument.
;;
;; Informally, the PLN statement above should be read as
;;
;; There exists a proof z of (→ 𝜓 𝜑), with a maximum depth of 1,
;; within theory (Cons (: a1i.1 𝜑) PC).
;;
;; where the theory includes the static theory PC and its environment
;; (: a1i.1 𝜑).  Note that in this experiment the static part of the
;; theory is hardcoded in the backward chainer.  In general the theory
;; must be completely provided, but here, for the sake of simplicity
;; we will simply hide its description under the symbol PC, which
;; stands for Propositional Calculus.
;;
;; NEXT: support depth.
*/
/*
  (: toPLN 
    (-> 
      (List $a) 
      (List $a) Nat $a PLN.Statement))
*/


mc(iz,ToPLN1,__xx__x62x__List__a_List__a_Nat__a_PLN_x46x_Statement1) :- 
  eval_and_unify(ToPLN1,toPLN) , 
  eval_and_unify( __xx__x62x__List__a_List__a_Nat__a_PLN_x46x_Statement1, [
    ->, 
    ['List',_a], 
    ['List',_a], 'Nat',_a,'PLN.Statement']).


/*
; PLN statement
*/
/*
  (= (toPLN $thry $ctx $depth (: $prf $type))  
    (let* 
      ( ( (MkPair $vars $plnctx) (contextToPLN $thry Nil $ctx)) 
        ( (MkPair $nvars $plnstm) (queryToPLN $thry $vars (: $prf $type))) 
        ($plnred (PLN.reduce (∧ $plnstm $plnctx)))) 
      (variablesToPLN 
        (List.length $nvars) $plnred)))
*/


mc(toPLN,_thry1,_ctx1,_depth1,__xCx___prf__type1,RetVal723) :- 
  ensure_evaled(['List',Type_ToPLN__4___1],_thry1,_thry) , 
  ensure_evaled(['List',Type_ToPLN__4___1],_ctx1,_ctx) , 
  ensure_evaled('Nat',_depth1,_) , 
  eval_and_unify(__xCx___prf__type1,[:,_prf,_type]) , 
  s(contextToPLN,_thry,'Nil',_ctx,S) , 
  unify_with_occurs_check(S,['MkPair',_vars,_plnctx]) , 
  s(:,_prf,_type,Vars) , 
  s(queryToPLN,_thry,_vars,Vars,S13) , 
  unify_with_occurs_check(S13,['MkPair',_nvars,_plnstm]) , 
  s(∧,_plnstm,_plnctx,PLN_c46_reduce) , 
  s('PLN.reduce',PLN_c46_reduce,_plnred) , 
  s('List.length',_nvars,VariablesToPLN) , 
  s(variablesToPLN,VariablesToPLN,_plnred,RetVal723).


/*
;; Given a number of variables and a PLN statement containing De
;; Bruijn indices corresponding to these variables, wrap existential
;; quantifiers around the given PLN statement.
*/
/*
  (: variablesToPLN 
    (-> Nat PLN.Statement PLN.Statement))
*/


mc(iz,VariablesToPLN1,__xx__x62x__Nat_PLN_x46x_Statement_PLN_x46x_Statement1) :- 
  eval_and_unify(VariablesToPLN1,variablesToPLN) , 
  eval_and_unify( __xx__x62x__Nat_PLN_x46x_Statement_PLN_x46x_Statement1, [
    ->, 'Nat','PLN.Statement','PLN.Statement']).


/*
; Resulting PLN statement
*/
/*
  (= (variablesToPLN Z $plnstm)  $plnstm)
*/


mc(variablesToPLN,Z4,_plnstm1,_plnstm) :- 
  eval_and_unify(Z4,'Z') , 
  ensure_evaled('PLN.Statement',_plnstm1,_plnstm).


/*
  (= (variablesToPLN (S $k) $plnstm)  
    (∃ 
      (toDeBruijn $k) 
      (variablesToPLN $k $plnstm)))
*/


mc(variablesToPLN,S__k3,_plnstm2,RetVal725) :- 
  eval_and_unify(S__k3,['S',_k]) , 
  ensure_evaled('PLN.Statement',_plnstm2,_plnstm) , 
  s(toDeBruijn,_k,S5) , 
  s(variablesToPLN,_k,_plnstm,S) , 
  s(∃,S5,S,RetVal725).


/*
;; Convert a theory in PLN format
*/
/*
  (: theoryToPLN 
    (-> 
      (List $a) 
      (List PLN.Term)))
*/


mc(iz,TheoryToPLN1,__xx__x62x__List__a_List_PLN_x46x_Term1) :- 
  eval_and_unify(TheoryToPLN1,theoryToPLN) , 
  eval_and_unify( __xx__x62x__List__a_List_PLN_x46x_Term1, [
    ->, 
    ['List',_], 
    ['List','PLN.Term']]).


/*
  (= (theoryToPLN $thry)  
    (List.map typingToPLN $thry))
*/


mc(theoryToPLN,_thry2,RetVal726) :- 
  ensure_evaled(['List',_],_thry2,_thry) , 
  s('List.map',typingToPLN,_thry,RetVal726).


/*
;; Add extra case to List.map to handle PC
*/
/*
  (: PC 
    (List $a))
*/


mc(iz,PC2,List__a2) :- 
  eval_and_unify(PC2,'PC') , 
  eval_and_unify(List__a2,['List',_]).


/*
  (= (List.map $f PC)  
    [PC])
*/


mc('List.map',_f11,PC3,'PC'()) :- 
  ensure_evaled([->,_,_],_f11,_) , 
  eval_and_unify(PC3,'PC') , 
  info(is_value_obj('PC'())).


/*
;; Convert a typing relationship in PLN format.  It is meant to be
;; called by theoryToPLN thus does not require to update variables as
;; it is assumed that theories have no holes in them (it is an
;; interesting thought to allow holes in theories though).  It is also
;; why the converter outputs a PLN term instead of a PLN statement,
;; because the output is meant to exist at the object level, as a data
;; point of 𝛩.
*/
/*
  (: typingToPLN 
    (-> $a PLN.Term))
*/


mc(iz,TypingToPLN1,__xx__x62x___a_PLN_x46x_Term1) :- 
  eval_and_unify(TypingToPLN1,typingToPLN) , 
  eval_and_unify(__xx__x62x___a_PLN_x46x_Term1,[->,_,'PLN.Term']).


/*
  (= (typingToPLN $tyr)  
    (case 
      (get-metatype $tyr) 
      ( (Symbol (symbolToPLN $tyr)) 
        (Expression (if-decons-expr $tyr $hdtyr $tltyr (let* (($hdpln (typingToPLN $hdtyr)) ($tlpln (typingToPLN $tltyr))) (cons-atom $hdpln $tlpln)) ())) 
        ($else (Error $tyr "Case not supported in typingToPLN")))))
*/


mc(typingToPLN,_tyr1,CASE_RESULT_RetVal7281) :- 
  ensure_evaled(_,_tyr1,_tyr) , 
  s('get-metatype',_tyr,Select_caseCASE_SWITCH_20) , 
  CASE_SWITCH_20 =  
    [ caseOption('Symbol',S,[_tyr],(true,s(symbolToPLN,_tyr,S))), 
      caseOption( 'Expression', 
        Me, 
        [_tyr], 
        ( as_p1( '%Undefined%', 
            'CodeAtom', 'Atom',P1_CODE_227,B, 
            [ 'let*', 
              [ [ _hdpln, 
                  [typingToPLN,_hdtyr]], 
                [ _tlpln, 
                  [typingToPLN,_tltyr]]], 
              ['cons-atom',_hdpln,_tlpln]], 
            ( s(typingToPLN,_hdtyr,_hdpln)  ,
              s(typingToPLN,_tltyr,_tlpln) , 
              s('cons-atom',_hdpln,_tlpln,P1_CODE_227)))  ,
          as_p1( '%Undefined%', 
            'CodeAtom', 
            RetTypeNotCd228, 
            P1_CODE_228, 
            C, 
            [], 
            eval_for1(cr('CodeAtom','%Undefined%'),RetTypeNotCd228,[],P1_CODE_228)) , 
          me('if-decons-expr',_tyr,_hdtyr,_tltyr,B,C,Me))), 
      caseOption( _, 
        S7, 
        [_tyr], 
        true,s('Error',_tyr,"Case not supported in typingToPLN",S7))] , 
  select_case(CASE_SWITCH_20,Select_caseCASE_SWITCH_20,CASE_RESULT_RetVal7281).


/*
;; Like toPLN but takes the query and the surrounding premises all at
;; once, called context.  It does not take other parameters like
;; depth.  Additionally, it takes a list of variables encountered so
;; far in the context that has been consumed.  It outputs a pair of
;; list of all variables encountered so far and a PLN proposition as a
;; conjunction of 𝛩 propositions.
*/
/*
  (: contextToPLN 
    (-> 
      (List $a) 
      (List Variable) 
      (List $a) 
      (Pair 
        (List Variable) PLN.Statement)))
*/


mc( iz, 
  ContextToPLN1, 
  __xx__x62x__List__a_List_Variable_List__a_Pair_List_Variable_PLN_x46x_Statement1) :- 
  eval_and_unify(ContextToPLN1,contextToPLN) , 
  eval_and_unify( __xx__x62x__List__a_List_Variable_List__a_Pair_List_Variable_PLN_x46x_Statement1, [
    ->, 
    ['List',_a], 
    ['List','Variable'], 
    ['List',_a], 
    [ 'Pair', 
      ['List','Variable'], 
      'PLN.Statement']]).


/*
; Variables
*/
/*
; and PLN
*/
/*
; statement
*/
/*
  (= (contextToPLN $thry $vars Nil)  
    (MkPair $vars ⊤))
*/


mc(contextToPLN,_thry3,_vars1,Nil9,RetVal729) :- 
  ensure_evaled(['List',_],_thry3,_) , 
  ensure_evaled(['List','Variable'],_vars1,_vars) , 
  eval_and_unify(Nil9,'Nil') , 
  s('MkPair',_vars,⊤,RetVal729).


/*
  (= (contextToPLN $thry $vars (Cons $head $tail))  
    (let* 
      ( ( (MkPair $nvars $headpln) (queryToPLN $thry $vars $head)) ((MkPair $nnvars $tailpln) (contextToPLN $thry $nvars $tail))) 
      (MkPair $nnvars 
        (∧ $headpln $tailpln))))
*/


mc(contextToPLN,_thry4,_vars2,Cons__head__tail7,RetVal730) :- 
  ensure_evaled(['List',_],_thry4,_thry) , 
  ensure_evaled(['List','Variable'],_vars2,_vars) , 
  eval_and_unify(Cons__head__tail7,['Cons',_head,_tail]) , 
  s(queryToPLN,_thry,_vars,_head,S8) , 
  unify_with_occurs_check(S8,['MkPair',_nvars,_headpln]) , 
  s(contextToPLN,_thry,_nvars,_tail,S9) , 
  unify_with_occurs_check(S9,['MkPair',_nnvars,_tailpln]) , 
  s(∧,_headpln,_tailpln,S) , 
  s('MkPair',_nnvars,S,RetVal730).


/*
;; Like contextToPLN but only takes a single query in argument
;; alongside a list of variables so far encountered.  It returns a
;; pair of list of variables encountered so far and a PLN statement
;; corresponding to a 𝛩 atomic proposition.
*/
/*
  (: queryToPLN 
    (-> 
      (List $a) 
      (List Variable) $a 
      (Pair 
        (List Variable) PLN.Statement)))
*/


mc(iz,QueryToPLN1,__xx__x62x__List__a_List_Variable__a_Pair_List_Variable_PLN_x46x_Statement1) :- 
  eval_and_unify(QueryToPLN1,queryToPLN) , 
  eval_and_unify( __xx__x62x__List__a_List_Variable__a_Pair_List_Variable_PLN_x46x_Statement1, [
    ->, 
    ['List',_a], 
    ['List','Variable'], 
    _a, 
    [ 'Pair', 
      ['List','Variable'], 
      'PLN.Statement']]).


/*
; Variables
*/
/*
; and PLN
*/
/*
; statement
*/
/*
  (= (queryToPLN $thry $vars (: $prf $thrm))  
    (let* 
      ( ($thrypln (theoryToPLN $thry)) 
        ( (MkPair $nvars $prfpln) (proofToPLN $vars $prf)) 
        ( (MkPair $nnvars $thrmpln) (typeToPLN $nvars $thrm))) 
      (MkPair $nnvars 
        (𝛩 $thrypln $prfpln $thrmpln))))
*/


mc(queryToPLN,_thry5,_vars3,__xCx___prf__thrm1,RetVal731) :- 
  ensure_evaled(['List',_],_thry5,_thry) , 
  ensure_evaled(['List','Variable'],_vars3,_vars) , 
  eval_and_unify(__xCx___prf__thrm1,[:,_prf,_thrm]) , 
  s(theoryToPLN,_thry,_thrypln) , 
  s(proofToPLN,_vars,_prf,S10) , 
  unify_with_occurs_check(S10,['MkPair',_nvars,_prfpln]) , 
  s(typeToPLN,_nvars,_thrm,S11) , 
  unify_with_occurs_check(S11,['MkPair',_nnvars,_thrmpln]) , 
  s('𝛩',_thrypln,_prfpln,_thrmpln,S) , 
  s('MkPair',_nnvars,S,RetVal731).


/*
;; Like queryToPLN but takes a proof (or part thereof) in argument
;; alongside a list of variables so far encountered.  It outputs a
;; pair of variables encountered so far and a PLN term.
*/
/*
  (: proofToPLN 
    (-> 
      (List Variable) $a 
      (Pair (List Variable PLN.Term))))
*/


mc(iz,ProofToPLN1,__xx__x62x__List_Variable__a_Pair_List_Variable_PLN_x46x_Term1) :- 
  eval_and_unify(ProofToPLN1,proofToPLN) , 
  eval_and_unify( __xx__x62x__List_Variable__a_Pair_List_Variable_PLN_x46x_Term1, [
    ->, 
    ['List','Variable'], 
    _, 
    [ 'Pair', 
      ['List','Variable','PLN.Term']]]).


/*
; Variables and PLN
*/
/*
; term
*/
/*
  (= (proofToPLN $vars $prf)  
    (case 
      (get-metatype $prf) 
      ( (Variable (variableToPLN $vars $prf)) 
        (Symbol (MkPair $vars (symbolToPLN $prf))) 
        (Expression (if-decons-expr $prf $hdprf $tlprf (let* (((MkPair $nvars $hdpln) (proofToPLN $vars $hdprf)) ((MkPair $nnvars $tlpln) (proofToPLN $nvars $tlprf)) ($prfpln (cons-atom $hdpln $tlpln))) (MkPair $nnvars $prfpln)) (MkPair $vars ()))))))
*/


mc(proofToPLN,_vars4,_prf1,CASE_RESULT_RetVal7321) :- 
  ensure_evaled(['List','Variable'],_vars4,_vars) , 
  ensure_evaled(_,_prf1,_prf) , 
  s('get-metatype',_prf,Select_caseCASE_SWITCH_21) , 
  CASE_SWITCH_21 =  
    [ caseOption( 'Variable', 
        S, 
        [_prf], 
        true,s(variableToPLN,_vars,_prf,S)), 
      caseOption( 'Symbol', 
        S6, 
        [_prf], 
        true,s(symbolToPLN,_prf,S5),s('MkPair',_vars,S5,S6)), 
      caseOption( 'Expression', 
        Me, 
        [_prf], 
        ( as_p1( '%Undefined%', 
            'CodeAtom', 
            ['Pair',_,_], P1_CODE_229,B, 
            [ 'let*', 
              [ [ [  'MkPair' ,  _nvars  ,  _hdpln  ],
                  [ proofToPLN,  _vars   ,  _hdprf  ]], 
                [ [  'MkPair' , _nnvars  ,  _tlpln  ],
                  [ proofToPLN,  _nvars  ,  _tlprf  ]], 
                [ _prfpln, 
                  ['cons-atom',_hdpln,_tlpln]]], 
              ['MkPair',_nnvars,_prfpln]], 
            ( s(proofToPLN,_vars,_hdprf,S7)  ,
              unify_with_occurs_check(S7,['MkPair',_nvars,_hdpln]) , 
              s(proofToPLN,_nvars,_tlprf,S8) , 
              unify_with_occurs_check(S8,['MkPair',_nnvars,_tlpln]) , 
              s('cons-atom',_hdpln,_tlpln,_prfpln) , 
              s('MkPair',_nnvars,_prfpln,P1_CODE_229)))  ,
          as_p1( '%Undefined%', 
            'CodeAtom', 
            ['Pair',_,Type_MkPair__2___7], P1_CODE_230,C, 
            ['MkPair',_vars,[]], 
              ((
               (eval_for1(cr('CodeAtom','%Undefined%'),Type_MkPair__2___7,[],For1)),
               (s('MkPair',_vars,For1,P1_CODE_230))  ))) , 
          me('if-decons-expr',_prf,_hdprf,_tlprf,B,C,Me)))] , 
  select_case(CASE_SWITCH_21,Select_caseCASE_SWITCH_21,CASE_RESULT_RetVal7321).


/*
;; Like proofToPLN but takes a type (or part thereof) in argument
;; alongside a list of variables so far encountered.
*/
/*
  (: typeToPLN 
    (-> 
      (List Variable) $a 
      (Pair 
        (List Variable) PLN.Term)))
*/


mc(iz,TypeToPLN1,__xx__x62x__List_Variable__a_Pair_List_Variable_PLN_x46x_Term2) :- 
  eval_and_unify(TypeToPLN1,typeToPLN) , 
  eval_and_unify( __xx__x62x__List_Variable__a_Pair_List_Variable_PLN_x46x_Term2, [
    ->, 
    ['List','Variable'], 
    _, 
    [ 'Pair', 
      ['List','Variable'], 
      'PLN.Term']]).


/*
; Variables and
*/
/*
; PLN term
*/
/*
  (= (typeToPLN $vars $type)  
    (case 
      (get-metatype $type) 
      ( (Variable (variableToPLN $vars $type)) 
        (Symbol (MkPair $vars (symbolToPLN $type))) 
        (Expression (if-decons-expr $type $hdty $tlty (let* (((MkPair $nvars $hdpln) (typeToPLN $vars $hdty)) ((MkPair $nnvars $tlpln) (typeToPLN $nvars $tlty)) ($typln (cons-atom $hdpln $tlpln))) (MkPair $nnvars $typln)) (MkPair $vars ()))))))
*/


mc(typeToPLN,_vars5,_type9,CASE_RESULT_RetVal7331) :- 
  ensure_evaled(['List','Variable'],_vars5,_vars) , 
  ensure_evaled(_,_type9,_type) , 
  s('get-metatype',_type,Select_caseCASE_SWITCH_22) , 
  CASE_SWITCH_22 =  
    [ caseOption( 'Variable', 
        S, 
        [_type], 
        true,s(variableToPLN,_vars,_type,S)), 
      caseOption( 'Symbol', 
        S6, 
        [_type], 
        true,s(symbolToPLN,_type,S5),s('MkPair',_vars,S5,S6)), 
      caseOption( 'Expression', 
        Me, 
        [_type], 
        ( as_p1( '%Undefined%', 
            'CodeAtom', 
            ['Pair',_,_], P1_CODE_231,B, 
            [ 'let*', 
              [ [ [ 'MkPair' , _nvars  , _hdpln  ],
                  [ typeToPLN,  _vars  ,  _hdty  ]], 
                [ [ 'MkPair' , _nnvars , _tlpln  ],
                  [ typeToPLN, _nvars  ,  _tlty  ]], 
                [ _typln, 
                  ['cons-atom',_hdpln,_tlpln]]], 
              ['MkPair',_nnvars,_typln]], 
            ( s(typeToPLN,_vars,_hdty,S7)  ,
              unify_with_occurs_check(S7,['MkPair',_nvars,_hdpln]) , 
              s(typeToPLN,_nvars,_tlty,S8) , 
              unify_with_occurs_check(S8,['MkPair',_nnvars,_tlpln]) , 
              s('cons-atom',_hdpln,_tlpln,_typln) , 
              s('MkPair',_nnvars,_typln,P1_CODE_231)))  ,
          as_p1( '%Undefined%', 
            'CodeAtom', 
            ['Pair',_,Type_MkPair__2___10], P1_CODE_232,C, 
            ['MkPair',_vars,[]], 
              ((
               (eval_for1(cr('CodeAtom','%Undefined%'),Type_MkPair__2___10,[],For1)),
               (s('MkPair',_vars,For1,P1_CODE_232))  ))) , 
          me('if-decons-expr',_type,_hdty,_tlty,B,C,Me)))] , 
  select_case(CASE_SWITCH_22,Select_caseCASE_SWITCH_22,CASE_RESULT_RetVal7331).


/*
;; Turn a variable into its corresponding DeBruijn index and update
;; the list of encountered variables if necessary.
*/
/*
  (: variableToPLN 
    (-> 
      (List Variable) Variable 
      (Pair 
        (List Variable) PLN.Term)))
*/


mc(iz,VariableToPLN1,__xx__x62x__List_Variable_Variable_Pair_List_Variable_PLN_x46x_Term1) :- 
  eval_and_unify(VariableToPLN1,variableToPLN) , 
  eval_and_unify( __xx__x62x__List_Variable_Variable_Pair_List_Variable_PLN_x46x_Term1, [
    ->, 
    ['List','Variable'], 
    'Variable', 
    [ 'Pair', 
      ['List','Variable'], 
      'PLN.Term']]).


/*
  (= (variableToPLN $vars $var)  
    (case 
      (List.elemIndex $var $vars) 
      ( ( (Just $idx) (MkPair $vars (toDeBruijn $idx))) (Nothing (MkPair (List.appendElem $var $vars) (toDeBruijn (List.length $vars)))))))
*/


mc(variableToPLN,_vars6,_var,CASE_RESULT_RetVal7341) :- 
  ensure_evaled(['List','Variable'],_vars6,_vars) , 
  s('List.elemIndex',_var,_vars,Select_caseCASE_SWITCH_23) , 
  CASE_SWITCH_23 =  
    [ caseOption( ['Just',_idx], 
        S4, 
        [_var,_vars], 
        true,s(toDeBruijn,_idx,S),s('MkPair',_vars,S,S4)), 
      caseOption( 'Nothing', 
        S8, 
        [_var,_vars], 
        ( s('List.appendElem',_var,_vars,S5)  ,
          s('List.length',_vars,S6) , 
          s(toDeBruijn,S6,S7) , 
          s('MkPair',S5,S7,S8)))] , 
  select_case(CASE_SWITCH_23,Select_caseCASE_SWITCH_23,CASE_RESULT_RetVal7341).


/*
;; Turn a symbol, proof or type into its corresponding PLN term.  It
;; could probably be simplified by automatically adding underscored
;; around any symbol, but I feel it's better for now to exhaustively
;; enumerate all supported symbols for the sake of clarity.
;;
;; Note that the output type is anything because it may return not
;; only PLN terms but also PLN functions, going from terms to terms,
;; such as [→].
*/
/*
  (: symbolToPLN 
    (-> Symbol $a))
*/


mc(iz,SymbolToPLN1,__xx__x62x__Symbol__a1) :- 
  eval_and_unify(SymbolToPLN1,symbolToPLN) , 
  eval_and_unify(__xx__x62x__Symbol__a1,[->,'Symbol',_]).


/*
  (= (symbolToPLN $x)  
    (parse (String.append3 "[" (repr $x) "]")))
*/


mc(symbolToPLN,_x25,RetVal735) :- 
  ensure_evaled('Symbol',_x25,_x) , 
  s(repr,_x,S) , 
  s('String.append3',"[",S,"]",Parse) , 
  s(parse,Parse,RetVal735).


/*
;; Test typingToPLN
*/
/*
  ! (assertEqual 
      (typingToPLN (: a1i.1 𝜑)) 
      ( [ : ] 
        [a1i.1] 
        [ 𝜑 ]))
*/


top_call_50:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_31 =  
                      [ assertEqual, 
                        [ typingToPLN, 
                          [:,'a1i.1',𝜑]], 
                        [:(),'a1i.1'(),𝜑()]]),
                   (loonit_assert_source_tf_empty( src(Src_31), 
                      FARL_61, 
                      FARL_62, 
                        ((
                         (findall_ne( FA_61, 
                            true,s(:,'a1i.1',𝜑,TypingToPLN_𝜑),s(typingToPLN,TypingToPLN_𝜑,FA_61), 
                            FARL_61)),
                         (findall_ne( FA_62, 
                            info(is_value_obj('a1i.1'())),info(is_value_obj(𝜑())),s(:(),'a1i.1'(),𝜑(),FA_62), 
                            FARL_62))  )), 
                      equal_enough_for_test(FARL_61,FARL_62), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi37"></span><span class="ansi1 ansi37 ansi40"></span><span class="ansi1 ansi37 ansi40">

( ==> ( 
   top_call_50:- do_metta_runtime( Equal_enough_for_test15, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ typingToPLN, 
                             [:,'a1i.1',𝜑]], 
                           [:(),'a1i.1'(),𝜑()]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test14, 
                         Test_Ne, 
                           ((
                            (findall_ne( S, 
                               true,s(:,'a1i.1',𝜑,TypingToPLN_𝜑11),s(typingToPLN,TypingToPLN_𝜑11,S), 
                               Equal_enough_for_test14)),
                            (findall_ne( S_𝜑13, 
                               info(is_value_obj('a1i.1'())),info(is_value_obj(𝜑())),s(:(),'a1i.1'(),𝜑(),S_𝜑13), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test14,Test_Ne), 
                         Equal_enough_for_test15))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_50)).


</span>top_call :-
    time(top_call_50).


/*
  ! (assertEqual 
      (typingToPLN PC) 
      [PC])
*/


top_call_51:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_32 =  
                      [ assertEqual, 
                        [typingToPLN,'PC'], 
                        'PC'()]),
                   (loonit_assert_source_tf_empty( src(Src_32), 
                      FARL_63, 
                      FARL_64, 
                        ((
                         (findall_ne(FA_63,(true,s(typingToPLN,'PC',FA_63)),FARL_63)),
                         (findall_ne('PC'(),info(is_value_obj('PC'())),FARL_64))  )), 
                      equal_enough_for_test(FARL_63,FARL_64), 
                      Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2 ansi37"></span><span class="ansi2 ansi37 ansi40"></span><span class="ansi2 ansi37 ansi40">

( ==> ( 
   top_call_51:- do_metta_runtime( Equal_enough_for_test9, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [typingToPLN,'PC'], 
                           'PC'()]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test8, 
                         Test_Ne_Info, 
                           ((
                            (findall_ne( S_PC, 
                               true,s(typingToPLN,'PC',S_PC), 
                               Equal_enough_for_test8)),
                            (findall_ne('PC'(),info(is_value_obj('PC'())),Test_Ne_Info))  )), 
                         equal_enough_for_test(Equal_enough_for_test8,Test_Ne_Info), 
                         Equal_enough_for_test9))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_51)).


</span>top_call :-
    time(top_call_51).


/*
;; Test theoryToPLN
*/
/*
  ! (assertEqual 
      (theoryToPLN Nil) Nil)
*/


top_call_52:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_33 =  
                      [ assertEqual, 
                        [theoryToPLN,'Nil'], 
                        'Nil']),
                   (loonit_assert_source_tf_empty( src(Src_33), 
                      FARL_65, 
                      FARL_66, 
                        ((
                         (findall_ne(FA_65,(true,s(theoryToPLN,'Nil',FA_65)),FARL_65)),
                         (findall_ne('Nil',true,FARL_66))  )), 
                      equal_enough_for_test(FARL_65,FARL_66), 
                      Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2 ansi35"></span><span class="ansi2 ansi35"></span><span class="ansi2 ansi35">

( ==> ( 
   top_call_52:- do_metta_runtime( Equal_enough_for_test9, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [theoryToPLN,'Nil'], 
                           'Nil']),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test8, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( Nil, 
                               true,s(theoryToPLN,'Nil',Nil), 
                               Equal_enough_for_test8)),
                            (findall_ne('Nil',true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test8,Test_Ne_True), 
                         Equal_enough_for_test9))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_52)).


</span>top_call :-
    time(top_call_52).


/*
  ! (assertEqual 
      (theoryToPLN PC) 
      [PC])
*/


top_call_53:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_34 =  
                      [ assertEqual, 
                        [theoryToPLN,'PC'], 
                        'PC'()]),
                   (loonit_assert_source_tf_empty( src(Src_34), 
                      FARL_67, 
                      FARL_68, 
                        ((
                         (findall_ne(FA_67,(true,s(theoryToPLN,'PC',FA_67)),FARL_67)),
                         (findall_ne('PC'(),info(is_value_obj('PC'())),FARL_68))  )), 
                      equal_enough_for_test(FARL_67,FARL_68), 
                      Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2 ansi37"></span><span class="ansi2 ansi37 ansi40"></span><span class="ansi2 ansi37 ansi40">

( ==> ( 
   top_call_53:- do_metta_runtime( Equal_enough_for_test9, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [theoryToPLN,'PC'], 
                           'PC'()]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test8, 
                         Test_Ne_Info, 
                           ((
                            (findall_ne( S_PC, 
                               true,s(theoryToPLN,'PC',S_PC), 
                               Equal_enough_for_test8)),
                            (findall_ne('PC'(),info(is_value_obj('PC'())),Test_Ne_Info))  )), 
                         equal_enough_for_test(Equal_enough_for_test8,Test_Ne_Info), 
                         Equal_enough_for_test9))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_53)).


</span>top_call :-
    time(top_call_53).


/*
  ! (assertEqual 
      (theoryToPLN (Cons (: a1i.1 𝜑) Nil)) 
      (Cons 
        ( [ : ] 
          [a1i.1] 
          [ 𝜑 ]) Nil))
*/


top_call_54:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_35 =  
                      [ assertEqual, 
                        [ theoryToPLN, 
                          [ 'Cons', 
                            [:,'a1i.1',𝜑], 
                            'Nil']], 
                        [ 'Cons', 
                          [:(),'a1i.1'(),𝜑()], 
                          'Nil']]),
                   (loonit_assert_source_tf_empty( src(Src_35), 
                      FARL_69, 
                      FARL_70, 
                        ((
                         (findall_ne( FA_69, 
                            ( s(:,'a1i.1',𝜑,Cons_𝜑)  ,
                              s('Cons',Cons_𝜑,'Nil',TheoryToPLN_Nil) , 
                              s(theoryToPLN,TheoryToPLN_Nil,FA_69)), 
                            FARL_69)),
                         (findall_ne( FA_70, 
                            ( info(is_value_obj('a1i.1'()))  ,
                              info(is_value_obj(𝜑())) , 
                              s(:(),'a1i.1'(),𝜑(),Cons_𝜑6) , 
                              s('Cons',Cons_𝜑6,'Nil',FA_70)), 
                            FARL_70))  )), 
                      equal_enough_for_test(FARL_69,FARL_70), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi37"></span><span class="ansi1 ansi37 ansi40"></span><span class="ansi1 ansi37 ansi40">

( ==> ( 
   top_call_54:- do_metta_runtime( Equal_enough_for_test23, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ theoryToPLN, 
                             [ 'Cons', 
                               [:,'a1i.1',𝜑], 
                               'Nil']], 
                           [ 'Cons', 
                             [:(),'a1i.1'(),𝜑()], 
                             'Nil']]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test22, 
                         Test_Ne, 
                           ((
                            (findall_ne( S, 
                               ( s(:,'a1i.1',𝜑,Cons_𝜑15)  ,
                                 s('Cons',Cons_𝜑15,'Nil',TheoryToPLN_Nil17) , 
                                 s(theoryToPLN,TheoryToPLN_Nil17,S)), 
                               Equal_enough_for_test22)),
                            (findall_ne( Nil21, 
                               ( info(is_value_obj('a1i.1'()))  ,
                                 info(is_value_obj(𝜑())) , 
                                 s(:(),'a1i.1'(),𝜑(),Cons_𝜑19) , 
                                 s('Cons',Cons_𝜑19,'Nil',Nil21)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test22,Test_Ne), 
                         Equal_enough_for_test23))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_54)).


</span>top_call :-
    time(top_call_54).


/*
  ! (assertEqual 
      (theoryToPLN (Cons (: a1i.1 𝜑) PC)) 
      (Cons 
        ( [ : ] 
          [a1i.1] 
          [ 𝜑 ]) 
        [PC]))
*/


top_call_55:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_36 =  
                      [ assertEqual, 
                        [ theoryToPLN, 
                          [ 'Cons', 
                            [:,'a1i.1',𝜑], 
                            'PC']], 
                        [ 'Cons', 
                          [:(),'a1i.1'(),𝜑()], 
                          'PC'()]]),
                   (loonit_assert_source_tf_empty( src(Src_36), 
                      FARL_71, 
                      FARL_72, 
                        ((
                         (findall_ne( FA_71, 
                            ( s(:,'a1i.1',𝜑,Cons_𝜑)  ,
                              s('Cons',Cons_𝜑,'PC',TheoryToPLN_PC) , 
                              s(theoryToPLN,TheoryToPLN_PC,FA_71)), 
                            FARL_71)),
                         (findall_ne( FA_72, 
                            ( info(is_value_obj('a1i.1'()))  ,
                              info(is_value_obj(𝜑())) , 
                              s(:(),'a1i.1'(),𝜑(),Cons_𝜑6) , 
                              info(is_value_obj('PC'())) , 
                              s('Cons',Cons_𝜑6,'PC'(),FA_72)), 
                            FARL_72))  )), 
                      equal_enough_for_test(FARL_71,FARL_72), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi37"></span><span class="ansi1 ansi37 ansi40"></span><span class="ansi1 ansi37 ansi40">

( ==> ( 
   top_call_55:- do_metta_runtime( Equal_enough_for_test23, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ theoryToPLN, 
                             [ 'Cons', 
                               [:,'a1i.1',𝜑], 
                               'PC']], 
                           [ 'Cons', 
                             [:(),'a1i.1'(),𝜑()], 
                             'PC'()]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test22, 
                         Test_Ne, 
                           ((
                            (findall_ne( S, 
                               ( s(:,'a1i.1',𝜑,Cons_𝜑15)  ,
                                 s('Cons',Cons_𝜑15,'PC',TheoryToPLN_PC17) , 
                                 s(theoryToPLN,TheoryToPLN_PC17,S)), 
                               Equal_enough_for_test22)),
                            (findall_ne( S_PC21, 
                               ( info(is_value_obj('a1i.1'()))  ,
                                 info(is_value_obj(𝜑())) , 
                                 s(:(),'a1i.1'(),𝜑(),Cons_𝜑19) , 
                                 info(is_value_obj('PC'())) , 
                                 s('Cons',Cons_𝜑19,'PC'(),S_PC21)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test22,Test_Ne), 
                         Equal_enough_for_test23))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_55)).


</span>top_call :-
    time(top_call_55).


/*
;; Test variableToPLN
*/
/*
  ! (assertEqual 
      (variableToPLN Nil $prf) 
      (MkPair 
        (Cons $prf Nil) z))
*/


top_call_56:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_37 =  
                      [ assertEqual, 
                        [variableToPLN,'Nil',_prf], 
                        [ 'MkPair', 
                          ['Cons',_prf,'Nil'], 
                          z]]),
                   (loonit_assert_source_tf_empty( src(Src_37), 
                      FARL_73, 
                      FARL_74, 
                        ((
                         (findall_ne(FA_73,(true,s(variableToPLN,'Nil',_prf,FA_73)),FARL_73)),
                         (findall_ne( FA_74, 
                              ((
                               (true),
                               (s('Cons',_prf,'Nil',Pair_Nil),true,s('MkPair',Pair_Nil,z,FA_74))  )), 
                            FARL_74))  )), 
                      equal_enough_for_test(FARL_73,FARL_74), 
                      Equal_enough_for_test))  ))).


<span class="ansi97"></span><span class="ansi97 ansi40"></span><span class="ansi97 ansi40">

( ==> ( 
   top_call_56:- do_metta_runtime( Equal_enough_for_test19, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [variableToPLN,'Nil',Cons_Nil13], 
                           [ 'MkPair', 
                             ['Cons',Cons_Nil13,'Nil'], 
                             z]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test18, 
                         Test_Ne, 
                           ((
                            (findall_ne( S, 
                               true,s(variableToPLN,'Nil',Cons_Nil13,S), 
                               Equal_enough_for_test18)),
                            (findall_ne( S_Z, 
                                 ((
                                  (true),
                                  (  ((
                                      (s('Cons',Cons_Nil13,'Nil',Pair_Nil15)),
                                      (true,s('MkPair',Pair_Nil15,z,S_Z))  )))  )), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test18,Test_Ne), 
                         Equal_enough_for_test19))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_56)).


</span>top_call :-
    time(top_call_56).


/*
  ! (assertEqual 
      (variableToPLN 
        (Cons $prf Nil) $prf) 
      (MkPair 
        (Cons $prf Nil) z))
*/


top_call_57:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_38 =  
                      [ assertEqual, 
                        [ variableToPLN, 
                          ['Cons',_prf,'Nil'], 
                          _prf], 
                        [ 'MkPair', 
                          ['Cons',_prf,'Nil'], 
                          z]]),
                   (loonit_assert_source_tf_empty( src(Src_38), 
                      FARL_75, 
                      FARL_76, 
                        ((
                         (findall_ne( FA_75, 
                              ((
                               (true),
                               (  ((
                                   (s('Cons',_prf,'Nil',VariableToPLN_Nil)),
                                   (true,s(variableToPLN,VariableToPLN_Nil,_prf,FA_75))  )))  )), 
                            FARL_75)),
                         (findall_ne( FA_76, 
                              ((
                               (true),
                               (s('Cons',_prf,'Nil',Pair_Nil5),true,s('MkPair',Pair_Nil5,z,FA_76))  )), 
                            FARL_76))  )), 
                      equal_enough_for_test(FARL_75,FARL_76), 
                      Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2 ansi35"></span><span class="ansi2 ansi35"></span><span class="ansi2 ansi35">

( ==> ( 
   top_call_57:- do_metta_runtime( Equal_enough_for_test21, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ variableToPLN, 
                             ['Cons',Cons,'Nil'], 
                             Cons], 
                           [ 'MkPair', 
                             ['Cons',Cons,'Nil'], 
                             z]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test20, 
                         Test_Ne, 
                           ((
                            (findall_ne( S, 
                                 ((
                                  (true),
                                  (  ((
                                      (s('Cons',Cons,'Nil',VariableToPLN_Nil15)),
                                      (true,s(variableToPLN,VariableToPLN_Nil15,Cons,S))  )))  )), 
                               Equal_enough_for_test20)),
                            (findall_ne( S_Z, 
                                 ((
                                  (true),
                                  (s('Cons',Cons,'Nil',Pair_Nil17),true,s('MkPair',Pair_Nil17,z,S_Z))  )), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test20,Test_Ne), 
                         Equal_enough_for_test21))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_57)).


</span>top_call :-
    time(top_call_57).


/*
;; Test proofToPLN
*/
/*
  ! (assertEqual 
      (proofToPLN Nil $prf) 
      (MkPair 
        (Cons $prf Nil) z))
*/


top_call_58:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_39 =  
                      [ assertEqual, 
                        [proofToPLN,'Nil',_prf], 
                        [ 'MkPair', 
                          ['Cons',_prf,'Nil'], 
                          z]]),
                   (loonit_assert_source_tf_empty( src(Src_39), 
                      FARL_77, 
                      FARL_78, 
                        ((
                         (findall_ne(FA_77,(true,s(proofToPLN,'Nil',_prf,FA_77)),FARL_77)),
                         (findall_ne( FA_78, 
                              ((
                               (true),
                               (s('Cons',_prf,'Nil',Pair_Nil),true,s('MkPair',Pair_Nil,z,FA_78))  )), 
                            FARL_78))  )), 
                      equal_enough_for_test(FARL_77,FARL_78), 
                      Equal_enough_for_test))  ))).


<span class="ansi97"></span><span class="ansi97 ansi40"></span><span class="ansi97 ansi40">

( ==> ( 
   top_call_58:- do_metta_runtime( Equal_enough_for_test19, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [proofToPLN,'Nil',Cons_Nil13], 
                           [ 'MkPair', 
                             ['Cons',Cons_Nil13,'Nil'], 
                             z]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test18, 
                         Test_Ne, 
                           ((
                            (findall_ne( S, 
                               true,s(proofToPLN,'Nil',Cons_Nil13,S), 
                               Equal_enough_for_test18)),
                            (findall_ne( S_Z, 
                                 ((
                                  (true),
                                  (  ((
                                      (s('Cons',Cons_Nil13,'Nil',Pair_Nil15)),
                                      (true,s('MkPair',Pair_Nil15,z,S_Z))  )))  )), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test18,Test_Ne), 
                         Equal_enough_for_test19))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_58)).


</span>top_call :-
    time(top_call_58).


/*
;; Test typeToPLN
*/
/*
  ! (assertEqual 
      (typeToPLN Nil 𝜑) 
      (MkPair Nil 
        [ 𝜑 ]))
*/


top_call_59:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_40 =  
                      [ assertEqual, 
                        [typeToPLN,'Nil',𝜑], 
                        ['MkPair','Nil',𝜑()]]),
                   (loonit_assert_source_tf_empty( src(Src_40), 
                      FARL_79, 
                      FARL_80, 
                        ((
                         (findall_ne(FA_79,(true,s(typeToPLN,'Nil',𝜑,FA_79)),FARL_79)),
                         (findall_ne( FA_80, 
                            info(is_value_obj(𝜑())),s('MkPair','Nil',𝜑(),FA_80), 
                            FARL_80))  )), 
                      equal_enough_for_test(FARL_79,FARL_80), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi37"></span><span class="ansi1 ansi37 ansi40"></span><span class="ansi1 ansi37 ansi40">

( ==> ( 
   top_call_59:- do_metta_runtime( Equal_enough_for_test11, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [typeToPLN,'Nil',𝜑], 
                           ['MkPair','Nil',𝜑()]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test10, 
                         Test_Ne, 
                           ((
                            (findall_ne( S_𝜑, 
                               true,s(typeToPLN,'Nil',𝜑,S_𝜑), 
                               Equal_enough_for_test10)),
                            (findall_ne( S_𝜑9, 
                               info(is_value_obj(𝜑())),s('MkPair','Nil',𝜑(),S_𝜑9), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test10,Test_Ne), 
                         Equal_enough_for_test11))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_59)).


</span>top_call :-
    time(top_call_59).


/*
  ! (assertEqual 
      (typeToPLN Nil 
        (→ 𝜓 𝜑)) 
      (MkPair Nil 
        ( [ → ] 
          [ 𝜓 ] 
          [ 𝜑 ])))
*/


top_call_60:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_41 =  
                      [ assertEqual, 
                        [ typeToPLN, 
                          'Nil', 
                          [→,𝜓,𝜑]], 
                        [ 'MkPair', 
                          'Nil', 
                          [→(),𝜓(),𝜑()]]]),
                   (loonit_assert_source_tf_empty( src(Src_41), 
                      FARL_81, 
                      FARL_82, 
                        ((
                         (findall_ne( FA_81, 
                            true,s(→,𝜓,𝜑,Nil_𝜑),s(typeToPLN,'Nil',Nil_𝜑,FA_81), 
                            FARL_81)),
                         (findall_ne( FA_82, 
                            ( info(is_value_obj(𝜓()))  ,
                              info(is_value_obj(𝜑())) , 
                              s(→(),𝜓(),𝜑(),Nil_𝜑4) , 
                              s('MkPair','Nil',Nil_𝜑4,FA_82)), 
                            FARL_82))  )), 
                      equal_enough_for_test(FARL_81,FARL_82), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi37"></span><span class="ansi1 ansi37 ansi40"></span><span class="ansi1 ansi37 ansi40">

( ==> ( 
   top_call_60:- do_metta_runtime( Equal_enough_for_test19, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ typeToPLN, 
                             'Nil', 
                             [→,𝜓,𝜑]], 
                           [ 'MkPair', 
                             'Nil', 
                             [→(),𝜓(),𝜑()]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test18, 
                         Test_Ne, 
                           ((
                            (findall_ne( S, 
                               true,s(→,𝜓,𝜑,Nil_𝜑14),s(typeToPLN,'Nil',Nil_𝜑14,S), 
                               Equal_enough_for_test18)),
                            (findall_ne( S22, 
                               ( info(is_value_obj(𝜓()))  ,
                                 info(is_value_obj(𝜑())) , 
                                 s(→(),𝜓(),𝜑(),Nil_𝜑16) , 
                                 s('MkPair','Nil',Nil_𝜑16,S22)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test18,Test_Ne), 
                         Equal_enough_for_test19))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_60)).


</span>top_call :-
    time(top_call_60).


/*
;; Test queryToPLN
*/
/*
  ! (assertEqual 
      (queryToPLN Nil Nil 
        (: $prf 𝜑)) 
      (MkPair 
        (Cons $prf Nil) 
        (𝛩 Nil z 
          [ 𝜑 ])))
*/


top_call_61:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_42 =  
                      [ assertEqual, 
                        [ queryToPLN, 'Nil','Nil', 
                          [:,_prf,𝜑]], 
                        [ 'MkPair', 
                          ['Cons',_prf,'Nil'], 
                          ['𝛩','Nil',z,𝜑()]]]),
                   (loonit_assert_source_tf_empty( src(Src_42), 
                      FARL_83, 
                      FARL_84, 
                        ((
                         (findall_ne( FA_83, 
                            true,s(:,_prf,𝜑,Nil_𝜑),s(queryToPLN,'Nil','Nil',Nil_𝜑,FA_83), 
                            FARL_83)),
                         (findall_ne( FA_84, 
                            ( s('Cons',_prf,'Nil',Pair_Nil)  ,
                              info(is_value_obj(𝜑())) , 
                              s('𝛩','Nil',z,𝜑(),S_𝜑7) , 
                              s('MkPair',Pair_Nil,S_𝜑7,FA_84)), 
                            FARL_84))  )), 
                      equal_enough_for_test(FARL_83,FARL_84), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi37"></span><span class="ansi1 ansi37 ansi40"></span><span class="ansi1 ansi37 ansi40">

( ==> ( 
   top_call_61:- do_metta_runtime( Equal_enough_for_test26, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ queryToPLN, 'Nil','Nil', 
                             [:,Cons_Kw,𝜑]], 
                           [ 'MkPair', 
                             ['Cons',Cons_Kw,'Nil'], 
                             ['𝛩','Nil',z,𝜑()]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test25, 
                         Test_Ne, 
                           ((
                            (findall_ne( S, 
                                 ((
                                  (true),
                                  (  ((
                                      (s(:,Cons_Kw,𝜑,Nil_𝜑19)),
                                      (s(queryToPLN,'Nil','Nil',Nil_𝜑19,S))  )))  )), 
                               Equal_enough_for_test25)),
                            (findall_ne( S30, 
                               ( s('Cons',Cons_Kw,'Nil',Pair_Nil22)  ,
                                 info(is_value_obj(𝜑())) , 
                                 s('𝛩','Nil',z,𝜑(),S_𝜑23) , 
                                 s('MkPair',Pair_Nil22,S_𝜑23,S30)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test25,Test_Ne), 
                         Equal_enough_for_test26))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_61)).


</span>top_call :-
    time(top_call_61).


/*
  ! (assertEqual 
      (queryToPLN Nil Nil 
        (: $prf 
          (→ 𝜓 𝜑))) 
      (MkPair 
        (Cons $prf Nil) 
        (𝛩 Nil z 
          ( [ → ] 
            [ 𝜓 ] 
            [ 𝜑 ]))))
*/


top_call_62:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_43 =  
                      [ assertEqual, 
                        [ queryToPLN, 'Nil','Nil', 
                          [ :, 
                            _prf, 
                            [→,𝜓,𝜑]]], 
                        [ 'MkPair', 
                          ['Cons',_prf,'Nil'], 
                          [ '𝛩', 'Nil',z, 
                            [→(),𝜓(),𝜑()]]]]),
                   (loonit_assert_source_tf_empty( src(Src_43), 
                      FARL_85, 
                      FARL_86, 
                        ((
                         (findall_ne( FA_85, 
                            ( s(→,𝜓,𝜑,S_𝜑)  ,
                              s(:,_prf,S_𝜑,Nil) , 
                              s(queryToPLN,'Nil','Nil',Nil,FA_85)), 
                            FARL_85)),
                         (findall_ne( FA_86, 
                            ( s('Cons',_prf,'Nil',Pair_Nil6)  ,
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜑())) , 
                              s(→(),𝜓(),𝜑(),S_Z_𝜑7) , 
                              s('𝛩','Nil',z,S_Z_𝜑7,S) , 
                              s('MkPair',Pair_Nil6,S,FA_86)), 
                            FARL_86))  )), 
                      equal_enough_for_test(FARL_85,FARL_86), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi37"></span><span class="ansi1 ansi37 ansi40"></span><span class="ansi1 ansi37 ansi40">

( ==> ( 
   top_call_62:- do_metta_runtime( Equal_enough_for_test31, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ queryToPLN, 'Nil','Nil', 
                             [ :, 
                               Cons_Kw, 
                               [→,𝜓,𝜑]]], 
                           [ 'MkPair', 
                             ['Cons',Cons_Kw,'Nil'], 
                             [ '𝛩', 'Nil',z, 
                               [→(),𝜓(),𝜑()]]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test30, 
                         Test_Ne, 
                           ((
                            (findall_ne( S34, 
                               ( s(→,𝜓,𝜑,S_𝜑21)  ,
                                 s(:,Cons_Kw,S_𝜑21,Nil23) , 
                                 s(queryToPLN,'Nil','Nil',Nil23,S34)), 
                               Equal_enough_for_test30)),
                            (findall_ne( S36, 
                               ( s('Cons',Cons_Kw,'Nil',Pair_Nil25)  ,
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜑())) , 
                                 s(→(),𝜓(),𝜑(),S_Z_𝜑26) , 
                                 s('𝛩','Nil',z,S_Z_𝜑26,S29) , 
                                 s('MkPair',Pair_Nil25,S29,S36)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test30,Test_Ne), 
                         Equal_enough_for_test31))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_62)).


</span>top_call :-
    time(top_call_62).


/*
  ! (assertEqual 
      (queryToPLN PC Nil 
        (: ax-3 
          (→ 
            (→ 
              (¬ 𝜑) 
              (¬ 𝜓)) 
            (→ 𝜓 𝜑)))) 
      (MkPair Nil 
        (𝛩 
          [PC] 
          [ax-3] 
          ( [ → ] 
            ( [ → ] 
              ( [ ¬ ] [ 𝜑 ]) 
              ( [ ¬ ] [ 𝜓 ])) 
            ( [ → ] 
              [ 𝜓 ] 
              [ 𝜑 ])))))
*/


top_call_63:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_44 =  
                      [ assertEqual, 
                        [ queryToPLN, 'PC','Nil', 
                          [ :, 
                            'ax-3', 
                            [ →, 
                              [ →, 
                                [¬,𝜑], 
                                [¬,𝜓]], 
                              [→,𝜓,𝜑]]]], 
                        [ 'MkPair', 
                          'Nil', 
                          [ '𝛩', 'PC'(),'ax-3'(), 
                            [ →(), 
                              [ →(), 
                                [¬(),𝜑()], 
                                [¬(),𝜓()]], 
                              [→(),𝜓(),𝜑()]]]]]),
                   (loonit_assert_source_tf_empty( src(Src_44), 
                      FARL_87, 
                      FARL_88, 
                        ((
                         (findall_ne( FA_87, 
                            ( s(¬,𝜑,S_𝜑)  ,
                              s(¬,𝜓,S_𝜓) , 
                              s(→,S_𝜑,S_𝜓,S) , 
                              s(→,𝜓,𝜑,S_𝜑3) , 
                              s(→,S,S_𝜑3,Ax_3) , 
                              s(:,'ax-3',Ax_3,Nil) , 
                              s(queryToPLN,'PC','Nil',Nil,FA_87)), 
                            FARL_87)),
                         (findall_ne( FA_88, 
                            ( info(is_value_obj('PC'()))  ,
                              info(is_value_obj('ax-3'())) , 
                              info(is_value_obj(𝜑())) , 
                              s(¬(),𝜑(),S_𝜑7) , 
                              info(is_value_obj(𝜓())) , 
                              s(¬(),𝜓(),S_𝜓8) , 
                              s(→(),S_𝜑7,S_𝜓8,S23) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜑())) , 
                              s(→(),𝜓(),𝜑(),S_𝜑9) , 
                              s(→(),S23,S_𝜑9,Ax_310) , 
                              s('𝛩','PC'(),'ax-3'(),Ax_310,Nil11) , 
                              s('MkPair','Nil',Nil11,FA_88)), 
                            FARL_88))  )), 
                      equal_enough_for_test(FARL_87,FARL_88), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi37"></span><span class="ansi1 ansi37 ansi40"></span><span class="ansi1 ansi37 ansi40">

( ==> ( 
   top_call_63:- do_metta_runtime( Equal_enough_for_test39, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ queryToPLN, 'PC','Nil', 
                             [ :, 
                               'ax-3', 
                               [ →, 
                                 [ →, 
                                   [¬,𝜑], 
                                   [¬,𝜓]], 
                                 [→,𝜓,𝜑]]]], 
                           [ 'MkPair', 
                             'Nil', 
                             [ '𝛩', 'PC'(),'ax-3'(), 
                               [ →(), 
                                 [ →(), 
                                   [¬(),𝜑()], 
                                   [¬(),𝜓()]], 
                                 [→(),𝜓(),𝜑()]]]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test38, 
                         Test_Ne, 
                           ((
                            (findall_ne( S45, 
                               ( s(¬,𝜑,S_𝜑28)  ,
                                 s(¬,𝜓,S_𝜓29) , 
                                 s(→,S_𝜑28,S_𝜓29,S43) , 
                                 s(→,𝜓,𝜑,S_𝜑30) , 
                                 s(→,S43,S_𝜑30,Ax_331) , 
                                 s(:,'ax-3',Ax_331,Nil32) , 
                                 s(queryToPLN,'PC','Nil',Nil32,S45)), 
                               Equal_enough_for_test38)),
                            (findall_ne( S50, 
                               ( info(is_value_obj('PC'()))  ,
                                 info(is_value_obj('ax-3'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 s(¬(),𝜑(),S_𝜑33) , 
                                 info(is_value_obj(𝜓())) , 
                                 s(¬(),𝜓(),S_𝜓34) , 
                                 s(→(),S_𝜑33,S_𝜓34,S48) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜑())) , 
                                 s(→(),𝜓(),𝜑(),S_𝜑35) , 
                                 s(→(),S48,S_𝜑35,Ax_336) , 
                                 s('𝛩','PC'(),'ax-3'(),Ax_336,Nil37) , 
                                 s('MkPair','Nil',Nil37,S50)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test38,Test_Ne), 
                         Equal_enough_for_test39))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_63)).


</span>top_call :-
    time(top_call_63).


/*
  ! (assertEqual 
      (queryToPLN 
        (Cons 
          (: mp2.1 𝜑) 
          (Cons 
            (: mp2.2 𝜓) 
            (Cons 
              (: mp2.3 
                (→ 𝜑 
                  (→ 𝜓 𝜒))) PC))) Nil 
        (: 
          (ax-mp mp2.1 mp2.3) 
          (→ 𝜓 𝜒))) 
      (MkPair Nil 
        (𝛩 
          (Cons 
            ( [ : ] 
              [mp2.1] 
              [ 𝜑 ]) 
            (Cons 
              ( [ : ] 
                [mp2.2] 
                [ 𝜓 ]) 
              (Cons 
                ( [ : ] 
                  [mp2.3] 
                  ( [ → ] 
                    [ 𝜑 ] 
                    ( [ → ] 
                      [ 𝜓 ] 
                      [ 𝜒 ]))) 
                [PC]))) 
          ( [ax-mp] 
            [mp2.1] 
            [mp2.3]) 
          ( [ → ] 
            [ 𝜓 ] 
            [ 𝜒 ]))))
*/


top_call_64:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_45 =  
                      [ assertEqual, 
                        [ queryToPLN, 
                          [ 'Cons', 
                            [:,'mp2.1',𝜑], 
                            [ 'Cons', 
                              [:,'mp2.2',𝜓], 
                              [ 'Cons', 
                                [ :, 
                                  'mp2.3', 
                                  [ →, 
                                    𝜑, 
                                    [→,𝜓,𝜒]]], 
                                'PC']]], 
                          'Nil', 
                          [ :, 
                            ['ax-mp','mp2.1','mp2.3'], 
                            [→,𝜓,𝜒]]], 
                        [ 'MkPair', 
                          'Nil', 
                          [ '𝛩', 
                            [ 'Cons', 
                              [:(),'mp2.1'(),𝜑()], 
                              [ 'Cons', 
                                [:(),'mp2.2'(),𝜓()], 
                                [ 'Cons', 
                                  [ :(), 
                                    'mp2.3'(), 
                                    [ →(), 
                                      𝜑(), 
                                      [→(),𝜓(),𝜒()]]], 
                                  'PC'()]]], 
                            ['ax-mp'(),'mp2.1'(),'mp2.3'()], 
                            [→(),𝜓(),𝜒()]]]]),
                   (loonit_assert_source_tf_empty( src(Src_45), 
                      FARL_89, 
                      FARL_90, 
                        ((
                         (findall_ne( FA_89, 
                            ( s(:,'mp2.1',𝜑,Cons_𝜑)  ,
                              s(:,'mp2.2',𝜓,Cons_𝜓) , 
                              s(→,𝜓,𝜒,S_𝜑_𝜒) , 
                              s(→,𝜑,S_𝜑_𝜒,Mp2_c46_3) , 
                              s(:,'mp2.3',Mp2_c46_3,Cons) , 
                              s('Cons',Cons,'PC',S_PC) , 
                              s('Cons',Cons_𝜓,S_PC,S) , 
                              s('Cons',Cons_𝜑,S,QueryToPLN) , 
                              s('ax-mp','mp2.1','mp2.3',Mp2_c46_311) , 
                              s(→,𝜓,𝜒,S_𝜒12) , 
                              s(:,Mp2_c46_311,S_𝜒12,Nil) , 
                              s(queryToPLN,QueryToPLN,'Nil',Nil,FA_89)), 
                            FARL_89)),
                         (findall_ne( FA_90, 
                            ( info(is_value_obj('mp2.1'()))  ,
                              info(is_value_obj(𝜑())) , 
                              s(:(),'mp2.1'(),𝜑(),Cons_𝜑16) , 
                              info(is_value_obj('mp2.2'())) , 
                              info(is_value_obj(𝜓())) , 
                              s(:(),'mp2.2'(),𝜓(),Cons_𝜓17) , 
                              info(is_value_obj('mp2.3'())) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜓(),𝜒(),S_𝜑_𝜒18) , 
                              s(→(),𝜑(),S_𝜑_𝜒18,Mp2_c46_320) , 
                              s(:(),'mp2.3'(),Mp2_c46_320,Cons21) , 
                              info(is_value_obj('PC'())) , 
                              s('Cons',Cons21,'PC'(),S_PC22) , 
                              s('Cons',Cons_𝜓17,S_PC22,S25) , 
                              s('Cons',Cons_𝜑16,S25,S_𝛩) , 
                              info(is_value_obj('mp2.1'())) , 
                              info(is_value_obj('mp2.3'())) , 
                              s('ax-mp'(),'mp2.1'(),'mp2.3'(),Mp2_c46_326) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜓(),𝜒(),S_𝜒27) , 
                              s('𝛩',S_𝛩,Mp2_c46_326,S_𝜒27,Nil29) , 
                              s('MkPair','Nil',Nil29,FA_90)), 
                            FARL_90))  )), 
                      equal_enough_for_test(FARL_89,FARL_90), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi37"></span><span class="ansi1 ansi37 ansi40"></span><span class="ansi1 ansi37 ansi40">

( ==> ( 
   top_call_64:- do_metta_runtime( Equal_enough_for_test74, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ queryToPLN, 
                             [ 'Cons', 
                               [:,'mp2.1',𝜑], 
                               [ 'Cons', 
                                 [:,'mp2.2',𝜓], 
                                 [ 'Cons', 
                                   [ :, 
                                     'mp2.3', 
                                     [ →, 
                                       𝜑, 
                                       [→,𝜓,𝜒]]], 
                                   'PC']]], 
                             'Nil', 
                             [ :, 
                               ['ax-mp','mp2.1','mp2.3'], 
                               [→,𝜓,𝜒]]], 
                           [ 'MkPair', 
                             'Nil', 
                             [ '𝛩', 
                               [ 'Cons', 
                                 [:(),'mp2.1'(),𝜑()], 
                                 [ 'Cons', 
                                   [:(),'mp2.2'(),𝜓()], 
                                   [ 'Cons', 
                                     [ :(), 
                                       'mp2.3'(), 
                                       [ →(), 
                                         𝜑(), 
                                         [→(),𝜓(),𝜒()]]], 
                                     'PC'()]]], 
                               ['ax-mp'(),'mp2.1'(),'mp2.3'()], 
                               [→(),𝜓(),𝜒()]]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test73, 
                         Test_Ne, 
                           ((
                            (findall_ne( S79, 
                               ( s(:,'mp2.1',𝜑,Cons_𝜑45)  ,
                                 s(:,'mp2.2',𝜓,Cons_𝜓46) , 
                                 s(→,𝜓,𝜒,S_𝜑_𝜒47) , 
                                 s(→,𝜑,S_𝜑_𝜒47,Mp2_c46_349) , 
                                 s(:,'mp2.3',Mp2_c46_349,Cons50) , 
                                 s('Cons',Cons50,'PC',S_PC51) , 
                                 s('Cons',Cons_𝜓46,S_PC51,S54) , 
                                 s('Cons',Cons_𝜑45,S54,QueryToPLN57) , 
                                 s('ax-mp','mp2.1','mp2.3',Mp2_c46_355) , 
                                 s(→,𝜓,𝜒,S_𝜒56) , 
                                 s(:,Mp2_c46_355,S_𝜒56,Nil58) , 
                                 s(queryToPLN,QueryToPLN57,'Nil',Nil58,S79)), 
                               Equal_enough_for_test73)),
                            (findall_ne( S84, 
                               ( info(is_value_obj('mp2.1'()))  ,
                                 info(is_value_obj(𝜑())) , 
                                 s(:(),'mp2.1'(),𝜑(),Cons_𝜑59) , 
                                 info(is_value_obj('mp2.2'())) , 
                                 info(is_value_obj(𝜓())) , 
                                 s(:(),'mp2.2'(),𝜓(),Cons_𝜓60) , 
                                 info(is_value_obj('mp2.3'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜓(),𝜒(),S_𝜑_𝜒61) , 
                                 s(→(),𝜑(),S_𝜑_𝜒61,Mp2_c46_363) , 
                                 s(:(),'mp2.3'(),Mp2_c46_363,Cons64) , 
                                 info(is_value_obj('PC'())) , 
                                 s('Cons',Cons64,'PC'(),S_PC65) , 
                                 s('Cons',Cons_𝜓60,S_PC65,S68) , 
                                 s('Cons',Cons_𝜑59,S68,S_𝛩71) , 
                                 info(is_value_obj('mp2.1'())) , 
                                 info(is_value_obj('mp2.3'())) , 
                                 s('ax-mp'(),'mp2.1'(),'mp2.3'(),Mp2_c46_369) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜓(),𝜒(),S_𝜒70) , 
                                 s('𝛩',S_𝛩71,Mp2_c46_369,S_𝜒70,Nil72) , 
                                 s('MkPair','Nil',Nil72,S84)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test73,Test_Ne), 
                         Equal_enough_for_test74))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_64)).


</span>top_call :-
    time(top_call_64).


/*
;; Test variablesToPLN
*/
/*
  ! (assertEqual 
      (variablesToPLN Z 
        (𝛩 Nil z 
          [ 𝜑 ])) 
      (𝛩 Nil z 
        [ 𝜑 ]))
*/


top_call_65:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_46 =  
                      [ assertEqual, 
                        [ variablesToPLN, 
                          'Z', 
                          ['𝛩','Nil',z,𝜑()]], 
                        ['𝛩','Nil',z,𝜑()]]),
                   (loonit_assert_source_tf_empty( src(Src_46), 
                      FARL_91, 
                      FARL_92, 
                        ((
                         (findall_ne( FA_91, 
                            ( info(is_value_obj(𝜑()))  ,
                              s('𝛩','Nil',z,𝜑(),S_Z_𝜑) , 
                              s(variablesToPLN,'Z',S_Z_𝜑,FA_91)), 
                            FARL_91)),
                         (findall_ne(FA_92,(info(is_value_obj(𝜑())),s('𝛩','Nil',z,𝜑(),FA_92)),FARL_92))  )), 
                      equal_enough_for_test(FARL_91,FARL_92), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi37"></span><span class="ansi1 ansi37 ansi40"></span><span class="ansi1 ansi37 ansi40">

( ==> ( 
   top_call_65:- do_metta_runtime( Equal_enough_for_test16, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ variablesToPLN, 
                             'Z', 
                             ['𝛩','Nil',z,𝜑()]], 
                           ['𝛩','Nil',z,𝜑()]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test15, 
                         Test_Ne, 
                           ((
                            (findall_ne( S, 
                               ( info(is_value_obj(𝜑()))  ,
                                 s('𝛩','Nil',z,𝜑(),S_Z_𝜑12) , 
                                 s(variablesToPLN,'Z',S_Z_𝜑12,S)), 
                               Equal_enough_for_test15)),
                            (findall_ne( S_𝜑14, 
                               info(is_value_obj(𝜑())),s('𝛩','Nil',z,𝜑(),S_𝜑14), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test15,Test_Ne), 
                         Equal_enough_for_test16))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_65)).


</span>top_call :-
    time(top_call_65).


/*
  ! (assertEqual 
      (variablesToPLN 
        (S Z) 
        (𝛩 Nil z 
          [ 𝜑 ])) 
      (∃ z 
        (𝛩 Nil z 
          [ 𝜑 ])))
*/


top_call_66:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_47 =  
                      [ assertEqual, 
                        [ variablesToPLN, 
                          ['S','Z'], 
                          ['𝛩','Nil',z,𝜑()]], 
                        [ ∃, 
                          z, 
                          ['𝛩','Nil',z,𝜑()]]]),
                   (loonit_assert_source_tf_empty( src(Src_47), 
                      FARL_93, 
                      FARL_94, 
                        ((
                         (findall_ne( FA_93, 
                            ( s('S','Z',VariablesToPLN_Z)  ,
                              info(is_value_obj(𝜑())) , 
                              s('𝛩','Nil',z,𝜑(),S_𝜑) , 
                              s(variablesToPLN,VariablesToPLN_Z,S_𝜑,FA_93)), 
                            FARL_93)),
                         (findall_ne( FA_94, 
                            ( info(is_value_obj(𝜑()))  ,
                              s('𝛩','Nil',z,𝜑(),S_Z_𝜑5) , 
                              s(∃,z,S_Z_𝜑5,FA_94)), 
                            FARL_94))  )), 
                      equal_enough_for_test(FARL_93,FARL_94), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_66:- do_metta_runtime( Equal_enough_for_test23, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ variablesToPLN, 
                             ['S','Z'], 
                             ['𝛩','Nil',z,𝜑()]], 
                           [ ∃, 
                             z, 
                             ['𝛩','Nil',z,𝜑()]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test22, 
                         Test_Ne, 
                           ((
                            (findall_ne( S, 
                               ( s('S','Z',VariablesToPLN_Z17)  ,
                                 info(is_value_obj(𝜑())) , 
                                 s('𝛩','Nil',z,𝜑(),S_𝜑18) , 
                                 s(variablesToPLN,VariablesToPLN_Z17,S_𝜑18,S)), 
                               Equal_enough_for_test22)),
                            (findall_ne( S28, 
                               ( info(is_value_obj(𝜑()))  ,
                                 s('𝛩','Nil',z,𝜑(),S_Z_𝜑20) , 
                                 s(∃,z,S_Z_𝜑20,S28)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test22,Test_Ne), 
                         Equal_enough_for_test23))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_66)).


</span>top_call :-
    time(top_call_66).


/*
;; Test toPLN
*/
/*
  ! (assertEqual 
      (toPLN Nil Nil 
        (S Z) 
        (: $prf 𝜑)) 
      (∃ z 
        (𝛩 Nil z 
          [ 𝜑 ])))
*/


top_call_67:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_48 =  
                      [ assertEqual, 
                        [ toPLN, 'Nil','Nil', 
                          ['S','Z'], 
                          [:,_prf,𝜑]], 
                        [ ∃, 
                          z, 
                          ['𝛩','Nil',z,𝜑()]]]),
                   (loonit_assert_source_tf_empty( src(Src_48), 
                      FARL_95, 
                      FARL_96, 
                        ((
                         (findall_ne( FA_95, 
                            ( s('S','Z',Nil_Z)  ,
                              s(:,_prf,𝜑,S_𝜑) , 
                              s(toPLN,'Nil','Nil',Nil_Z,S_𝜑,FA_95)), 
                            FARL_95)),
                         (findall_ne( FA_96, 
                            ( info(is_value_obj(𝜑()))  ,
                              s('𝛩','Nil',z,𝜑(),S_Z_𝜑6) , 
                              s(∃,z,S_Z_𝜑6,FA_96)), 
                            FARL_96))  )), 
                      equal_enough_for_test(FARL_95,FARL_96), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_67:- do_metta_runtime( Equal_enough_for_test25, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ toPLN, 'Nil','Nil', 
                             ['S','Z'], 
                             [:,Kw,𝜑]], 
                           [ ∃, 
                             z, 
                             ['𝛩','Nil',z,𝜑()]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test24, 
                         Test_Ne, 
                           ((
                            (findall_ne( S, 
                               ( s('S','Z',Nil_Z18)  ,
                                 s(:,Kw,𝜑,S_𝜑20) , 
                                 s(toPLN,'Nil','Nil',Nil_Z18,S_𝜑20,S)), 
                               Equal_enough_for_test24)),
                            (findall_ne( S30, 
                               ( info(is_value_obj(𝜑()))  ,
                                 s('𝛩','Nil',z,𝜑(),S_Z_𝜑22) , 
                                 s(∃,z,S_Z_𝜑22,S30)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test24,Test_Ne), 
                         Equal_enough_for_test25))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_67)).


</span>top_call :-
    time(top_call_67).


/*
  ! (assertEqual 
      (toPLN Nil Nil 
        (S Z) 
        (: $prf 
          (→ 𝜓 𝜑))) 
      (∃ z 
        (𝛩 Nil z 
          ( [ → ] 
            [ 𝜓 ] 
            [ 𝜑 ]))))
*/


top_call_68:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_49 =  
                      [ assertEqual, 
                        [ toPLN, 'Nil','Nil', 
                          ['S','Z'], 
                          [ :, 
                            _prf, 
                            [→,𝜓,𝜑]]], 
                        [ ∃, 
                          z, 
                          [ '𝛩', 'Nil',z, 
                            [→(),𝜓(),𝜑()]]]]),
                   (loonit_assert_source_tf_empty( src(Src_49), 
                      FARL_97, 
                      FARL_98, 
                        ((
                         (findall_ne( FA_97, 
                            ( s('S','Z',Nil_Z)  ,
                              s(→,𝜓,𝜑,S_𝜑) , 
                              s(:,_prf,S_𝜑,ToPLNNil) , 
                              s(toPLN,'Nil','Nil',Nil_Z,ToPLNNil,FA_97)), 
                            FARL_97)),
                         (findall_ne( FA_98, 
                            ( info(is_value_obj(𝜓()))  ,
                              info(is_value_obj(𝜑())) , 
                              s(→(),𝜓(),𝜑(),S_Z_𝜑7) , 
                              s('𝛩','Nil',z,S_Z_𝜑7,S_Z9) , 
                              s(∃,z,S_Z9,FA_98)), 
                            FARL_98))  )), 
                      equal_enough_for_test(FARL_97,FARL_98), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_68:- do_metta_runtime( Equal_enough_for_test30, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ toPLN, 'Nil','Nil', 
                             ['S','Z'], 
                             [ :, 
                               Kw, 
                               [→,𝜓,𝜑]]], 
                           [ ∃, 
                             z, 
                             [ '𝛩', 'Nil',z, 
                               [→(),𝜓(),𝜑()]]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test29, 
                         Test_Ne, 
                           ((
                            (findall_ne( S, 
                               ( s('S','Z',Nil_Z21)  ,
                                 s(→,𝜓,𝜑,S_𝜑22) , 
                                 s(:,Kw,S_𝜑22,ToPLNNil25) , 
                                 s(toPLN,'Nil','Nil',Nil_Z21,ToPLNNil25,S)), 
                               Equal_enough_for_test29)),
                            (findall_ne( S36, 
                               ( info(is_value_obj(𝜓()))  ,
                                 info(is_value_obj(𝜑())) , 
                                 s(→(),𝜓(),𝜑(),S_Z_𝜑26) , 
                                 s('𝛩','Nil',z,S_Z_𝜑26,S_Z28) , 
                                 s(∃,z,S_Z28,S36)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test29,Test_Ne), 
                         Equal_enough_for_test30))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_68)).


</span>top_call :-
    time(top_call_68).


/*
  ! (assertEqual 
      (toPLN PC Nil 
        (S Z) 
        (: $prf 
          (→ 𝜓 𝜑))) 
      (∃ z 
        (𝛩 
          [PC] z 
          ( [ → ] 
            [ 𝜓 ] 
            [ 𝜑 ]))))
*/


top_call_69:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_50 =  
                      [ assertEqual, 
                        [ toPLN, 'PC','Nil', 
                          ['S','Z'], 
                          [ :, 
                            _prf, 
                            [→,𝜓,𝜑]]], 
                        [ ∃, 
                          z, 
                          [ '𝛩', 'PC'(),z, 
                            [→(),𝜓(),𝜑()]]]]),
                   (loonit_assert_source_tf_empty( src(Src_50), 
                      FARL_99, 
                      FARL_100, 
                        ((
                         (findall_ne( FA_99, 
                            ( s('S','Z',Nil_Z)  ,
                              s(→,𝜓,𝜑,S_𝜑) , 
                              s(:,_prf,S_𝜑,ToPLNPC) , 
                              s(toPLN,'PC','Nil',Nil_Z,ToPLNPC,FA_99)), 
                            FARL_99)),
                         (findall_ne( FA_100, 
                            ( info(is_value_obj('PC'()))  ,
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜑())) , 
                              s(→(),𝜓(),𝜑(),S_Z_𝜑7) , 
                              s('𝛩','PC'(),z,S_Z_𝜑7,S_Z9) , 
                              s(∃,z,S_Z9,FA_100)), 
                            FARL_100))  )), 
                      equal_enough_for_test(FARL_99,FARL_100), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_69:- do_metta_runtime( Equal_enough_for_test30, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ toPLN, 'PC','Nil', 
                             ['S','Z'], 
                             [ :, 
                               Kw, 
                               [→,𝜓,𝜑]]], 
                           [ ∃, 
                             z, 
                             [ '𝛩', 'PC'(),z, 
                               [→(),𝜓(),𝜑()]]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test29, 
                         Test_Ne, 
                           ((
                            (findall_ne( S, 
                               ( s('S','Z',Nil_Z21)  ,
                                 s(→,𝜓,𝜑,S_𝜑22) , 
                                 s(:,Kw,S_𝜑22,ToPLNPC25) , 
                                 s(toPLN,'PC','Nil',Nil_Z21,ToPLNPC25,S)), 
                               Equal_enough_for_test29)),
                            (findall_ne( S36, 
                               ( info(is_value_obj('PC'()))  ,
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜑())) , 
                                 s(→(),𝜓(),𝜑(),S_Z_𝜑26) , 
                                 s('𝛩','PC'(),z,S_Z_𝜑26,S_Z28) , 
                                 s(∃,z,S_Z28,S36)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test29,Test_Ne), 
                         Equal_enough_for_test30))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_69)).


</span>top_call :-
    time(top_call_69).


/*
  ! (assertEqual 
      (toPLN 
        (Cons 
          (: a1i.1 𝜑) PC) Nil 
        (S Z) 
        (: $prf 
          (→ 𝜓 𝜑))) 
      (∃ z 
        (𝛩 
          (Cons 
            ( [ : ] 
              [a1i.1] 
              [ 𝜑 ]) 
            [PC]) z 
          ( [ → ] 
            [ 𝜓 ] 
            [ 𝜑 ]))))
*/


top_call_70:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_51 =  
                      [ assertEqual, 
                        [ toPLN, 
                          [ 'Cons', 
                            [:,'a1i.1',𝜑], 
                            'PC'], 
                          'Nil', 
                          ['S','Z'], 
                          [ :, 
                            _prf, 
                            [→,𝜓,𝜑]]], 
                        [ ∃, 
                          z, 
                          [ '𝛩', 
                            [ 'Cons', 
                              [:(),'a1i.1'(),𝜑()], 
                              'PC'()], 
                            z, 
                            [→(),𝜓(),𝜑()]]]]),
                   (loonit_assert_source_tf_empty( src(Src_51), 
                      FARL_101, 
                      FARL_102, 
                        ((
                         (findall_ne( FA_101, 
                            ( s(:,'a1i.1',𝜑,Cons_𝜑)  ,
                              s('Cons',Cons_𝜑,'PC',ToPLN_PC) , 
                              s('S','Z',Nil_Z) , 
                              s(→,𝜓,𝜑,S_𝜑5) , 
                              s(:,_prf,S_𝜑5,S) , 
                              s(toPLN,ToPLN_PC,'Nil',Nil_Z,S,FA_101)), 
                            FARL_101)),
                         (findall_ne( FA_102, 
                            ( info(is_value_obj('a1i.1'()))  ,
                              info(is_value_obj(𝜑())) , 
                              s(:(),'a1i.1'(),𝜑(),Cons_𝜑11) , 
                              info(is_value_obj('PC'())) , 
                              s('Cons',Cons_𝜑11,'PC'(),S_𝛩_PC13) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜑())) , 
                              s(→(),𝜓(),𝜑(),S_Z_𝜑14) , 
                              s('𝛩',S_𝛩_PC13,z,S_Z_𝜑14,S_Z17) , 
                              s(∃,z,S_Z17,FA_102)), 
                            FARL_102))  )), 
                      equal_enough_for_test(FARL_101,FARL_102), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi37"></span><span class="ansi1 ansi37 ansi40"></span><span class="ansi1 ansi37 ansi40">

( ==> ( 
   top_call_70:- do_metta_runtime( Equal_enough_for_test47, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ toPLN, 
                             [ 'Cons', 
                               [:,'a1i.1',𝜑], 
                               'PC'], 
                             'Nil', 
                             ['S','Z'], 
                             [ :, 
                               Kw, 
                               [→,𝜓,𝜑]]], 
                           [ ∃, 
                             z, 
                             [ '𝛩', 
                               [ 'Cons', 
                                 [:(),'a1i.1'(),𝜑()], 
                                 'PC'()], 
                               z, 
                               [→(),𝜓(),𝜑()]]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test46, 
                         Test_Ne, 
                           ((
                            (findall_ne( S50, 
                               ( s(:,'a1i.1',𝜑,Cons_𝜑30)  ,
                                 s('Cons',Cons_𝜑30,'PC',ToPLN_PC32) , 
                                 s('S','Z',Nil_Z33) , 
                                 s(→,𝜓,𝜑,S_𝜑34) , 
                                 s(:,Kw,S_𝜑34,S38) , 
                                 s(toPLN,ToPLN_PC32,'Nil',Nil_Z33,S38,S50)), 
                               Equal_enough_for_test46)),
                            (findall_ne( S54, 
                               ( info(is_value_obj('a1i.1'()))  ,
                                 info(is_value_obj(𝜑())) , 
                                 s(:(),'a1i.1'(),𝜑(),Cons_𝜑39) , 
                                 info(is_value_obj('PC'())) , 
                                 s('Cons',Cons_𝜑39,'PC'(),S_𝛩_PC41) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜑())) , 
                                 s(→(),𝜓(),𝜑(),S_Z_𝜑42) , 
                                 s('𝛩',S_𝛩_PC41,z,S_Z_𝜑42,S_Z45) , 
                                 s(∃,z,S_Z45,S54)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test46,Test_Ne), 
                         Equal_enough_for_test47))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_70)).


</span>top_call :-
    time(top_call_70).


/*
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Add Theta instance to PLN Space ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
*/
/*
;; Outputs the theory of a corresponding environment (just prepend the
;; environment to PC.
*/
/*
  (: toTheory 
    (-> 
      (List $a) 
      (List $a)))
*/


mc(iz,ToTheory1,__xx__x62x__List__a_List__a1) :- 
  eval_and_unify(ToTheory1,toTheory) , 
  eval_and_unify( __xx__x62x__List__a_List__a1, [
    ->, 
    ['List',_a], 
    ['List',_a]]).


/*
  (= (toTheory $env)  
    (List.append $env PC))
*/


mc(toTheory,_env1,RetVal736) :- 
  ensure_evaled(['List',_],_env1,_env) , 
  s('List.append',_env,'PC',RetVal736).


/*
;; Given a PLN space and a description of the query (supposedly closed
;; by now), convert the query into a 𝛩 instance, add it to the PLN
;; space and return the query unchanged.  For now depth is
;; unsupported.
;; NEXT: create new axiom symbol for each new instance
*/
/*
  (: addInstance 
    (-> $a 
      (List $b) Nat $b $b))
*/


mc(iz,AddInstance1,__xx__x62x___a_List__b_Nat__b__b1) :- 
  eval_and_unify(AddInstance1,addInstance) , 
  eval_and_unify( __xx__x62x___a_List__b_Nat__b__b1, [
    ->, 
    _, 
    ['List',_b], 'Nat',_b,_b]).


/*
; Query pass through
*/
/*
  (= (addInstance $pln_xx_kb $thry $depth $query)  
    (let* 
      ( ($pln_xx_statement (toPLN $thry Nil $depth $query)) 
        ($pln_xx_judgment (≞ $pln_xx_statement (PLN.MkSTV 1 1))) 
        ($axiom_xx_symbol (parse "NEXT")) 
        ($instance (: $axiom_xx_symbol $pln_xx_judgment)) 
        (() (add-reduct-nodup $pln_xx_kb $instance))) $query))
*/


mc(addInstance,_pln_xx_kb1,_thry6,_depth2,_query5,_query) :- 
  ensure_evaled(_,_pln_xx_kb1,_pln_xx_kb) , 
  ensure_evaled(['List',Type_AddInstance__0___1],_thry6,_thry) , 
  ensure_evaled('Nat',_depth2,_depth) , 
  ensure_evaled(Type_AddInstance__0___1,_query5,_query) , 
  s(toPLN,_thry,'Nil',_depth,_query,_pln_xx_statement) , 
  s('PLN.MkSTV',1,1,S) , 
  s(≞,_pln_xx_statement,S,_pln_xx_judgment) , 
  s(parse,"NEXT",_axiom_xx_symbol) , 
  s(:,_axiom_xx_symbol,_pln_xx_judgment,_instance) , 
  s('add-reduct-nodup',_pln_xx_kb,_instance,Unify_with_occurs_check) , 
  unify_with_occurs_check(Unify_with_occurs_check,[]).


/*
;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; ;;;;;;;;;;;;;;;;;;;;;; ;;
;; ;; Backward chainer ;; ;;
;; ;;;;;;;;;;;;;;;;;;;;;; ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;
*/
/*
;; For now we write a backward chainer that is specialized for the
;; propositional calculus of MetaMath.  The inference control turns
;; the query and other surrounding premises into a PLN statement that,
;; once evaluated, provides an estimate as to whether the recursive
;; backward chainer call is likely to be fruitful.  Since this
;; estimate is a Truth Value with an underlying second order
;; distribution, Thompson sampling can be used to balance exploration
;; and exploitation.  Specifically, a first order probability is
;; sampled for each branch, and the branch with the maximum
;; probability is selected.
*/
/*
  (: bc 
    (-> Control 
      (List $a) 
      (List $a) Nat $a $a))
*/


mc(iz,_bc1,__xx__x62x__Control_List__a_List__a_Nat__a__a1) :- 
  eval_and_unify(_bc1,bc) , 
  eval_and_unify( __xx__x62x__Control_List__a_List__a_Nat__a__a1, [
    ->, 
    'Control', 
    ['List',_a], 
    ['List',_a], 'Nat',_a,_a]).


/*
; Result
*/
/*
;;;;;;;;;;;;;;;;
;; Base cases ;;
;;;;;;;;;;;;;;;;
*/
/*
;; Match the environment
*/
/*
  (: bc-env 
    (-> Control 
      (List $a) 
      (List $a) Nat $a $a))
*/


mc(iz,_bc_xx_env1,__xx__x62x__Control_List__a_List__a_Nat__a__a2) :- 
  eval_and_unify(_bc_xx_env1,'bc-env') , 
  eval_and_unify( __xx__x62x__Control_List__a_List__a_Nat__a__a2, [
    ->, 
    'Control', 
    ['List',_a], 
    ['List',_a], 'Nat',_a,_a]).


/*
; Result
*/
/*
  (= (bc-env $ctl $env $ctx $depth (: $prf $thrm))  
    ('match'' $env 
      (: $prf $thrm) 
      (: $prf $thrm)))
*/


mc( 'bc-env', 
  _ctl1, _env2,_ctx2,_depth3, 
  __xCx___prf__thrm2,RetVal738) :- 
  ensure_evaled('Control',_ctl1,_) , 
  ensure_evaled(['List',Type__bc_xx_env__0___1],_env2,_env) , 
  ensure_evaled(['List',Type__bc_xx_env__0___1],_ctx2,_) , 
  ensure_evaled('Nat',_depth3,_) , 
  eval_and_unify(__xCx___prf__thrm2,[:,_prf,_thrm]) , 
  s(:,_prf,_thrm,S5) , 
  s(:,_prf,_thrm,S) , 
  s('match\'',_env,S5,S,RetVal738).


/*
;; Axiom Simp. Axiom A1 of [Margaris] p. 49.
;; https://us.metamath.org/mpeuni/ax-1.html
*/
/*
  (: bc-ax-1 
    (-> Control 
      (List $a) 
      (List $a) Nat $a $a))
*/


mc(iz,_bc_xx_ax_xx_11,__xx__x62x__Control_List__a_List__a_Nat__a__a3) :- 
  eval_and_unify(_bc_xx_ax_xx_11,'bc-ax-1') , 
  eval_and_unify( __xx__x62x__Control_List__a_List__a_Nat__a__a3, [
    ->, 
    'Control', 
    ['List',_a], 
    ['List',_a], 'Nat',_a,_a]).


/*
; Result
*/
/*
  (= (bc-ax-1 $ctl $env $ctx $depth (: ax-1 (→ $𝜑 (→ $𝜓 $𝜑))))  
    (: ax-1 
      (→ $𝜑 
        (→ $𝜓 $𝜑))))
*/


mc( 'bc-ax-1', 
  _ctl2, _env3,_ctx3,_depth4, 
     __xCx___ax_xx_1___x8594x___𝜑___x8594x___𝜓__𝜑1, RetVal739) :- 
  ensure_evaled('Control',_ctl2,_) , 
  ensure_evaled(['List',Type__bc_xx_ax_xx_1__0___1],_env3,_) , 
  ensure_evaled(['List',Type__bc_xx_ax_xx_1__0___1],_ctx3,_) , 
  ensure_evaled('Nat',_depth4,_) , 
  eval_and_unify( __xCx___ax_xx_1___x8594x___𝜑___x8594x___𝜓__𝜑1, [
    :, 
    'ax-1', 
    [ →, 
      _𝜑, 
      [→,_𝜓,_𝜑]]]) , 
  s(→,_𝜓,_𝜑,S) , 
  s(→,_𝜑,S,Ax_1) , 
  s(:,'ax-1',Ax_1,RetVal739).


/*
;; Axiom Frege. Axiom A2 of [Margaris] p. 49.
;; https://us.metamath.org/mpeuni/ax-2.html
*/
/*
  (: bc-ax-2 
    (-> Control 
      (List $a) 
      (List $a) Nat $a $a))
*/


mc(iz,_bc_xx_ax_xx_21,__xx__x62x__Control_List__a_List__a_Nat__a__a4) :- 
  eval_and_unify(_bc_xx_ax_xx_21,'bc-ax-2') , 
  eval_and_unify( __xx__x62x__Control_List__a_List__a_Nat__a__a4, [
    ->, 
    'Control', 
    ['List',_a], 
    ['List',_a], 'Nat',_a,_a]).


/*
; Result
*/
/*
  (= (bc-ax-2 $ctl $env $ctx $depth (: ax-2 (→ (→ $𝜑 (→ $𝜓 $𝜒)) (→ (→ $𝜑 $𝜓) (→ $𝜑 $𝜒)))))  
    (: ax-2 
      (→ 
        (→ $𝜑 
          (→ $𝜓 $𝜒)) 
        (→ 
          (→ $𝜑 $𝜓) 
          (→ $𝜑 $𝜒)))))
*/


mc( 'bc-ax-2', 
  _ctl3, _env4,_ctx4,_depth5, 
     __xCx___ax_xx_2___x8594x____x8594x___𝜑___x8594x___𝜓__𝜒___x8594x____x8594x___𝜑__𝜓___x8594x___𝜑__𝜒1, RetVal740) :- 
  ensure_evaled('Control',_ctl3,_) , 
  ensure_evaled(['List',Type__bc_xx_ax_xx_2__0___1],_env4,_) , 
  ensure_evaled(['List',Type__bc_xx_ax_xx_2__0___1],_ctx4,_) , 
  ensure_evaled('Nat',_depth5,_) , 
  eval_and_unify( __xCx___ax_xx_2___x8594x____x8594x___𝜑___x8594x___𝜓__𝜒___x8594x____x8594x___𝜑__𝜓___x8594x___𝜑__𝜒1, [
    :, 
    'ax-2', 
    [ →, 
      [ →, 
        _𝜑, 
        [→,_𝜓,_𝜒]], 
      [ →, 
        [→,_𝜑,_𝜓], 
        [→,_𝜑,_𝜒]]]]) , 
  s(→,_𝜓,_𝜒,S) , 
  s(→,_𝜑,S,S9) , 
  s(→,_𝜑,_𝜓,S10) , 
  s(→,_𝜑,_𝜒,S5) , 
  s(→,S10,S5,S6) , 
  s(→,S9,S6,Ax_2) , 
  s(:,'ax-2',Ax_2,RetVal740).


/*
;; Axiom Transp. Axiom A3 of [Margaris] p. 49.
;; https://us.metamath.org/mpeuni/ax-3.html
*/
/*
  (: bc-ax-3 
    (-> Control 
      (List $a) 
      (List $a) Nat $a $a))
*/


mc(iz,_bc_xx_ax_xx_31,__xx__x62x__Control_List__a_List__a_Nat__a__a5) :- 
  eval_and_unify(_bc_xx_ax_xx_31,'bc-ax-3') , 
  eval_and_unify( __xx__x62x__Control_List__a_List__a_Nat__a__a5, [
    ->, 
    'Control', 
    ['List',_a], 
    ['List',_a], 'Nat',_a,_a]).


/*
; Result
*/
/*
  (= (bc-ax-3 $ctl $env $depth $ctx (: ax-3 (→ (→ (¬ $𝜑) (¬ $𝜓)) (→ $𝜓 $𝜑))))  
    (: ax-3 
      (→ 
        (→ 
          (¬ $𝜑) 
          (¬ $𝜓)) 
        (→ $𝜓 $𝜑))))
*/


mc( 'bc-ax-3', 
  _ctl4, _env5,_depth6,_ctx5, 
     __xCx___ax_xx_3___x8594x____x8594x____x172x___𝜑___x172x___𝜓___x8594x___𝜓__𝜑1, RetVal741) :- 
  ensure_evaled('Control',_ctl4,_) , 
  ensure_evaled(['List',Type__bc_xx_ax_xx_3__0___1],_env5,_) , 
  ensure_evaled(['List',Type__bc_xx_ax_xx_3__0___1],_depth6,_) , 
  ensure_evaled('Nat',_ctx5,_) , 
  eval_and_unify( __xCx___ax_xx_3___x8594x____x8594x____x172x___𝜑___x172x___𝜓___x8594x___𝜓__𝜑1, [
    :, 
    'ax-3', 
    [ →, 
      [ →, 
        [¬,_𝜑], 
        [¬,_𝜓]], 
      [→,_𝜓,_𝜑]]]) , 
  s(¬,_𝜑,S8) , 
  s(¬,_𝜓,S) , 
  s(→,S8,S,S9) , 
  s(→,_𝜓,_𝜑,S5) , 
  s(→,S9,S5,Ax_3) , 
  s(:,'ax-3',Ax_3,RetVal741).


/*
;;;;;;;;;;;;;;;;;;;;
;; Recursive step ;;
;;;;;;;;;;;;;;;;;;;;
*/
/*
;; Rule 1 of [Hamilton] p. 73.
;; https://us.metamath.org/mpeuni/ax-mp.html
*/
/*
  (: bc-ax-mp 
    (-> Control 
      (List $a) 
      (List $a) Nat $a $a))
*/


mc(iz,_bc_xx_ax_xx_mp1,__xx__x62x__Control_List__a_List__a_Nat__a__a6) :- 
  eval_and_unify(_bc_xx_ax_xx_mp1,'bc-ax-mp') , 
  eval_and_unify( __xx__x62x__Control_List__a_List__a_Nat__a__a6, [
    ->, 
    'Control', 
    ['List',_a], 
    ['List',_a], 'Nat',_a,_a]).


/*
; Result
*/
/*
  (= (bc-ax-mp $ctl $env $ctx (S $k) (: (ax-mp $prfarg1 $prfarg2) $𝜓))  
    (let* 
      ( ( (: $prfarg1 $𝜑) (bc $ctl $env (Cons (: $prfarg2 (→ $𝜑 $𝜓)) $ctx) $k (: $prfarg1 $𝜑))) ((: $prfarg2 (→ $𝜑 $𝜓)) (bc $ctl $env (Cons (: $prfarg1 $𝜑) $ctx) $k (: $prfarg2 (→ $𝜑 $𝜓))))) 
      (: 
        (ax-mp $prfarg1 $prfarg2) $𝜓)))
*/


mc( 'bc-ax-mp', 
  _ctl5, _env6,_ctx6,S__k4, 
     __xCx___ax_xx_mp__prfarg1__prfarg2__𝜓1, RetVal742) :- 
  ensure_evaled('Control',_ctl5,_ctl) , 
  ensure_evaled(['List',Type__bc_xx_ax_xx_mp__0___1],_env6,_env) , 
  ensure_evaled(['List',Type__bc_xx_ax_xx_mp__0___1],_ctx6,_ctx) , 
  eval_and_unify(S__k4,['S',_k]) , 
  eval_and_unify( __xCx___ax_xx_mp__prfarg1__prfarg2__𝜓1, [
    :, 
    ['ax-mp',_prfarg1,_prfarg2], 
    _𝜓]) , 
  s(→,_𝜑,_𝜓,S) , 
  s(:,_prfarg2,S,Cons) , 
  s('Cons',Cons,_ctx,Env) , 
  s(:,_prfarg1,_𝜑,EnvK) , 
  s(bc,_ctl,_env,Env,_k,EnvK,S19) , 
  unify_with_occurs_check(S19,[:,_prfarg1,_𝜑]) , 
  s(:,_prfarg1,_𝜑,Cons9) , 
  s('Cons',Cons9,_ctx,Env12) , 
  s(→,_𝜑,_𝜓,S10) , 
  s(:,_prfarg2,S10,EnvK11) , 
  s(bc,_ctl,_env,Env12,_k,EnvK11,S20) , 
  unify_with_occurs_check( S20, [
    :, 
    _prfarg2, 
    [→,_𝜑,_𝜓]]) , 
  s('ax-mp',_prfarg1,_prfarg2,Kw) , 
  s(:,Kw,_𝜓,RetVal742).


/*
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Backward Chainer Estimate ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
*/
/*
;; Define backward chainer estimate.  It mirrors the backward chainer
;; code, but outputs an EDCall, meaning a branch and its estimate of
;; success, instead of directly taking the branch.
*/
/*
  (: bce 
    (-> Control 
      (List $a) 
      (List $a) Nat $a 
      (EDCall Control 
        (List $a) 
        (List $a) Nat $a $a)))
*/


mc(iz,_bce1,__xx__x62x__Control_List__a_List__a_Nat__a_EDCall_Control_List__a_List__a_Nat__a__a1) :- 
  eval_and_unify(_bce1,bce) , 
  eval_and_unify( __xx__x62x__Control_List__a_List__a_Nat__a_EDCall_Control_List__a_List__a_Nat__a__a1, [
    ->, 
    'Control', 
    ['List',_a], 
    ['List',_a], 'Nat',_a, 
    [ 'EDCall', 
      'Control', 
      ['List',_a], 
      ['List',_a], 'Nat',_a,_a]]).


/*
; EDCall
*/
/*
;; Estimate of environment
*/
/*
  (= (bce (MkControl $pln_xx_kb $est) $env $ctx $depth (: $prf $thrm))  
    (let 
      (: $prf $thrm) 
      ('match'' $env 
        (: $prf $thrm) 
        (: $prf $thrm)) 
      (MkEDCall 
        ($est $env $ctx $depth 
          (: $prf $thrm)) 
        (MkDCall bc-env 
          (MkControl $pln_xx_kb $est) $env $ctx $depth 
          (: $prf $thrm)))))
*/


mc( bce, 
  MkControl__pln_xx_kb__est1, _env7,_ctx7,_depth7, 
  __xCx___prf__thrm3,RetVal743) :- 
  eval_and_unify( MkControl__pln_xx_kb__est1, [
    'MkControl', _pln_xx_kb,_est]) , 
  ensure_evaled(['List',Type__bce__5___1],_env7,_env) , 
  ensure_evaled(['List',Type__bce__5___1],_ctx7,_ctx) , 
  ensure_evaled('Nat',_depth7,_depth) , 
  eval_and_unify(__xCx___prf__thrm3,[:,_prf,_thrm]) , 
  s(:,_prf,_thrm,S4) , 
  s(:,_prf,_thrm,S) , 
  s('match\'',_env,S4,S,S14) , 
  unify_with_occurs_check(S14,[:,_prf,_thrm]) , 
  eval_for1( '%Undefined%', 
    'Number', 
    [ _est, _env,_ctx,_depth, 
      [:,_prf,_thrm]], 
    For1_MkEDCall) , 
  s('MkControl',_pln_xx_kb,_est,Bc_env) , 
  s(:,_prf,_thrm,MkDCallEnv_MatchCtxDepth) , 
  s( 'MkDCall', 
    'bc-env', Bc_env,_env,_ctx, 
         _depth, MkDCallEnv_MatchCtxDepth, S9) , 
  s('MkEDCall',For1_MkEDCall,S9,RetVal743).


/*
;)
*/
/*
;; Estimate of Axiom A1
*/
/*
  (= (bce (MkControl $pln_xx_kb $est) $env $ctx $depth (: ax-1 (→ $𝜑 (→ $𝜓 $𝜑))))  
    (MkEDCall 
      ($est $env $ctx $depth 
        (: ax-1 
          (→ $𝜑 
            (→ $𝜓 $𝜑)))) 
      (MkDCall bc-ax-1 
        (MkControl $pln_xx_kb $est) $env $ctx $depth 
        (: ax-1 
          (→ $𝜑 
            (→ $𝜓 $𝜑))))))
*/


mc( bce, 
  MkControl__pln_xx_kb__est2, _env8,_ctx8,_depth8, 
     __xCx___ax_xx_1___x8594x___𝜑___x8594x___𝜓__𝜑2, RetVal744) :- 
  eval_and_unify( MkControl__pln_xx_kb__est2, [
    'MkControl', _pln_xx_kb,_est]) , 
  ensure_evaled(['List',Type__bce__5___3],_env8,_env) , 
  ensure_evaled(['List',Type__bce__5___3],_ctx8,_ctx) , 
  ensure_evaled('Nat',_depth8,_depth) , 
  eval_and_unify( __xCx___ax_xx_1___x8594x___𝜑___x8594x___𝜓__𝜑2, [
    :, 
    'ax-1', 
    [ →, 
      _𝜑, 
      [→,_𝜓,_𝜑]]]) , 
  eval_for1( '%Undefined%', 
    'Number', 
    [ _est, _env,_ctx,_depth, 
      [ :, 
        'ax-1', 
        [ →, 
          _𝜑, 
          [→,_𝜓,_𝜑]]]], 
    For1_MkEDCall) , 
  s('MkControl',_pln_xx_kb,_est,Bc_ax_1) , 
  s(→,_𝜓,_𝜑,S) , 
  s(→,_𝜑,S,Ax_1) , 
  s(:,'ax-1',Ax_1,MkDCallEnvCtxDepth) , 
  s( 'MkDCall', 
    'bc-ax-1', Bc_ax_1,_env,_ctx, 
         _depth, MkDCallEnvCtxDepth, S9) , 
  s('MkEDCall',For1_MkEDCall,S9,RetVal744).


/*
;)
*/
/*
;; Estimate of Axiom A2
*/
/*
  (= (bce (MkControl $pln_xx_kb $est) $env $ctx $depth (: ax-2 (→ (→ $𝜑 (→ $𝜓 $𝜒)) (→ (→ $𝜑 $𝜓) (→ $𝜑 $𝜒)))))  
    (MkEDCall 
      ($est $env $ctx $depth 
        (: ax-2 
          (→ 
            (→ $𝜑 
              (→ $𝜓 $𝜒)) 
            (→ 
              (→ $𝜑 $𝜓) 
              (→ $𝜑 $𝜒))))) 
      (MkDCall bc-ax-2 
        (MkControl $pln_xx_kb $est) $env $ctx $depth 
        (: ax-2 
          (→ 
            (→ $𝜑 
              (→ $𝜓 $𝜒)) 
            (→ 
              (→ $𝜑 $𝜓) 
              (→ $𝜑 $𝜒)))))))
*/


mc( bce, 
  MkControl__pln_xx_kb__est3, _env9,_ctx9,_depth9, 
     __xCx___ax_xx_2___x8594x____x8594x___𝜑___x8594x___𝜓__𝜒___x8594x____x8594x___𝜑__𝜓___x8594x___𝜑__𝜒2, RetVal745) :- 
  eval_and_unify( MkControl__pln_xx_kb__est3, [
    'MkControl', _pln_xx_kb,_est]) , 
  ensure_evaled(['List',Type__bce__5___5],_env9,_env) , 
  ensure_evaled(['List',Type__bce__5___5],_ctx9,_ctx) , 
  ensure_evaled('Nat',_depth9,_depth) , 
  eval_and_unify( __xCx___ax_xx_2___x8594x____x8594x___𝜑___x8594x___𝜓__𝜒___x8594x____x8594x___𝜑__𝜓___x8594x___𝜑__𝜒2, [
    :, 
    'ax-2', 
    [ →, 
      [ →, 
        _𝜑, 
        [→,_𝜓,_𝜒]], 
      [ →, 
        [→,_𝜑,_𝜓], 
        [→,_𝜑,_𝜒]]]]) , 
  eval_for1( '%Undefined%', 
    'Number', 
    [ _est, _env,_ctx,_depth, 
      [ :, 
        'ax-2', 
        [ →, 
          [ →, 
            _𝜑, 
            [→,_𝜓,_𝜒]], 
          [ →, 
            [→,_𝜑,_𝜓], 
            [→,_𝜑,_𝜒]]]]], 
    For1_MkEDCall) , 
  s('MkControl',_pln_xx_kb,_est,Bc_ax_2) , 
  s(→,_𝜓,_𝜒,S) , 
  s(→,_𝜑,S,S17) , 
  s(→,_𝜑,_𝜓,S18) , 
  s(→,_𝜑,_𝜒,S5) , 
  s(→,S18,S5,S6) , 
  s(→,S17,S6,Ax_2) , 
  s(:,'ax-2',Ax_2,MkDCallEnvCtxDepth) , 
  s( 'MkDCall', 
    'bc-ax-2', Bc_ax_2,_env,_ctx, 
         _depth, MkDCallEnvCtxDepth, S11) , 
  s('MkEDCall',For1_MkEDCall,S11,RetVal745).


/*
;)
*/
/*
;; Estimate of Axiom A3
*/
/*
  (= (bce (MkControl $pln_xx_kb $est) $env $ctx $depth (: ax-3 (→ (→ (¬ $𝜑) (¬ $𝜓)) (→ $𝜓 $𝜑))))  
    (MkEDCall 
      ($est $env $ctx $depth 
        (: ax-3 
          (→ 
            (→ 
              (¬ $𝜑) 
              (¬ $𝜓)) 
            (→ $𝜓 $𝜑)))) 
      (MkDCall bc-ax-3 
        (MkControl $pln_xx_kb $est) $env $ctx $depth 
        (: ax-3 
          (→ 
            (→ 
              (¬ $𝜑) 
              (¬ $𝜓)) 
            (→ $𝜓 $𝜑))))))
*/


mc( bce, 
  MkControl__pln_xx_kb__est4, _env10,_ctx10,_depth10, 
     __xCx___ax_xx_3___x8594x____x8594x____x172x___𝜑___x172x___𝜓___x8594x___𝜓__𝜑2, RetVal746) :- 
  eval_and_unify( MkControl__pln_xx_kb__est4, [
    'MkControl', _pln_xx_kb,_est]) , 
  ensure_evaled(['List',Type__bce__5___7],_env10,_env) , 
  ensure_evaled(['List',Type__bce__5___7],_ctx10,_ctx) , 
  ensure_evaled('Nat',_depth10,_depth) , 
  eval_and_unify( __xCx___ax_xx_3___x8594x____x8594x____x172x___𝜑___x172x___𝜓___x8594x___𝜓__𝜑2, [
    :, 
    'ax-3', 
    [ →, 
      [ →, 
        [¬,_𝜑], 
        [¬,_𝜓]], 
      [→,_𝜓,_𝜑]]]) , 
  eval_for1( '%Undefined%', 
    'Number', 
    [ _est, _env,_ctx,_depth, 
      [ :, 
        'ax-3', 
        [ →, 
          [ →, 
            [¬,_𝜑], 
            [¬,_𝜓]], 
          [→,_𝜓,_𝜑]]]], 
    For1_MkEDCall) , 
  s('MkControl',_pln_xx_kb,_est,Bc_ax_3) , 
  s(¬,_𝜑,S16) , 
  s(¬,_𝜓,S) , 
  s(→,S16,S,S17) , 
  s(→,_𝜓,_𝜑,S5) , 
  s(→,S17,S5,Ax_3) , 
  s(:,'ax-3',Ax_3,MkDCallEnvCtxDepth) , 
  s( 'MkDCall', 
    'bc-ax-3', Bc_ax_3,_env,_ctx, 
         _depth, MkDCallEnvCtxDepth, S10) , 
  s('MkEDCall',For1_MkEDCall,S10,RetVal746).


/*
;)
*/
/*
;; Estimate of Rule 1 (modus ponens)
*/
/*
  (= (bce (MkControl $pln_xx_kb $est) $env $ctx (S $k) (: (ax-mp $prfarg1 $prfarg2) $𝜓))  
    (MkEDCall 
      ($est $env $ctx 
        (S $k) 
        (: 
          (ax-mp $prfarg1 $prfarg2) $𝜓)) 
      (MkDCall bc-ax-mp 
        (MkControl $pln_xx_kb $est) $env $ctx 
        (S $k) 
        (: 
          (ax-mp $prfarg1 $prfarg2) $𝜓))))
*/


mc( bce, 
  MkControl__pln_xx_kb__est5, _env11,_ctx11,S__k5, 
     __xCx___ax_xx_mp__prfarg1__prfarg2__𝜓2, RetVal747) :- 
  eval_and_unify( MkControl__pln_xx_kb__est5, [
    'MkControl', _pln_xx_kb,_est]) , 
  ensure_evaled(['List',Type__bce__5___9],_env11,_env) , 
  ensure_evaled(['List',Type__bce__5___9],_ctx11,_ctx) , 
  eval_and_unify(S__k5,['S',_k]) , 
  eval_and_unify( __xCx___ax_xx_mp__prfarg1__prfarg2__𝜓2, [
    :, 
    ['ax-mp',_prfarg1,_prfarg2], 
    _𝜓]) , 
  eval_for1( '%Undefined%', 
    'Number', 
    [ _est, _env,_ctx, 
      ['S',_k], 
      [ :, 
        ['ax-mp',_prfarg1,_prfarg2], 
        _𝜓]], 
    For1_MkEDCall) , 
  s('MkControl',_pln_xx_kb,_est,Bc_ax_mp) , 
  s('S',_k,MkDCallEnvCtx6) , 
  s('ax-mp',_prfarg1,_prfarg2,Kw) , 
  s(:,Kw,_𝜓,MkDCallEnvCtx) , 
  s( 'MkDCall', 
    'bc-ax-mp', Bc_ax_mp,_env,_ctx, 
         MkDCallEnvCtx6, MkDCallEnvCtx, S) , 
  s('MkEDCall',For1_MkEDCall,S,RetVal747).


/*
;)
*/
/*
;;;;;;;;;;;;;;
;; Monolith ;;
;;;;;;;;;;;;;;
*/
/*
;; See above for its type signature and comment
*/
/*
  (= (bc (MkControl $pln_xx_kb $est) $env $ctx $depth (: $prf $thrm))  
    (let* 
      ( ($edcalls (collapse (bce (MkControl $pln_xx_kb $est) $env $ctx $depth (: $prf $thrm)))) 
        ($edcall_seq (List.fromExpression $edcalls)) 
        ($best_edcall (List.maxElementWith EDCall.lt5 $edcall_seq)) 
        ($result (EDCall.run5 $best_edcall))) 
      (addInstance $pln_xx_kb 
        (toTheory $env) $depth $result)))
*/


mc( bc, 
  MkControl__pln_xx_kb__est6, _env12,_ctx12,_depth11, 
  __xCx___prf__thrm4,RetVal748) :- 
  eval_and_unify( MkControl__pln_xx_kb__est6, [
    'MkControl', _pln_xx_kb,_est]) , 
  ensure_evaled(['List',Type__bc__0___3],_env12,_env) , 
  ensure_evaled(['List',Type__bc__0___3],_ctx12,_ctx) , 
  ensure_evaled('Nat',_depth11,_depth) , 
  eval_and_unify(__xCx___prf__thrm4,[:,_prf,_thrm]) , 
  findall_ne( S11, 
    ( s('MkControl',_pln_xx_kb,_est,Bce)  ,
      s(:,_prf,_thrm,EnvCtxDepth) , 
      s(bce,Bce,_env,_ctx,_depth,EnvCtxDepth,S11)), 
    _edcalls) , 
  s('List.fromExpression',_edcalls,_edcall_seq) , 
  s('List.maxElementWith','EDCall.lt5',_edcall_seq,_best_edcall) , 
  s('EDCall.run5',_best_edcall,_result) , 
  s(toTheory,_env,S) , 
  s(addInstance,_pln_xx_kb,S,_depth,_result,RetVal748).


/*
;)
*/
/*
;;;;;;;;;;;;;;;;;
;; PLN Chainer ;;
;;;;;;;;;;;;;;;;;
*/
/*
;; Replace a given De Bruijn index by a given variable in a given PLN
;; statement or term
*/
/*
  (: DeBruijnToVariable 
    (-> DeBruijn $a $a))
*/


mc(iz,DeBruijnToVariable1,__xx__x62x__DeBruijn__a__a1) :- 
  eval_and_unify(DeBruijnToVariable1,'DeBruijnToVariable') , 
  eval_and_unify( __xx__x62x__DeBruijn__a__a1, [
    ->, 'DeBruijn',_a,_a]).


/*
  (= (DeBruijnToVariable $idx $trm)  
    (_DeBruijnToVariable $idx $x $trm))
*/


mc('DeBruijnToVariable',_idx1,_trm1,RetVal749) :- 
  ensure_evaled('DeBruijn',_idx1,_idx) , 
  ensure_evaled(_,_trm1,_trm) , 
  s('_DeBruijnToVariable',_idx,_,_trm,RetVal749).


/*
  (: _DeBruijnToVariable 
    (-> DeBruijn Variable $a $a))
*/


mc(iz,_DeBruijnToVariable1,__xx__x62x__DeBruijn_Variable__a__a1) :- 
  eval_and_unify(_DeBruijnToVariable1,'_DeBruijnToVariable') , 
  eval_and_unify( __xx__x62x__DeBruijn_Variable__a__a1, [
    ->, 'DeBruijn','Variable',_a, 
    _a]).


/*
  (= (_DeBruijnToVariable $idx $var $term)  
    (case 
      (get-metatype $term) 
      ( (Symbol (if-equal $idx $term $var $term)) 
        (Grounded $term) 
        (Variable $term) 
        (Expression (if-equal $idx $term $var (if (isDeBruijn $term) $term (if-decons-expr $term $head $tail (let* (($nhd (_DeBruijnToVariable $idx $var $head)) ($ntl (_DeBruijnToVariable $idx $var $tail))) (cons-atom $nhd $ntl)) ())))))))
*/


mc('_DeBruijnToVariable',_idx2,_var,_term5,CASE_RESULT_RetVal7501) :- 
  ensure_evaled('DeBruijn',_idx2,_idx) , 
  ensure_evaled(_,_term5,_term) , 
  s('get-metatype',_term,Select_caseCASE_SWITCH_24) , 
  CASE_SWITCH_24 =  
    [ caseOption( 'Symbol', 
        S, 
        [_term], 
        ( pass_code('CodeAtom',_var,Code)  ,
          pass_code('CodeAtom',_term,Code5) , 
          s('if-equal',_idx,_term,Code,Code5,S))), 
      caseOption('Grounded',_term,[_term],true), 
      caseOption('Variable',_term,[_term],true), 
      caseOption( 'Expression', 
        S12, 
        [_term], 
        ( pass_code('CodeAtom',_var,Code7)  ,
          as_p1( '%Undefined%', 
            'CodeAtom', _,P1_CODE_233,B, 
            [ if, 
              [isDeBruijn,_term], 
              _term, 
              [ 'if-decons-expr', _term,_head, 
                _tail, 
                [ 'let*', 
                  [ [ _nhd, 
                      ['_DeBruijnToVariable',_idx,_var,_head]], 
                    [ _ntl, 
                      ['_DeBruijnToVariable',_idx,_var,_tail]]], 
                  ['cons-atom',_nhd,_ntl]], 
                []]], 
            ( s(isDeBruijn,_term,S8)  ,
              pass_code('CodeAtom',_term,Code9) , 
              as_p1( cr('CodeAtom','%Undefined%'), 
                'CodeAtom', 
                '%Undefined%', P1_CODE_234,C, 
                [ 'if-decons-expr', _term,_head, 
                  _tail, 
                  [ 'let*', 
                    [ [ _nhd, 
                        ['_DeBruijnToVariable',_idx,_var,_head]], 
                      [ _ntl, 
                        ['_DeBruijnToVariable',_idx,_var,_tail]]], 
                    ['cons-atom',_nhd,_ntl]], 
                  []], 
                ( as_p1( 
                     cr('CodeAtom',cr('CodeAtom','%Undefined%')), 'CodeAtom','Atom', 
                     P1_CODE_235,D, 
                     [ 'let*', 
                       [ [ _nhd, 
                           ['_DeBruijnToVariable',_idx,_var,_head]], 
                         [ _ntl, 
                           ['_DeBruijnToVariable',_idx,_var,_tail]]], 
                       ['cons-atom',_nhd,_ntl]], 
                     ( s('_DeBruijnToVariable',_idx,_var,_head,_nhd)  ,
                       s('_DeBruijnToVariable',_idx,_var,_tail,_ntl) , 
                       s('cons-atom',_nhd,_ntl,P1_CODE_235)))  ,
                  as_p1( 
                     cr('CodeAtom',cr('CodeAtom','%Undefined%')), 
                     'CodeAtom', 
                     RetTypeNotCd236, 
                     P1_CODE_236, 
                     E, 
                     [], 
                     eval_for1( 
                        cr('CodeAtom',cr('CodeAtom',cr('CodeAtom','%Undefined%'))),                    RetTypeNotCd236, [], P1_CODE_236)) , 
                  me( 'if-decons-expr', 
                    _term,                _head, _tail, D, E, P1_CODE_234))) , 
              s(if,S8,Code9,C,P1_CODE_233))) , 
          s('if-equal',_idx,_term,Code7,B,S12)))] , 
  select_case(CASE_SWITCH_24,Select_caseCASE_SWITCH_24,CASE_RESULT_RetVal7501).


/*
;; Return True iff the given term is also DeBruijn index.  NEXT: alternative
*/
/*
  (: isDeBruijn 
    (-> $a Bool))
*/


mc(iz,IsDeBruijn1,__xx__x62x___a_Bool1) :- 
  eval_and_unify(IsDeBruijn1,isDeBruijn) , 
  eval_and_unify(__xx__x62x___a_Bool1,[->,_,'Bool']).


/*
  (= (isDeBruijn $term)  
    (case 
      (get-metatype $term) 
      ( (Symbol (if-equal $term z True False)) 
        (Grounded False) 
        (Variable False) 
        (Expression (if-decons-expr $term $head ($tail) (and (== $head s) (isDeBruijn $tail)) False)))))
*/


mc(isDeBruijn,_term6,CASE_RESULT_RetVal7511) :- 
  ensure_evaled(_,_term6,_term) , 
  s('get-metatype',_term,Select_caseCASE_SWITCH_25) , 
  CASE_SWITCH_25 =  
    [ caseOption( 'Symbol', 
        S, 
        [_term], 
        true,s('if-equal',_term,z,'True','False',S)), 
      caseOption('Grounded','False',[_term],true), 
      caseOption('Variable','False',[_term],true), 
      caseOption( 'Expression', 
        Me, 
        [_term], 
        ( eval_for1('%Undefined%','Variable',[_tail],For1)  ,
          as_p1( '%Undefined%', 
            'CodeAtom', 'Bool',P1_CODE_237,B, 
            [ and, 
              [==,_head,s], 
              [isDeBruijn,_tail]], 
              ((
               (true,s(==,_head,s,P1_CODE_237)),
               (true,s(isDeBruijn,_tail,P1_CODE_237))  ))) , 
          me('if-decons-expr',_term,_head,For1,B,'False',Me)))] , 
  select_case(CASE_SWITCH_25,Select_caseCASE_SWITCH_25,CASE_RESULT_RetVal7511).


/*
;; Test isDeBruijn
*/
/*
  ! (assertEqual 
      (isDeBruijn A) False)
*/


top_call_71:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_52 =  
                      [ assertEqual, 
                        [isDeBruijn,'A'], 
                        'False']),
                   (loonit_assert_source_tf_empty( src(Src_52), 
                      FARL_103, 
                      FARL_104, 
                        ((
                         (findall_ne(FA_103,(true,s(isDeBruijn,'A',FA_103)),FARL_103)),
                         (findall_ne('False',true,FARL_104))  )), 
                      equal_enough_for_test(FARL_103,FARL_104), 
                      Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95"></span><span class="ansi2 ansi95">

( ==> ( 
   top_call_71:- do_metta_runtime( Equal_enough_for_test10, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [isDeBruijn,'A'], 
                           'False']),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test9, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S_A, 
                               true,s(isDeBruijn,'A',S_A), 
                               Equal_enough_for_test9)),
                            (findall_ne('False',true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test9,Test_Ne_True), 
                         Equal_enough_for_test10))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_71)).


</span>top_call :-
    time(top_call_71).


/*
  ! (assertEqual 
      (isDeBruijn ()) False)
*/


top_call_72:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_53 =  
                      [ assertEqual, 
                        [isDeBruijn,[]], 
                        'False']),
                   (loonit_assert_source_tf_empty( src(Src_53), 
                      FARL_105, 
                      FARL_106, 
                        ((
                         (findall_ne( FA_105, 
                            eval_for1('%Undefined%',_,[],For1_Bruijn),s(isDeBruijn,For1_Bruijn,FA_105), 
                            FARL_105)),
                         (findall_ne('False',true,FARL_106))  )), 
                      equal_enough_for_test(FARL_105,FARL_106), 
                      Equal_enough_for_test))  ))).


<span class="ansi5"></span><span class="ansi5 ansi31"></span><span class="ansi5 ansi31 ansi100">

( ==> ( 
   top_call_72:- do_metta_runtime( Equal_enough_for_test14, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [isDeBruijn,[]], 
                           'False']),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test13, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S, 
                                 ((
                                  (eval_for1('%Undefined%',Undefined,[],For1_Bruijn11)),
                                  (s(isDeBruijn,For1_Bruijn11,S))  )), 
                               Equal_enough_for_test13)),
                            (findall_ne('False',true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test13,Test_Ne_True), 
                         Equal_enough_for_test14))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_72)).


</span>top_call :-
    time(top_call_72).


/*
  ! (assertEqual 
      (isDeBruijn (A B)) False)
*/


top_call_73:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_54 =  
                      [ assertEqual, 
                        [isDeBruijn,['A','B']], 
                        'False']),
                   (loonit_assert_source_tf_empty( src(Src_54), 
                      FARL_107, 
                      FARL_108, 
                        ((
                         (findall_ne( FA_107, 
                            true,s('A','B',S_B),s(isDeBruijn,S_B,FA_107), 
                            FARL_107)),
                         (findall_ne('False',true,FARL_108))  )), 
                      equal_enough_for_test(FARL_107,FARL_108), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi35"></span><span class="ansi1 ansi35"></span><span class="ansi1 ansi35">

( ==> ( 
   top_call_73:- do_metta_runtime( Equal_enough_for_test13, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [isDeBruijn,['A','B']], 
                           'False']),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test12, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S, 
                               true,s('A','B',Bruijn_B9),s(isDeBruijn,Bruijn_B9,S), 
                               Equal_enough_for_test12)),
                            (findall_ne('False',true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test12,Test_Ne_True), 
                         Equal_enough_for_test13))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_73)).


</span>top_call :-
    time(top_call_73).


/*
  ! (assertEqual 
      (isDeBruijn z) True)
*/


top_call_74:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_55 =  
                      [ assertEqual, 
                        [isDeBruijn,z], 
                        'True']),
                   (loonit_assert_source_tf_empty( src(Src_55), 
                      FARL_109, 
                      FARL_110, 
                        ((
                         (findall_ne(FA_109,(true,s(isDeBruijn,z,FA_109)),FARL_109)),
                         (findall_ne('True',true,FARL_110))  )), 
                      equal_enough_for_test(FARL_109,FARL_110), 
                      Equal_enough_for_test))  ))).


<span class="ansi36"></span><span class="ansi36"></span><span class="ansi36">

( ==> ( 
   top_call_74:- do_metta_runtime( Equal_enough_for_test9, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [isDeBruijn,z], 
                           'True']),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test8, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S_Z, 
                               true,s(isDeBruijn,z,S_Z), 
                               Equal_enough_for_test8)),
                            (findall_ne('True',true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test8,Test_Ne_True), 
                         Equal_enough_for_test9))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_74)).


</span>top_call :-
    time(top_call_74).


/*
  ! (assertEqual 
      (isDeBruijn (s z)) True)
*/


top_call_75:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_56 =  
                      [ assertEqual, 
                        [isDeBruijn,[s,z]], 
                        'True']),
                   (loonit_assert_source_tf_empty( src(Src_56), 
                      FARL_111, 
                      FARL_112, 
                        ((
                         (findall_ne( FA_111, 
                            true,s(s,z,Bruijn_Z),s(isDeBruijn,Bruijn_Z,FA_111), 
                            FARL_111)),
                         (findall_ne('True',true,FARL_112))  )), 
                      equal_enough_for_test(FARL_111,FARL_112), 
                      Equal_enough_for_test))  ))).


<span class="ansi36"></span><span class="ansi36"></span><span class="ansi36">

( ==> ( 
   top_call_75:- do_metta_runtime( Equal_enough_for_test13, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [isDeBruijn,[s,z]], 
                           'True']),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test12, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S, 
                               true,s(s,z,Bruijn_Z9),s(isDeBruijn,Bruijn_Z9,S), 
                               Equal_enough_for_test12)),
                            (findall_ne('True',true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test12,Test_Ne_True), 
                         Equal_enough_for_test13))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_75)).


</span>top_call :-
    time(top_call_75).


/*
  ! (assertEqual 
      (isDeBruijn (s (s z))) True)
*/


top_call_76:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_57 =  
                      [ assertEqual, 
                        [ isDeBruijn, 
                          [s,[s,z]]], 
                        'True']),
                   (loonit_assert_source_tf_empty( src(Src_57), 
                      FARL_113, 
                      FARL_114, 
                        ((
                         (findall_ne( FA_113, 
                            ( s(s,z,S_Z)  ,
                              s(s,S_Z,Bruijn) , 
                              s(isDeBruijn,Bruijn,FA_113)), 
                            FARL_113)),
                         (findall_ne('True',true,FARL_114))  )), 
                      equal_enough_for_test(FARL_113,FARL_114), 
                      Equal_enough_for_test))  ))).


<span class="ansi36"></span><span class="ansi36"></span><span class="ansi36">

( ==> ( 
   top_call_76:- do_metta_runtime( Equal_enough_for_test15, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ isDeBruijn, 
                             [s,[s,z]]], 
                           'True']),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test14, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S, 
                               ( s(s,z,S_Z10)  ,
                                 s(s,S_Z10,Bruijn12) , 
                                 s(isDeBruijn,Bruijn12,S)), 
                               Equal_enough_for_test14)),
                            (findall_ne('True',true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test14,Test_Ne_True), 
                         Equal_enough_for_test15))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_76)).


</span>top_call :-
    time(top_call_76).


/*
  ! (assertEqual 
      (isDeBruijn [PC]) False)
*/


top_call_77:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_58 =  
                      [ assertEqual, 
                        [isDeBruijn,'PC'()], 
                        'False']),
                   (loonit_assert_source_tf_empty( src(Src_58), 
                      FARL_115, 
                      FARL_116, 
                        ((
                         (findall_ne( FA_115, 
                            info(is_value_obj('PC'())),s(isDeBruijn,'PC'(),FA_115), 
                            FARL_115)),
                         (findall_ne('False',true,FARL_116))  )), 
                      equal_enough_for_test(FARL_115,FARL_116), 
                      Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2 ansi37"></span><span class="ansi2 ansi37 ansi40"></span><span class="ansi2 ansi37 ansi40">

( ==> ( 
   top_call_77:- do_metta_runtime( Equal_enough_for_test9, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [isDeBruijn,'PC'()], 
                           'False']),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test8, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S_PC, 
                               info(is_value_obj('PC'())),s(isDeBruijn,'PC'(),S_PC), 
                               Equal_enough_for_test8)),
                            (findall_ne('False',true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test8,Test_Ne_True), 
                         Equal_enough_for_test9))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_77)).


</span>top_call :-
    time(top_call_77).


/*
;; Test DeBruijnToVariable
*/
/*
  ! (assertAlphaEqual 
      (DeBruijnToVariable z 
        (𝛩 
          [PC] z 
          [ 𝜑 ])) 
      (𝛩 
        [PC] $x 
        [ 𝜑 ]))
*/


top_call_78:- do_metta_runtime( Me6, 
                ( as_p1( '%Undefined%', 
                    'CodeAtom', 'PLN.Statement',P1_CODE_238, 
                    AssertAlphaEqual, 
                    [ 'DeBruijnToVariable', 
                      z, 
                      ['𝛩','PC'(),z,𝜑()]], 
                    ( info(is_value_obj('PC'()))  ,
                      info(is_value_obj(𝜑())) , 
                      s('𝛩','PC'(),z,𝜑(),S_Z_𝜑) , 
                      s('DeBruijnToVariable',z,S_Z_𝜑,P1_CODE_238)))  ,
                  as_p1( '%Undefined%', 
                    'CodeAtom', 'PLN.Statement',P1_CODE_239,Me, 
                    ['𝛩','PC'(),_x,𝜑()], 
                    ( info(is_value_obj('PC'()))  ,
                      info(is_value_obj(𝜑())) , 
                      s('𝛩','PC'(),_x,𝜑(),P1_CODE_239))) , 
                  me(assertAlphaEqual,AssertAlphaEqual,Me,Me6))).


<span class="ansi2"></span><span class="ansi2 ansi37"></span><span class="ansi2 ansi37 ansi40"></span><span class="ansi2 ansi37 ansi40">

( ==> ( 
   top_call_78:- do_metta_runtime( Me16, 
                   ( as_p1( '%Undefined%', 
                       'CodeAtom', 'PLN.Statement',PLN_c46_Statement, 
                       AssertAlphaEqual13, 
                       [ 'DeBruijnToVariable', 
                         z, 
                         ['𝛩','PC'(),z,𝜑()]], 
                       ( info(is_value_obj('PC'()))  ,
                         info(is_value_obj(𝜑())) , 
                         s('𝛩','PC'(),z,𝜑(),S_Z_𝜑7) , 
                         s('DeBruijnToVariable',z,S_Z_𝜑7,PLN_c46_Statement)))  ,
                     as_p1( '%Undefined%', 
                       'CodeAtom', 
                       'PLN.Statement', PLN_c46_Statement_𝜑11,Me14, 
                       ['𝛩','PC'(),PC,𝜑()], 
                       ( info(is_value_obj('PC'()))  ,
                         info(is_value_obj(𝜑())) , 
                         s('𝛩','PC'(),PC,𝜑(),PLN_c46_Statement_𝜑11))) , 
                     me(assertAlphaEqual,AssertAlphaEqual13,Me14,Me16)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_78)).


</span>top_call :-
    time(top_call_78).


/*
  ! (assertAlphaEqual 
      (DeBruijnToVariable z 
        (𝛩 
          [PC] z 
          (s z))) 
      (𝛩 
        [PC] $x 
        (s z)))
*/


top_call_79:- do_metta_runtime( Me9, 
                ( as_p1( '%Undefined%', 
                    'CodeAtom', 'PLN.Statement',P1_CODE_240, 
                    AssertAlphaEqual, 
                    [ 'DeBruijnToVariable', 
                      z, 
                      ['𝛩','PC'(),z,[s,z]]], 
                    ( info(is_value_obj('PC'()))  ,
                      s(s,z,S_Z) , 
                      s('𝛩','PC'(),z,S_Z,S_Z1) , 
                      s('DeBruijnToVariable',z,S_Z1,P1_CODE_240)))  ,
                  as_p1( '%Undefined%', 
                    'CodeAtom', 'PLN.Statement',P1_CODE_241,Me, 
                    ['𝛩','PC'(),_x,[s,z]], 
                    ( info(is_value_obj('PC'()))  ,
                      s(s,z,S_Z2) , 
                      s('𝛩','PC'(),_x,S_Z2,P1_CODE_241))) , 
                  me(assertAlphaEqual,AssertAlphaEqual,Me,Me9))).


<span class="ansi2"></span><span class="ansi2 ansi37"></span><span class="ansi2 ansi37 ansi40"></span><span class="ansi2 ansi37 ansi40">

( ==> ( 
   top_call_79:- do_metta_runtime( Me21, 
                   ( as_p1( '%Undefined%', 
                       'CodeAtom', 'PLN.Statement',PLN_c46_Statement, 
                       AssertAlphaEqual16, 
                       [ 'DeBruijnToVariable', 
                         z, 
                         ['𝛩','PC'(),z,[s,z]]], 
                       ( info(is_value_obj('PC'()))  ,
                         s(s,z,S_Z10) , 
                         s('𝛩','PC'(),z,S_Z10,S_Z11) , 
                         s('DeBruijnToVariable',z,S_Z11,PLN_c46_Statement)))  ,
                     as_p1( '%Undefined%', 
                       'CodeAtom', 
                       'PLN.Statement', PLN_c46_Statement15,Me17, 
                       ['𝛩','PC'(),PC,[s,z]], 
                       ( info(is_value_obj('PC'()))  ,
                         s(s,z,S_Z13) , 
                         s('𝛩','PC'(),PC,S_Z13,PLN_c46_Statement15))) , 
                     me(assertAlphaEqual,AssertAlphaEqual16,Me17,Me21)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_79)).


</span>top_call :-
    time(top_call_79).


/*
  ! (assertAlphaEqual 
      (DeBruijnToVariable 
        (s z) 
        (𝛩 
          [PC] z 
          (s z))) 
      (𝛩 
        [PC] z $x))
*/


top_call_80:- do_metta_runtime( Me8, 
                ( as_p1( '%Undefined%', 
                    'CodeAtom', 'PLN.Statement',P1_CODE_242, 
                    AssertAlphaEqual, 
                    [ 'DeBruijnToVariable', 
                      [s,z], 
                      ['𝛩','PC'(),z,[s,z]]], 
                    ( s(s,z,BruijnToVariable_Z)  ,
                      info(is_value_obj('PC'())) , 
                      s(s,z,S_Z1) , 
                      s('𝛩','PC'(),z,S_Z1,S) , 
                      s('DeBruijnToVariable',BruijnToVariable_Z,S,P1_CODE_242)))  ,
                  as_p1( '%Undefined%', 
                    'CodeAtom', 'PLN.Statement',P1_CODE_243,Me, 
                    ['𝛩','PC'(),z,_x], 
                    info(is_value_obj('PC'())),true,s('𝛩','PC'(),z,_x,P1_CODE_243)) , 
                  me(assertAlphaEqual,AssertAlphaEqual,Me,Me8))).


<span class="ansi36"></span><span class="ansi36"></span><span class="ansi36">

( ==> ( 
   top_call_80:- do_metta_runtime( Me19, 
                   ( as_p1( '%Undefined%', 
                       'CodeAtom', 'PLN.Statement',PLN_c46_Statement, 
                       AssertAlphaEqual16, 
                       [ 'DeBruijnToVariable', 
                         [s,z], 
                         ['𝛩','PC'(),z,[s,z]]], 
                       ( s(s,z,BruijnToVariable_Z9)  ,
                         info(is_value_obj('PC'())) , 
                         s(s,z,S_Z10) , 
                         s('𝛩','PC'(),z,S_Z10,S12) , 
                         s('DeBruijnToVariable',BruijnToVariable_Z9,S12,PLN_c46_Statement)))  ,
                     as_p1( '%Undefined%', 
                       'CodeAtom', 
                       'PLN.Statement', PLN_c46_Statement15,Me17, 
                       ['𝛩','PC'(),z,Z14], 
                         ((
                          (info(is_value_obj('PC'()))),
                          (true,s('𝛩','PC'(),z,Z14,PLN_c46_Statement15))  ))) , 
                     me(assertAlphaEqual,AssertAlphaEqual16,Me17,Me19)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_80)).


</span>top_call :-
    time(top_call_80).


/*
  ! (assertAlphaEqual 
      (DeBruijnToVariable 
        (s z) 
        (∃ z 
          (𝛩 
            (Cons 
              ( [ : ] 
                [mp2.1] 
                [ 𝜑 ]) 
              [PC]) 
            ( [ax-mp] z 
              (s z)) 
            ( [ → ] 
              [ 𝜓 ] 
              [ 𝜒 ])))) 
      (∃ z 
        (𝛩 
          (Cons 
            ( [ : ] 
              [mp2.1] 
              [ 𝜑 ]) 
            [PC]) 
          ( [ax-mp] z $x) 
          ( [ → ] 
            [ 𝜓 ] 
            [ 𝜒 ]))))
*/


top_call_81:- do_metta_runtime( Me28, 
                ( as_p1( '%Undefined%', 
                    'CodeAtom', 'PLN.Statement',P1_CODE_244, 
                    AssertAlphaEqual, 
                    [ 'DeBruijnToVariable', 
                      [s,z], 
                      [ ∃, 
                        z, 
                        [ '𝛩', 
                          [ 'Cons', 
                            [:(),'mp2.1'(),𝜑()], 
                            'PC'()], 
                          ['ax-mp'(),z,[s,z]], 
                          [→(),𝜓(),𝜒()]]]], 
                    ( s(s,z,BruijnToVariable_Z)  ,
                      info(is_value_obj('mp2.1'())) , 
                      info(is_value_obj(𝜑())) , 
                      s(:(),'mp2.1'(),𝜑(),Cons_𝜑) , 
                      info(is_value_obj('PC'())) , 
                      s('Cons',Cons_𝜑,'PC'(),S_𝛩_PC) , 
                      s(s,z,S_Z4) , 
                      s('ax-mp'(),z,S_Z4,S) , 
                      info(is_value_obj(𝜓())) , 
                      info(is_value_obj(𝜒())) , 
                      s(→(),𝜓(),𝜒(),S_𝜒) , 
                      s('𝛩',S_𝛩_PC,S,S_𝜒,S_Z8) , 
                      s(∃,z,S_Z8,S10) , 
                      s('DeBruijnToVariable',BruijnToVariable_Z,S10,P1_CODE_244)))  ,
                  as_p1( '%Undefined%', 
                    'CodeAtom', 'PLN.Statement',P1_CODE_245,Me, 
                    [ ∃, 
                      z, 
                      [ '𝛩', 
                        [ 'Cons', 
                          [:(),'mp2.1'(),𝜑()], 
                          'PC'()], 
                        ['ax-mp'(),z,_x], 
                        [→(),𝜓(),𝜒()]]], 
                    ( info(is_value_obj('mp2.1'()))  ,
                      info(is_value_obj(𝜑())) , 
                      s(:(),'mp2.1'(),𝜑(),Cons_𝜑11) , 
                      info(is_value_obj('PC'())) , 
                      s('Cons',Cons_𝜑11,'PC'(),S_𝛩_PC13) , 
                      s('ax-mp'(),z,_x,S17) , 
                      info(is_value_obj(𝜓())) , 
                      info(is_value_obj(𝜒())) , 
                      s(→(),𝜓(),𝜒(),S_𝜒15) , 
                      s('𝛩',S_𝛩_PC13,S17,S_𝜒15,S_Z18) , 
                      s(∃,z,S_Z18,P1_CODE_245))) , 
                  me(assertAlphaEqual,AssertAlphaEqual,Me,Me28))).


<span class="ansi36"></span><span class="ansi36"></span><span class="ansi36">

( ==> ( 
   top_call_81:- do_metta_runtime( Me59, 
                   ( as_p1( '%Undefined%', 
                       'CodeAtom', 'PLN.Statement',PLN_c46_Statement, 
                       AssertAlphaEqual50, 
                       [ 'DeBruijnToVariable', 
                         [s,z], 
                         [ ∃, 
                           z, 
                           [ '𝛩', 
                             [ 'Cons', 
                               [:(),'mp2.1'(),𝜑()], 
                               'PC'()], 
                             ['ax-mp'(),z,[s,z]], 
                             [→(),𝜓(),𝜒()]]]], 
                       ( s(s,z,BruijnToVariable_Z29)  ,
                         info(is_value_obj('mp2.1'())) , 
                         info(is_value_obj(𝜑())) , 
                         s(:(),'mp2.1'(),𝜑(),Cons_𝜑30) , 
                         info(is_value_obj('PC'())) , 
                         s('Cons',Cons_𝜑30,'PC'(),S_𝛩_PC32) , 
                         s(s,z,S_Z33) , 
                         s('ax-mp'(),z,S_Z33,S36) , 
                         info(is_value_obj(𝜓())) , 
                         info(is_value_obj(𝜒())) , 
                         s(→(),𝜓(),𝜒(),S_𝜒34) , 
                         s('𝛩',S_𝛩_PC32,S36,S_𝜒34,S_Z37) , 
                         s(∃,z,S_Z37,S39) , 
                         s('DeBruijnToVariable',BruijnToVariable_Z29,S39,PLN_c46_Statement)))  ,
                     as_p1( '%Undefined%', 
                       'CodeAtom', 
                       'PLN.Statement', PLN_c46_Statement49,Me51, 
                       [ ∃, 
                         z, 
                         [ '𝛩', 
                           [ 'Cons', 
                             [:(),'mp2.1'(),𝜑()], 
                             'PC'()], 
                           ['ax-mp'(),z,Z44], 
                           [→(),𝜓(),𝜒()]]], 
                       ( info(is_value_obj('mp2.1'()))  ,
                         info(is_value_obj(𝜑())) , 
                         s(:(),'mp2.1'(),𝜑(),Cons_𝜑41) , 
                         info(is_value_obj('PC'())) , 
                         s('Cons',Cons_𝜑41,'PC'(),S_𝛩_PC43) , 
                         s('ax-mp'(),z,Z44,S47) , 
                         info(is_value_obj(𝜓())) , 
                         info(is_value_obj(𝜒())) , 
                         s(→(),𝜓(),𝜒(),S_𝜒45) , 
                         s('𝛩',S_𝛩_PC43,S47,S_𝜒45,S_Z48) , 
                         s(∃,z,S_Z48,PLN_c46_Statement49))) , 
                     me(assertAlphaEqual,AssertAlphaEqual50,Me51,Me59)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_81)).


</span>top_call :-
    time(top_call_81).


/*
;; For now PLN chaining is greedy, without inference control.  That is
;; because we first want to make sure PLN-based inference control
;; works at all.  In other words, to begin with we focus on making the
;; inference control accurate, not necessarily efficient.
*/
/*
  (: pln-bc 
    (-> $a Nat PLN.Judgment PLN.Judgment))
*/


mc(iz,_pln_xx_bc1,__xx__x62x___a_Nat_PLN_x46x_Judgment_PLN_x46x_Judgment1) :- 
  eval_and_unify(_pln_xx_bc1,'pln-bc') , 
  eval_and_unify( __xx__x62x___a_Nat_PLN_x46x_Judgment_PLN_x46x_Judgment1, [
    ->, _,'Nat','PLN.Judgment', 
    'PLN.Judgment']).


/*
; PLN judgement without hole
*/
/*
;; Base cases
*/
/*
;; Match the kb
*/
/*
  (= (pln-bc $kb $depth (: $prf $thrm))  
    (match $kb 
      (: $prf $thrm) 
      (: $prf $thrm)))
*/


mc('pln-bc',_kb1,_depth12,__xCx___prf__thrm5,RetVal752) :- 
  ensure_evaled(_,_kb1,_kb) , 
  ensure_evaled('Nat',_depth12,_) , 
  eval_and_unify(__xCx___prf__thrm5,[:,_prf,_thrm]) , 
  metta_atom_iter(_kb,[:,_prf,_thrm]) , 
  s(:,_prf,_thrm,RetVal752).


/*
;)
*/
/*
;; Undefined (Udf).  The Udf axiom takes any PLN statement and creates
;; a judgement with the undefined truth value, with strength 1 and
;; confidence 0, corresponding to complete unknown.
*/
/*
  (= (pln-bc $kb $depth (: Udf (≞ $stm (PLN.MkSTV 1 0))))  
    (: Udf 
      (≞ $stm 
        (PLN.MkSTV 1 0))))
*/


mc( 'pln-bc', 
  _kb2,  _depth13, __xCx__Udf___x8798x___stm_PLN_x46x_MkSTV__1__01, RetVal753) :- 
  ensure_evaled(_,_kb2,_) , 
  ensure_evaled('Nat',_depth13,_) , 
  eval_and_unify( __xCx__Udf___x8798x___stm_PLN_x46x_MkSTV__1__01, [
    :, 
    'Udf', 
    [ ≞, 
      _stm, 
      ['PLN.MkSTV',1,0]]]) , 
  s('PLN.MkSTV',1,0,S) , 
  s(≞,_stm,S,Udf) , 
  s(:,'Udf',Udf,RetVal753).


/*
;)
*/
/*
;; Recursive steps
*/
/*
;; Existential Quantifier Introduction - from instance - (EQI).  The
;; truth value on the existantial quantifier is equal to that on the
;; instance.  For this to work well, merging truth values obtained
;; from different instances (or different paths) will need to be
;; applied.  The challenges should be no different than other truth
;; value merging, meaning one needs to estimate how much independent
;; they are (maybe this can be outsourced to PLN itself).
*/
/*
  (= (pln-bc $kb (S $k) (: (EQI $prfarg) (≞ (∃ $idx $stm) (PLN.MkSTV $s $c))))  
    (let* 
      ( ($stm_xx_fv (DeBruijnToVariable $idx $stm)) ((: $prfarg (≞ $stm_xx_fv (PLN.MkSTV $s $c))) (pln-bc $kb $k (: $prfarg (≞ $stm_xx_fv (PLN.MkSTV $s $c)))))) 
      (: 
        (EQI $prfarg) 
        (≞ 
          (∃ $idx $stm) 
          (PLN.MkSTV $s $c)))))
*/


mc( 'pln-bc', 
  _kb3,  S__k6, __xCx__EQI__prfarg___x8798x____x8707x___idx__stm_PLN_x46x_MkSTV__s__c1, RetVal754) :- 
  ensure_evaled(_,_kb3,_kb) , 
  eval_and_unify(S__k6,['S',_k]) , 
  eval_and_unify( __xCx__EQI__prfarg___x8798x____x8707x___idx__stm_PLN_x46x_MkSTV__s__c1, [
    :, 
    ['EQI',_prfarg], 
    [ ≞, 
      [∃,_idx,_stm], 
      ['PLN.MkSTV',_s,_c]]]) , 
  s('DeBruijnToVariable',_idx,_stm,_stm_xx_fv) , 
  s('PLN.MkSTV',_s,_c,S) , 
  s(≞,_stm_xx_fv,S,S5) , 
  s(:,_prfarg,S5,SK) , 
  s('pln-bc',_kb,_k,SK,S13) , 
  unify_with_occurs_check( S13, [
    :, 
    _prfarg, 
    [ ≞, 
      _stm_xx_fv, 
      ['PLN.MkSTV',_s,_c]]]) , 
  s('EQI',_prfarg,Kw) , 
  s(∃,_idx,_stm,S14) , 
  s('PLN.MkSTV',_s,_c,S9) , 
  s(≞,S14,S9,S11) , 
  s(:,Kw,S11,RetVal754).


/*
;)
*/
/*
;; Conjunction Introduction (CI).  The formula is somewhat
;; conservative but not maximally so, taking the product of the
;; strengths and the min of the confidences.  Note that it is not
;; consistent with probability theory, because two strengths can only
;; be multipled if they are assumed to be independent, but in this
;; case, their confidences should not be the min, rather their counts
;; should be added.  We cannot opt for the most conservative approach
;; because it should assume that both conjuncts are disjoint, which
;; would output a strength of 0 regardless of the strengths of the
;; premises.  Anyway, for now we use that formula until we come up
;; with something better.
*/
/*
  (= (pln-bc $kb (S $k) (: (CI $prfarg1 $prfarg2) (≞ (∧ $stm1 $stm2) (PLN.MkSTV $s $c))))  
    (let* 
      ( ( (: $prfarg1 
            (≞ $stm1 
              (PLN.MkSTV $s1 $c1))) (pln-bc $kb $k (: $prfarg1 (≞ $stm1 (PLN.MkSTV $s1 $c1))))) 
        ( (: $prfarg2 
            (≞ $stm2 
              (PLN.MkSTV $s2 $c2))) (pln-bc $kb $k (: $prfarg2 (≞ $stm2 (PLN.MkSTV $s2 $c2))))) 
        ($s (* $s1 $s2)) 
        ($c (min $c1 $c2))) 
      (: 
        (CI $prfarg1 $prfarg2) 
        (≞ 
          (∧ $stm1 $stm2) 
          (PLN.MkSTV $s $c)))))
*/


mc( 'pln-bc', 
  _kb4,  S__k7, __xCx__CI__prfarg1__prfarg2___x8798x____x8743x___stm1__stm2_PLN_x46x_MkSTV__s__c1, RetVal755) :- 
  ensure_evaled(_,_kb4,_kb) , 
  eval_and_unify(S__k7,['S',_k]) , 
  eval_and_unify( __xCx__CI__prfarg1__prfarg2___x8798x____x8743x___stm1__stm2_PLN_x46x_MkSTV__s__c1, [
    :, 
    ['CI',_prfarg1,_prfarg2], 
    [ ≞, 
      [∧,_stm1,_stm2], 
      ['PLN.MkSTV',_s,_c]]]) , 
  s('PLN.MkSTV',_s1,_c1,S) , 
  s(≞,_stm1,S,S4) , 
  s(:,_prfarg1,S4,SK) , 
  s('pln-bc',_kb,_k,SK,S19) , 
  unify_with_occurs_check( S19, [
    :, 
    _prfarg1, 
    [ ≞, 
      _stm1, 
      ['PLN.MkSTV',_s1,_c1]]]) , 
  s('PLN.MkSTV',_s2,_c2,S8) , 
  s(≞,_stm2,S8,S10) , 
  s(:,_prfarg2,S10,SK11) , 
  s('pln-bc',_kb,_k,SK11,S20) , 
  unify_with_occurs_check( S20, [
    :, 
    _prfarg2, 
    [ ≞, 
      _stm2, 
      ['PLN.MkSTV',_s2,_c2]]]) , 
  s(*,_s1,_s2,_s) , 
  s(min,_c1,_c2,_c) , 
  s('CI',_prfarg1,_prfarg2,Kw) , 
  s(∧,_stm1,_stm2,S22) , 
  s('PLN.MkSTV',_s,_c,S15) , 
  s(≞,S22,S15,S17) , 
  s(:,Kw,S17,RetVal755).


/*
;)
*/
/*
;; Less than predicate over typing relationships of PLN judgements by
;; confidence.  For instance the following call
;;
;; (lt_by_conf (: PRF1 (≞ STM1 (MkSTV 0.4 0.5)))
;;             (: PRF2 (≞ STM2 (MkSTV 0.6 0.4))))
;;
;; outputs
;;
;; False because the confidence of STM1 according to PRF1, 0.5, is not
;; less than the confidence of STM2 according to PRF2, 0.4.
*/
/*
  (: lt_by_conf 
    (-> $a $a Bool))
*/


mc(iz,_lt_by_conf1,__xx__x62x___a__a_Bool1) :- 
  eval_and_unify(_lt_by_conf1,lt_by_conf) , 
  eval_and_unify(__xx__x62x___a__a_Bool1,[->,_a,_a,'Bool']).


/*
  (= (lt_by_conf (: $prf1 (≞ $stm1 (PLN.MkSTV $s1 $c1))) (: $prf2 (≞ $stm2 (PLN.MkSTV $s2 $c2))))  
    (< $c1 $c2))
*/


mc( lt_by_conf, 
  __xCx___prf1___x8798x___stm1_PLN_x46x_MkSTV__s1__c11,  __xCx___prf2___x8798x___stm2_PLN_x46x_MkSTV__s2__c21, RetVal756) :- 
  eval_and_unify( __xCx___prf1___x8798x___stm1_PLN_x46x_MkSTV__s1__c11, [
    :, 
    _, 
    [ ≞, 
      _, 
      ['PLN.MkSTV',_,_c1]]]) , 
  eval_and_unify( __xCx___prf2___x8798x___stm2_PLN_x46x_MkSTV__s2__c21, [
    :, 
    _, 
    [ ≞, 
      _, 
      ['PLN.MkSTV',_,_c2]]]) , 
  s(<,_c1,_c2,RetVal756).


/*
;; Test lt_by_conf (TODO: replace by assert once ready)
*/
/*
  ! (assertEqual 
      (lt_by_conf 
        (: Ax1 
          (≞ 
            (∃ 
              (s z) 
              (∃ z 
                (𝛩 
                  [PC] 
                  ( [ax-mp] z 
                    (s z)) 
                  ( [ → ] 
                    [ 𝜓 ] 
                    [ 𝜒 ])))) 
            (PLN.MkSTV 1 0))) 
        (: Ax2 
          (≞ 
            (∃ 
              (s z) 
              (∃ z 
                (𝛩 
                  [PC] 
                  ( [ax-mp] z 
                    (s z)) 
                  ( [ → ] 
                    [ 𝜓 ] 
                    [ 𝜒 ])))) 
            (PLN.MkSTV 0 0)))) False)
*/


top_call_82:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_59 =  
                      [ assertEqual, 
                        [ lt_by_conf, 
                          [ :, 
                            'Ax1', 
                            [ ≞, 
                              [ ∃, 
                                [s,z], 
                                [ ∃, 
                                  z, 
                                  [ '𝛩', 
                                    'PC'(), 
                                    ['ax-mp'(),z,[s,z]], 
                                    [→(),𝜓(),𝜒()]]]], 
                              ['PLN.MkSTV',1,0]]], 
                          [ :, 
                            'Ax2', 
                            [ ≞, 
                              [ ∃, 
                                [s,z], 
                                [ ∃, 
                                  z, 
                                  [ '𝛩', 
                                    'PC'(), 
                                    ['ax-mp'(),z,[s,z]], 
                                    [→(),𝜓(),𝜒()]]]], 
                              ['PLN.MkSTV',0,0]]]], 
                        'False']),
                   (loonit_assert_source_tf_empty( src(Src_59), 
                      FARL_117, 
                      FARL_118, 
                        ((
                         (findall_ne( FA_117, 
                            ( s(s,z,S_Z)  ,
                              info(is_value_obj('PC'())) , 
                              s(s,z,S_Z2) , 
                              s('ax-mp'(),z,S_Z2,S_PC) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜓(),𝜒(),S_𝜒) , 
                              s('𝛩','PC'(),S_PC,S_𝜒,S_Z5) , 
                              s(∃,z,S_Z5,S) , 
                              s(∃,S_Z,S,S28) , 
                              s('PLN.MkSTV',1,0,S7) , 
                              s(≞,S28,S7,Ax1) , 
                              s(:,'Ax1',Ax1,Lt_by_conf) , 
                              s(s,z,S_Z9) , 
                              info(is_value_obj('PC'())) , 
                              s(s,z,S_Z10) , 
                              s('ax-mp'(),z,S_Z10,S_PC12) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜓(),𝜒(),S_𝜒11) , 
                              s('𝛩','PC'(),S_PC12,S_𝜒11,S_Z13) , 
                              s(∃,z,S_Z13,S14) , 
                              s(∃,S_Z9,S14,S34) , 
                              s('PLN.MkSTV',0,0,S15) , 
                              s(≞,S34,S15,Ax2) , 
                              s(:,'Ax2',Ax2,S18) , 
                              s(lt_by_conf,Lt_by_conf,S18,FA_117)), 
                            FARL_117)),
                         (findall_ne('False',true,FARL_118))  )), 
                      equal_enough_for_test(FARL_117,FARL_118), 
                      Equal_enough_for_test))  ))).


<span class="ansi36"></span><span class="ansi36"></span><span class="ansi36">

( ==> ( 
   top_call_82:- do_metta_runtime( Equal_enough_for_test57, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ lt_by_conf, 
                             [ :, 
                               'Ax1', 
                               [ ≞, 
                                 [ ∃, 
                                   [s,z], 
                                   [ ∃, 
                                     z, 
                                     [ '𝛩', 
                                       'PC'(), 
                                       ['ax-mp'(),z,[s,z]], 
                                       [→(),𝜓(),𝜒()]]]], 
                                 ['PLN.MkSTV',1,0]]], 
                             [ :, 
                               'Ax2', 
                               [ ≞, 
                                 [ ∃, 
                                   [s,z], 
                                   [ ∃, 
                                     z, 
                                     [ '𝛩', 
                                       'PC'(), 
                                       ['ax-mp'(),z,[s,z]], 
                                       [→(),𝜓(),𝜒()]]]], 
                                 ['PLN.MkSTV',0,0]]]], 
                           'False']),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test56, 
                         Test_Ne_True, 
                           ((
                            (findall_ne( S71, 
                               ( s(s,z,S_Z37)  ,
                                 info(is_value_obj('PC'())) , 
                                 s(s,z,S_Z38) , 
                                 s('ax-mp'(),z,S_Z38,S_PC40) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜓(),𝜒(),S_𝜒39) , 
                                 s('𝛩','PC'(),S_PC40,S_𝜒39,S_Z41) , 
                                 s(∃,z,S_Z41,S42) , 
                                 s(∃,S_Z37,S42,S64) , 
                                 s('PLN.MkSTV',1,0,S43) , 
                                 s(≞,S64,S43,Ax144) , 
                                 s(:,'Ax1',Ax144,Lt_by_conf53) , 
                                 s(s,z,S_Z45) , 
                                 info(is_value_obj('PC'())) , 
                                 s(s,z,S_Z46) , 
                                 s('ax-mp'(),z,S_Z46,S_PC48) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜓(),𝜒(),S_𝜒47) , 
                                 s('𝛩','PC'(),S_PC48,S_𝜒47,S_Z49) , 
                                 s(∃,z,S_Z49,S50) , 
                                 s(∃,S_Z45,S50,S70) , 
                                 s('PLN.MkSTV',0,0,S51) , 
                                 s(≞,S70,S51,Ax252) , 
                                 s(:,'Ax2',Ax252,S54) , 
                                 s(lt_by_conf,Lt_by_conf53,S54,S71)), 
                               Equal_enough_for_test56)),
                            (findall_ne('False',true,Test_Ne_True))  )), 
                         equal_enough_for_test(Equal_enough_for_test56,Test_Ne_True), 
                         Equal_enough_for_test57))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_82)).


</span>top_call :-
    time(top_call_82).


/*
;; Test pln-bc
*/
/*
  ! (bind! &pln-bc.test.kb 
      (new-space))
*/


top_call_83:- do_metta_runtime( S, 
                ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb)  ,
                  s('new-space',New_space) , 
                  s('bind!',Pln_bc_c46_test_c46_kb,New_space,S))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_83:- do_metta_runtime( S5, 
                   ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb3)  ,
                     s('new-space',New_space4) , 
                     s('bind!',Pln_bc_c46_test_c46_kb3,New_space4,S5)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_83)).


</span>top_call :-
    time(top_call_83).


/*
;; Populate pln-bc.test.kb with instances of 𝛩
*/
/*
  ! (add-atom &pln-bc.test.kb 
      (: ax-1-inst 
        (≞ 
          (𝛩 
            [PC] 
            [ax-1] 
            ( [ → ] 
              [ 𝜑 ] 
              ( [ → ] 
                [ 𝜓 ] 
                [ 𝜑 ]))) 
          (PLN.MkSTV 1 1))))
*/


top_call_84:- do_metta_runtime( S8, 
                ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb)  ,
                  info(is_value_obj('PC'())) , 
                  info(is_value_obj('ax-1'())) , 
                  info(is_value_obj(𝜑())) , 
                  info(is_value_obj(𝜓())) , 
                  info(is_value_obj(𝜑())) , 
                  s(→(),𝜓(),𝜑(),S_𝜑) , 
                  s(→(),𝜑(),S_𝜑,Ax_1) , 
                  s('𝛩','PC'(),'ax-1'(),Ax_1,S7) , 
                  s('PLN.MkSTV',1,1,S) , 
                  s(≞,S7,S,Ax_1_inst) , 
                  s(:,'ax-1-inst',Ax_1_inst,S5) , 
                  s('add-atom',Pln_bc_c46_test_c46_kb,S5,S8))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_84:- do_metta_runtime( S17, 
                   ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb9)  ,
                     info(is_value_obj('PC'())) , 
                     info(is_value_obj('ax-1'())) , 
                     info(is_value_obj(𝜑())) , 
                     info(is_value_obj(𝜓())) , 
                     info(is_value_obj(𝜑())) , 
                     s(→(),𝜓(),𝜑(),S_𝜑10) , 
                     s(→(),𝜑(),S_𝜑10,Ax_111) , 
                     s('𝛩','PC'(),'ax-1'(),Ax_111,S16) , 
                     s('PLN.MkSTV',1,1,S12) , 
                     s(≞,S16,S12,Ax_1_inst13) , 
                     s(:,'ax-1-inst',Ax_1_inst13,S14) , 
                     s('add-atom',Pln_bc_c46_test_c46_kb9,S14,S17)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_84)).


</span>top_call :-
    time(top_call_84).


/*
  ! (add-atom &pln-bc.test.kb 
      (: ax-2-inst 
        (≞ 
          (𝛩 
            [PC] 
            [ax-2] 
            ( [ → ] 
              ( [ → ] 
                [ 𝜑 ] 
                ( [ → ] 
                  [ 𝜓 ] 
                  [ 𝜒 ])) 
              ( [ → ] 
                ( [ → ] 
                  [ 𝜑 ] 
                  [ 𝜓 ]) 
                ( [ → ] 
                  [ 𝜑 ] 
                  [ 𝜒 ])))) 
          (PLN.MkSTV 1 1))))
*/


top_call_85:- do_metta_runtime( S15, 
                ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb)  ,
                  info(is_value_obj('PC'())) , 
                  info(is_value_obj('ax-2'())) , 
                  info(is_value_obj(𝜑())) , 
                  info(is_value_obj(𝜓())) , 
                  info(is_value_obj(𝜒())) , 
                  s(→(),𝜓(),𝜒(),S_𝜑_𝜒) , 
                  s(→(),𝜑(),S_𝜑_𝜒,S11) , 
                  info(is_value_obj(𝜑())) , 
                  info(is_value_obj(𝜓())) , 
                  s(→(),𝜑(),𝜓(),S_𝜓) , 
                  info(is_value_obj(𝜑())) , 
                  info(is_value_obj(𝜒())) , 
                  s(→(),𝜑(),𝜒(),S_𝜒4) , 
                  s(→(),S_𝜓,S_𝜒4,S) , 
                  s(→(),S11,S,Ax_2) , 
                  s('𝛩','PC'(),'ax-2'(),Ax_2,S14) , 
                  s('PLN.MkSTV',1,1,S7) , 
                  s(≞,S14,S7,Ax_2_inst) , 
                  s(:,'ax-2-inst',Ax_2_inst,S9) , 
                  s('add-atom',Pln_bc_c46_test_c46_kb,S9,S15))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_85:- do_metta_runtime( S31, 
                   ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb16)  ,
                     info(is_value_obj('PC'())) , 
                     info(is_value_obj('ax-2'())) , 
                     info(is_value_obj(𝜑())) , 
                     info(is_value_obj(𝜓())) , 
                     info(is_value_obj(𝜒())) , 
                     s(→(),𝜓(),𝜒(),S_𝜑_𝜒17) , 
                     s(→(),𝜑(),S_𝜑_𝜒17,S27) , 
                     info(is_value_obj(𝜑())) , 
                     info(is_value_obj(𝜓())) , 
                     s(→(),𝜑(),𝜓(),S_𝜓19) , 
                     info(is_value_obj(𝜑())) , 
                     info(is_value_obj(𝜒())) , 
                     s(→(),𝜑(),𝜒(),S_𝜒20) , 
                     s(→(),S_𝜓19,S_𝜒20,S21) , 
                     s(→(),S27,S21,Ax_222) , 
                     s('𝛩','PC'(),'ax-2'(),Ax_222,S30) , 
                     s('PLN.MkSTV',1,1,S23) , 
                     s(≞,S30,S23,Ax_2_inst24) , 
                     s(:,'ax-2-inst',Ax_2_inst24,S25) , 
                     s('add-atom',Pln_bc_c46_test_c46_kb16,S25,S31)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_85)).


</span>top_call :-
    time(top_call_85).


/*
  ! (add-atom &pln-bc.test.kb 
      (: ax-pm-inst 
        (≞ 
          (𝛩 
            (Cons 
              ( [ : ] 
                [mp2.1] 
                [ 𝜑 ]) 
              (Cons 
                ( [ : ] 
                  [mp2.2] 
                  [ 𝜓 ]) 
                (Cons 
                  ( [ : ] 
                    [mp2.3] 
                    ( [ → ] 
                      [ 𝜑 ] 
                      ( [ → ] 
                        [ 𝜓 ] 
                        [ 𝜒 ]))) 
                  [PC]))) 
            ( [ax-mp] 
              [mp2.1] 
              [mp2.3]) 
            ( [ → ] 
              [ 𝜓 ] 
              [ 𝜒 ])) 
          (PLN.MkSTV 1 1))))
*/


top_call_86:- do_metta_runtime( S22, 
                ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb)  ,
                  info(is_value_obj('mp2.1'())) , 
                  info(is_value_obj(𝜑())) , 
                  s(:(),'mp2.1'(),𝜑(),Cons_𝜑) , 
                  info(is_value_obj('mp2.2'())) , 
                  info(is_value_obj(𝜓())) , 
                  s(:(),'mp2.2'(),𝜓(),Cons_𝜓) , 
                  info(is_value_obj('mp2.3'())) , 
                  info(is_value_obj(𝜑())) , 
                  info(is_value_obj(𝜓())) , 
                  info(is_value_obj(𝜒())) , 
                  s(→(),𝜓(),𝜒(),S_𝜑_𝜒) , 
                  s(→(),𝜑(),S_𝜑_𝜒,Mp2_c46_3) , 
                  s(:(),'mp2.3'(),Mp2_c46_3,Cons) , 
                  info(is_value_obj('PC'())) , 
                  s('Cons',Cons,'PC'(),S_PC) , 
                  s('Cons',Cons_𝜓,S_PC,S) , 
                  s('Cons',Cons_𝜑,S,S_𝛩) , 
                  info(is_value_obj('mp2.1'())) , 
                  info(is_value_obj('mp2.3'())) , 
                  s('ax-mp'(),'mp2.1'(),'mp2.3'(),Mp2_c46_311) , 
                  info(is_value_obj(𝜓())) , 
                  info(is_value_obj(𝜒())) , 
                  s(→(),𝜓(),𝜒(),S_𝜒12) , 
                  s('𝛩',S_𝛩,Mp2_c46_311,S_𝜒12,S21) , 
                  s('PLN.MkSTV',1,1,S14) , 
                  s(≞,S21,S14,Ax_pm_inst) , 
                  s(:,'ax-pm-inst',Ax_pm_inst,S16) , 
                  s('add-atom',Pln_bc_c46_test_c46_kb,S16,S22))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_86:- do_metta_runtime( S45, 
                   ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb23)  ,
                     info(is_value_obj('mp2.1'())) , 
                     info(is_value_obj(𝜑())) , 
                     s(:(),'mp2.1'(),𝜑(),Cons_𝜑24) , 
                     info(is_value_obj('mp2.2'())) , 
                     info(is_value_obj(𝜓())) , 
                     s(:(),'mp2.2'(),𝜓(),Cons_𝜓25) , 
                     info(is_value_obj('mp2.3'())) , 
                     info(is_value_obj(𝜑())) , 
                     info(is_value_obj(𝜓())) , 
                     info(is_value_obj(𝜒())) , 
                     s(→(),𝜓(),𝜒(),S_𝜑_𝜒26) , 
                     s(→(),𝜑(),S_𝜑_𝜒26,Mp2_c46_328) , 
                     s(:(),'mp2.3'(),Mp2_c46_328,Cons29) , 
                     info(is_value_obj('PC'())) , 
                     s('Cons',Cons29,'PC'(),S_PC30) , 
                     s('Cons',Cons_𝜓25,S_PC30,S33) , 
                     s('Cons',Cons_𝜑24,S33,S_𝛩36) , 
                     info(is_value_obj('mp2.1'())) , 
                     info(is_value_obj('mp2.3'())) , 
                     s('ax-mp'(),'mp2.1'(),'mp2.3'(),Mp2_c46_334) , 
                     info(is_value_obj(𝜓())) , 
                     info(is_value_obj(𝜒())) , 
                     s(→(),𝜓(),𝜒(),S_𝜒35) , 
                     s('𝛩',S_𝛩36,Mp2_c46_334,S_𝜒35,S44) , 
                     s('PLN.MkSTV',1,1,S37) , 
                     s(≞,S44,S37,Ax_pm_inst38) , 
                     s(:,'ax-pm-inst',Ax_pm_inst38,S39) , 
                     s('add-atom',Pln_bc_c46_test_c46_kb23,S39,S45)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_86)).


</span>top_call :-
    time(top_call_86).


/*
;; Test axioms (instances)
*/
/*
  ! (assertEqual 
      (pln-bc &pln-bc.test.kb 
        (fromNumber 0) 
        (: $prf 
          (≞ 
            (𝛩 
              [PC] 
              [ax-1] 
              ( [ → ] 
                [ 𝜑 ] 
                ( [ → ] 
                  [ 𝜓 ] 
                  [ 𝜑 ]))) 
            (PLN.MkSTV $s 1)))) 
      (: ax-1-inst 
        (≞ 
          (𝛩 
            [PC] 
            [ax-1] 
            ( [ → ] 
              [ 𝜑 ] 
              ( [ → ] 
                [ 𝜓 ] 
                [ 𝜑 ]))) 
          (PLN.MkSTV 1 1))))
*/


top_call_87:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_60 =  
                      [ assertEqual, 
                        [ 'pln-bc', 
                          '&pln-bc.test.kb', 
                          [fromNumber,0], 
                          [ :, 
                            _prf, 
                            [ ≞, 
                              [ '𝛩', 'PC'(),'ax-1'(), 
                                [ →(), 
                                  𝜑(), 
                                  [→(),𝜓(),𝜑()]]], 
                              ['PLN.MkSTV',_s,1]]]], 
                        [ :, 
                          'ax-1-inst', 
                          [ ≞, 
                            [ '𝛩', 'PC'(),'ax-1'(), 
                              [ →(), 
                                𝜑(), 
                                [→(),𝜓(),𝜑()]]], 
                            ['PLN.MkSTV',1,1]]]]),
                   (loonit_assert_source_tf_empty( src(Src_60), 
                      FARL_119, 
                      FARL_120, 
                        ((
                         (findall_ne( FA_119, 
                            ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb)  ,
                              s(fromNumber,0,S8) , 
                              info(is_value_obj('PC'())) , 
                              info(is_value_obj('ax-1'())) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜑())) , 
                              s(→(),𝜓(),𝜑(),S_𝜑) , 
                              s(→(),𝜑(),S_𝜑,Ax_1) , 
                              s('𝛩','PC'(),'ax-1'(),Ax_1,S19) , 
                              s('PLN.MkSTV',_s,1,S) , 
                              s(≞,S19,S,S6) , 
                              s(:,_prf,S6,S7) , 
                              s('pln-bc',Pln_bc_c46_test_c46_kb,S8,S7,FA_119)), 
                            FARL_119)),
                         (findall_ne( FA_120, 
                            ( info(is_value_obj('PC'()))  ,
                              info(is_value_obj('ax-1'())) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜑())) , 
                              s(→(),𝜓(),𝜑(),S_𝜑10) , 
                              s(→(),𝜑(),S_𝜑10,Ax_111) , 
                              s('𝛩','PC'(),'ax-1'(),Ax_111,S22) , 
                              s('PLN.MkSTV',1,1,S12) , 
                              s(≞,S22,S12,Ax_1_inst) , 
                              s(:,'ax-1-inst',Ax_1_inst,FA_120)), 
                            FARL_120))  )), 
                      equal_enough_for_test(FARL_119,FARL_120), 
                      Equal_enough_for_test))  ))).


<span class="ansi37"></span><span class="ansi37 ansi40"></span><span class="ansi37 ansi40">

( ==> ( 
   top_call_87:- do_metta_runtime( Equal_enough_for_test40, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'pln-bc', 
                             '&pln-bc.test.kb', 
                             [fromNumber,0], 
                             [ :, 
                               Kw, 
                               [ ≞, 
                                 [ '𝛩', 'PC'(),'ax-1'(), 
                                   [ →(), 
                                     𝜑(), 
                                     [→(),𝜓(),𝜑()]]], 
                                 ['PLN.MkSTV',PLN_c46_MkSTV,1]]]], 
                           [ :, 
                             'ax-1-inst', 
                             [ ≞, 
                               [ '𝛩', 'PC'(),'ax-1'(), 
                                 [ →(), 
                                   𝜑(), 
                                   [→(),𝜓(),𝜑()]]], 
                               ['PLN.MkSTV',1,1]]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test39, 
                         Test_Ne, 
                           ((
                            (findall_ne( S44, 
                               ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb26)  ,
                                 s(fromNumber,0,S34) , 
                                 info(is_value_obj('PC'())) , 
                                 info(is_value_obj('ax-1'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜑())) , 
                                 s(→(),𝜓(),𝜑(),S_𝜑27) , 
                                 s(→(),𝜑(),S_𝜑27,Ax_128) , 
                                 s('𝛩','PC'(),'ax-1'(),Ax_128,S43) , 
                                 s('PLN.MkSTV',PLN_c46_MkSTV,1,S30) , 
                                 s(≞,S43,S30,S32) , 
                                 s(:,Kw,S32,S33) , 
                                 s('pln-bc',Pln_bc_c46_test_c46_kb26,S34,S33,S44)), 
                               Equal_enough_for_test39)),
                            (findall_ne( S47, 
                               ( info(is_value_obj('PC'()))  ,
                                 info(is_value_obj('ax-1'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜑())) , 
                                 s(→(),𝜓(),𝜑(),S_𝜑35) , 
                                 s(→(),𝜑(),S_𝜑35,Ax_136) , 
                                 s('𝛩','PC'(),'ax-1'(),Ax_136,S46) , 
                                 s('PLN.MkSTV',1,1,S37) , 
                                 s(≞,S46,S37,Ax_1_inst38) , 
                                 s(:,'ax-1-inst',Ax_1_inst38,S47)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test39,Test_Ne), 
                         Equal_enough_for_test40))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_87)).


</span>top_call :-
    time(top_call_87).


/*
  ! (assertEqual 
      (pln-bc &pln-bc.test.kb 
        (fromNumber 0) 
        (: $prf 
          (≞ 
            (𝛩 
              [PC] 
              [ax-2] 
              ( [ → ] 
                ( [ → ] 
                  [ 𝜑 ] 
                  ( [ → ] 
                    [ 𝜓 ] 
                    [ 𝜒 ])) 
                ( [ → ] 
                  ( [ → ] 
                    [ 𝜑 ] 
                    [ 𝜓 ]) 
                  ( [ → ] 
                    [ 𝜑 ] 
                    [ 𝜒 ])))) 
            (PLN.MkSTV $s 1)))) 
      (: ax-2-inst 
        (≞ 
          (𝛩 
            [PC] 
            [ax-2] 
            ( [ → ] 
              ( [ → ] 
                [ 𝜑 ] 
                ( [ → ] 
                  [ 𝜓 ] 
                  [ 𝜒 ])) 
              ( [ → ] 
                ( [ → ] 
                  [ 𝜑 ] 
                  [ 𝜓 ]) 
                ( [ → ] 
                  [ 𝜑 ] 
                  [ 𝜒 ])))) 
          (PLN.MkSTV 1 1))))
*/


top_call_88:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_61 =  
                      [ assertEqual, 
                        [ 'pln-bc', 
                          '&pln-bc.test.kb', 
                          [fromNumber,0], 
                          [ :, 
                            _prf, 
                            [ ≞, 
                              [ '𝛩', 'PC'(),'ax-2'(), 
                                [ →(), 
                                  [ →(), 
                                    𝜑(), 
                                    [→(),𝜓(),𝜒()]], 
                                  [ →(), 
                                    [→(),𝜑(),𝜓()], 
                                    [→(),𝜑(),𝜒()]]]], 
                              ['PLN.MkSTV',_s,1]]]], 
                        [ :, 
                          'ax-2-inst', 
                          [ ≞, 
                            [ '𝛩', 'PC'(),'ax-2'(), 
                              [ →(), 
                                [ →(), 
                                  𝜑(), 
                                  [→(),𝜓(),𝜒()]], 
                                [ →(), 
                                  [→(),𝜑(),𝜓()], 
                                  [→(),𝜑(),𝜒()]]]], 
                            ['PLN.MkSTV',1,1]]]]),
                   (loonit_assert_source_tf_empty( src(Src_61), 
                      FARL_121, 
                      FARL_122, 
                        ((
                         (findall_ne( FA_121, 
                            ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb)  ,
                              s(fromNumber,0,S12) , 
                              info(is_value_obj('PC'())) , 
                              info(is_value_obj('ax-2'())) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜓(),𝜒(),S_𝜑_𝜒) , 
                              s(→(),𝜑(),S_𝜑_𝜒,S27) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              s(→(),𝜑(),𝜓(),S_𝜓) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜑(),𝜒(),S_𝜒5) , 
                              s(→(),S_𝜓,S_𝜒5,S) , 
                              s(→(),S27,S,Ax_2) , 
                              s('𝛩','PC'(),'ax-2'(),Ax_2,S30) , 
                              s('PLN.MkSTV',_s,1,S8) , 
                              s(≞,S30,S8,S10) , 
                              s(:,_prf,S10,S11) , 
                              s('pln-bc',Pln_bc_c46_test_c46_kb,S12,S11,FA_121)), 
                            FARL_121)),
                         (findall_ne( FA_122, 
                            ( info(is_value_obj('PC'()))  ,
                              info(is_value_obj('ax-2'())) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜓(),𝜒(),S_𝜑_𝜒14) , 
                              s(→(),𝜑(),S_𝜑_𝜒14,S33) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              s(→(),𝜑(),𝜓(),S_𝜓16) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜑(),𝜒(),S_𝜒17) , 
                              s(→(),S_𝜓16,S_𝜒17,S18) , 
                              s(→(),S33,S18,Ax_219) , 
                              s('𝛩','PC'(),'ax-2'(),Ax_219,S36) , 
                              s('PLN.MkSTV',1,1,S20) , 
                              s(≞,S36,S20,Ax_2_inst) , 
                              s(:,'ax-2-inst',Ax_2_inst,FA_122)), 
                            FARL_122))  )), 
                      equal_enough_for_test(FARL_121,FARL_122), 
                      Equal_enough_for_test))  ))).


<span class="ansi37"></span><span class="ansi37 ansi40"></span><span class="ansi37 ansi40">

( ==> ( 
   top_call_88:- do_metta_runtime( Equal_enough_for_test62, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'pln-bc', 
                             '&pln-bc.test.kb', 
                             [fromNumber,0], 
                             [ :, 
                               Kw, 
                               [ ≞, 
                                 [ '𝛩', 'PC'(),'ax-2'(), 
                                   [ →(), 
                                     [ →(), 
                                       𝜑(), 
                                       [→(),𝜓(),𝜒()]], 
                                     [ →(), 
                                       [→(),𝜑(),𝜓()], 
                                       [→(),𝜑(),𝜒()]]]], 
                                 ['PLN.MkSTV',PLN_c46_MkSTV,1]]]], 
                           [ :, 
                             'ax-2-inst', 
                             [ ≞, 
                               [ '𝛩', 'PC'(),'ax-2'(), 
                                 [ →(), 
                                   [ →(), 
                                     𝜑(), 
                                     [→(),𝜓(),𝜒()]], 
                                   [ →(), 
                                     [→(),𝜑(),𝜓()], 
                                     [→(),𝜑(),𝜒()]]]], 
                               ['PLN.MkSTV',1,1]]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test61, 
                         Test_Ne, 
                           ((
                            (findall_ne( S69, 
                               ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb40)  ,
                                 s(fromNumber,0,S52) , 
                                 info(is_value_obj('PC'())) , 
                                 info(is_value_obj('ax-2'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜓(),𝜒(),S_𝜑_𝜒41) , 
                                 s(→(),𝜑(),S_𝜑_𝜒41,S65) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 s(→(),𝜑(),𝜓(),S_𝜓43) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜑(),𝜒(),S_𝜒44) , 
                                 s(→(),S_𝜓43,S_𝜒44,S45) , 
                                 s(→(),S65,S45,Ax_246) , 
                                 s('𝛩','PC'(),'ax-2'(),Ax_246,S68) , 
                                 s('PLN.MkSTV',PLN_c46_MkSTV,1,S48) , 
                                 s(≞,S68,S48,S50) , 
                                 s(:,Kw,S50,S51) , 
                                 s('pln-bc',Pln_bc_c46_test_c46_kb40,S52,S51,S69)), 
                               Equal_enough_for_test61)),
                            (findall_ne( S75, 
                               ( info(is_value_obj('PC'()))  ,
                                 info(is_value_obj('ax-2'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜓(),𝜒(),S_𝜑_𝜒53) , 
                                 s(→(),𝜑(),S_𝜑_𝜒53,S71) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 s(→(),𝜑(),𝜓(),S_𝜓55) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜑(),𝜒(),S_𝜒56) , 
                                 s(→(),S_𝜓55,S_𝜒56,S57) , 
                                 s(→(),S71,S57,Ax_258) , 
                                 s('𝛩','PC'(),'ax-2'(),Ax_258,S74) , 
                                 s('PLN.MkSTV',1,1,S59) , 
                                 s(≞,S74,S59,Ax_2_inst60) , 
                                 s(:,'ax-2-inst',Ax_2_inst60,S75)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test61,Test_Ne), 
                         Equal_enough_for_test62))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_88)).


</span>top_call :-
    time(top_call_88).


/*
;; Test conjunction
*/
/*
  ! (assertEqual 
      (pln-bc &pln-bc.test.kb 
        (fromNumber 1) 
        (: $prf 
          (≞ 
            (∧ 
              (𝛩 
                [PC] 
                [ax-1] 
                ( [ → ] 
                  [ 𝜑 ] 
                  ( [ → ] 
                    [ 𝜓 ] 
                    [ 𝜑 ]))) 
              (𝛩 
                [PC] 
                [ax-2] 
                ( [ → ] 
                  ( [ → ] 
                    [ 𝜑 ] 
                    ( [ → ] 
                      [ 𝜓 ] 
                      [ 𝜒 ])) 
                  ( [ → ] 
                    ( [ → ] 
                      [ 𝜑 ] 
                      [ 𝜓 ]) 
                    ( [ → ] 
                      [ 𝜑 ] 
                      [ 𝜒 ]))))) 
            (PLN.MkSTV $s 1)))) 
      (: 
        (CI ax-1-inst ax-2-inst) 
        (≞ 
          (∧ 
            (𝛩 
              [PC] 
              [ax-1] 
              ( [ → ] 
                [ 𝜑 ] 
                ( [ → ] 
                  [ 𝜓 ] 
                  [ 𝜑 ]))) 
            (𝛩 
              [PC] 
              [ax-2] 
              ( [ → ] 
                ( [ → ] 
                  [ 𝜑 ] 
                  ( [ → ] 
                    [ 𝜓 ] 
                    [ 𝜒 ])) 
                ( [ → ] 
                  ( [ → ] 
                    [ 𝜑 ] 
                    [ 𝜓 ]) 
                  ( [ → ] 
                    [ 𝜑 ] 
                    [ 𝜒 ]))))) 
          (PLN.MkSTV 1 1))))
*/


top_call_89:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_62 =  
                      [ assertEqual, 
                        [ 'pln-bc', 
                          '&pln-bc.test.kb', 
                          [fromNumber,1], 
                          [ :, 
                            _prf, 
                            [ ≞, 
                              [ ∧, 
                                [ '𝛩', 'PC'(),'ax-1'(), 
                                  [ →(), 
                                    𝜑(), 
                                    [→(),𝜓(),𝜑()]]], 
                                [ '𝛩', 'PC'(),'ax-2'(), 
                                  [ →(), 
                                    [ →(), 
                                      𝜑(), 
                                      [→(),𝜓(),𝜒()]], 
                                    [ →(), 
                                      [→(),𝜑(),𝜓()], 
                                      [→(),𝜑(),𝜒()]]]]], 
                              ['PLN.MkSTV',_s,1]]]], 
                        [ :, 
                          ['CI','ax-1-inst','ax-2-inst'], 
                          [ ≞, 
                            [ ∧, 
                              [ '𝛩', 'PC'(),'ax-1'(), 
                                [ →(), 
                                  𝜑(), 
                                  [→(),𝜓(),𝜑()]]], 
                              [ '𝛩', 'PC'(),'ax-2'(), 
                                [ →(), 
                                  [ →(), 
                                    𝜑(), 
                                    [→(),𝜓(),𝜒()]], 
                                  [ →(), 
                                    [→(),𝜑(),𝜓()], 
                                    [→(),𝜑(),𝜒()]]]]], 
                            ['PLN.MkSTV',1,1]]]]),
                   (loonit_assert_source_tf_empty( src(Src_62), 
                      FARL_123, 
                      FARL_124, 
                        ((
                         (findall_ne( FA_123, 
                            ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb)  ,
                              s(fromNumber,1,S15) , 
                              info(is_value_obj('PC'())) , 
                              info(is_value_obj('ax-1'())) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜑())) , 
                              s(→(),𝜓(),𝜑(),S_𝜑) , 
                              s(→(),𝜑(),S_𝜑,Ax_1) , 
                              s('𝛩','PC'(),'ax-1'(),Ax_1,S34) , 
                              info(is_value_obj('PC'())) , 
                              info(is_value_obj('ax-2'())) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜓(),𝜒(),S_𝜑_𝜒) , 
                              s(→(),𝜑(),S_𝜑_𝜒,S36) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              s(→(),𝜑(),𝜓(),S_𝜓) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜑(),𝜒(),S_𝜒7) , 
                              s(→(),S_𝜓,S_𝜒7,S) , 
                              s(→(),S36,S,Ax_2) , 
                              s('𝛩','PC'(),'ax-2'(),Ax_2,S10) , 
                              s(∧,S34,S10,S39) , 
                              s('PLN.MkSTV',_s,1,S11) , 
                              s(≞,S39,S11,S13) , 
                              s(:,_prf,S13,S14) , 
                              s('pln-bc',Pln_bc_c46_test_c46_kb,S15,S14,FA_123)), 
                            FARL_123)),
                         (findall_ne( FA_124, 
                            ( s('CI','ax-1-inst','ax-2-inst',Ax_2_inst)  ,
                              info(is_value_obj('PC'())) , 
                              info(is_value_obj('ax-1'())) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜑())) , 
                              s(→(),𝜓(),𝜑(),S_𝜑18) , 
                              s(→(),𝜑(),S_𝜑18,Ax_119) , 
                              s('𝛩','PC'(),'ax-1'(),Ax_119,S42) , 
                              info(is_value_obj('PC'())) , 
                              info(is_value_obj('ax-2'())) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜓(),𝜒(),S_𝜑_𝜒20) , 
                              s(→(),𝜑(),S_𝜑_𝜒20,S44) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              s(→(),𝜑(),𝜓(),S_𝜓22) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜑(),𝜒(),S_𝜒23) , 
                              s(→(),S_𝜓22,S_𝜒23,S24) , 
                              s(→(),S44,S24,Ax_225) , 
                              s('𝛩','PC'(),'ax-2'(),Ax_225,S26) , 
                              s(∧,S42,S26,S47) , 
                              s('PLN.MkSTV',1,1,S27) , 
                              s(≞,S47,S27,S28) , 
                              s(:,Ax_2_inst,S28,FA_124)), 
                            FARL_124))  )), 
                      equal_enough_for_test(FARL_123,FARL_124), 
                      Equal_enough_for_test))  ))).




( ==> ( 
   top_call_89:- do_metta_runtime( Equal_enough_for_test80, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'pln-bc', 
                             '&pln-bc.test.kb', 
                             [fromNumber,1], 
                             [ :, 
                               Kw, 
                               [ ≞, 
                                 [ ∧, 
                                   [ '𝛩', 'PC'(),'ax-1'(), 
                                     [ →(), 
                                       𝜑(), 
                                       [→(),𝜓(),𝜑()]]], 
                                   [ '𝛩', 'PC'(),'ax-2'(), 
                                     [ →(), 
                                       [ →(), 
                                         𝜑(), 
                                         [→(),𝜓(),𝜒()]], 
                                       [ →(), 
                                         [→(),𝜑(),𝜓()], 
                                         [→(),𝜑(),𝜒()]]]]], 
                                 ['PLN.MkSTV',PLN_c46_MkSTV,1]]]], 
                           [ :, 
                             ['CI','ax-1-inst','ax-2-inst'], 
                             [ ≞, 
                               [ ∧, 
                                 [ '𝛩', 'PC'(),'ax-1'(), 
                                   [ →(), 
                                     𝜑(), 
                                     [→(),𝜓(),𝜑()]]], 
                                 [ '𝛩', 'PC'(),'ax-2'(), 
                                   [ →(), 
                                     [ →(), 
                                       𝜑(), 
                                       [→(),𝜓(),𝜒()]], 
                                     [ →(), 
                                       [→(),𝜑(),𝜓()], 
                                       [→(),𝜑(),𝜒()]]]]], 
                               ['PLN.MkSTV',1,1]]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test79, 
                         Test_Ne, 
                           ((
                            (findall_ne( S89, 
                               ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb51)  ,
                                 s(fromNumber,1,S66) , 
                                 info(is_value_obj('PC'())) , 
                                 info(is_value_obj('ax-1'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜑())) , 
                                 s(→(),𝜓(),𝜑(),S_𝜑52) , 
                                 s(→(),𝜑(),S_𝜑52,Ax_153) , 
                                 s('𝛩','PC'(),'ax-1'(),Ax_153,S83) , 
                                 info(is_value_obj('PC'())) , 
                                 info(is_value_obj('ax-2'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜓(),𝜒(),S_𝜑_𝜒54) , 
                                 s(→(),𝜑(),S_𝜑_𝜒54,S85) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 s(→(),𝜑(),𝜓(),S_𝜓56) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜑(),𝜒(),S_𝜒57) , 
                                 s(→(),S_𝜓56,S_𝜒57,S58) , 
                                 s(→(),S85,S58,Ax_259) , 
                                 s('𝛩','PC'(),'ax-2'(),Ax_259,S60) , 
                                 s(∧,S83,S60,S88) , 
                                 s('PLN.MkSTV',PLN_c46_MkSTV,1,S62) , 
                                 s(≞,S88,S62,S64) , 
                                 s(:,Kw,S64,S65) , 
                                 s('pln-bc',Pln_bc_c46_test_c46_kb51,S66,S65,S89)), 
                               Equal_enough_for_test79)),
                            (findall_ne( S97, 
                               ( s('CI','ax-1-inst','ax-2-inst',Ax_2_inst67)  ,
                                 info(is_value_obj('PC'())) , 
                                 info(is_value_obj('ax-1'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜑())) , 
                                 s(→(),𝜓(),𝜑(),S_𝜑68) , 
                                 s(→(),𝜑(),S_𝜑68,Ax_169) , 
                                 s('𝛩','PC'(),'ax-1'(),Ax_169,S91) , 
                                 info(is_value_obj('PC'())) , 
                                 info(is_value_obj('ax-2'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜓(),𝜒(),S_𝜑_𝜒70) , 
                                 s(→(),𝜑(),S_𝜑_𝜒70,S93) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 s(→(),𝜑(),𝜓(),S_𝜓72) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜑(),𝜒(),S_𝜒73) , 
                                 s(→(),S_𝜓72,S_𝜒73,S74) , 
                                 s(→(),S93,S74,Ax_275) , 
                                 s('𝛩','PC'(),'ax-2'(),Ax_275,S76) , 
                                 s(∧,S91,S76,S96) , 
                                 s('PLN.MkSTV',1,1,S77) , 
                                 s(≞,S96,S77,S78) , 
                                 s(:,Ax_2_inst67,S78,S97)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test79,Test_Ne), 
                         Equal_enough_for_test80))  )))) ).




<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_89)).


</span>top_call :-
    time(top_call_89).


/*
;; Test existential quantification
*/
/*
  ! (assertEqual 
      (pln-bc &pln-bc.test.kb 
        (fromNumber 1) 
        (: $prf 
          (≞ 
            (∃ z 
              (𝛩 
                [PC] z 
                ( [ → ] 
                  [ 𝜑 ] 
                  ( [ → ] 
                    [ 𝜓 ] 
                    [ 𝜑 ])))) 
            (PLN.MkSTV $s 1)))) 
      (: 
        (EQI ax-1-inst) 
        (≞ 
          (∃ z 
            (𝛩 
              [PC] z 
              ( [ → ] 
                [ 𝜑 ] 
                ( [ → ] 
                  [ 𝜓 ] 
                  [ 𝜑 ])))) 
          (PLN.MkSTV 1 1))))
*/


top_call_90:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_63 =  
                      [ assertEqual, 
                        [ 'pln-bc', 
                          '&pln-bc.test.kb', 
                          [fromNumber,1], 
                          [ :, 
                            _prf, 
                            [ ≞, 
                              [ ∃, 
                                z, 
                                [ '𝛩', 'PC'(),z, 
                                  [ →(), 
                                    𝜑(), 
                                    [→(),𝜓(),𝜑()]]]], 
                              ['PLN.MkSTV',_s,1]]]], 
                        [ :, 
                          ['EQI','ax-1-inst'], 
                          [ ≞, 
                            [ ∃, 
                              z, 
                              [ '𝛩', 'PC'(),z, 
                                [ →(), 
                                  𝜑(), 
                                  [→(),𝜓(),𝜑()]]]], 
                            ['PLN.MkSTV',1,1]]]]),
                   (loonit_assert_source_tf_empty( src(Src_63), 
                      FARL_125, 
                      FARL_126, 
                        ((
                         (findall_ne( FA_125, 
                            ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb)  ,
                              s(fromNumber,1,S9) , 
                              info(is_value_obj('PC'())) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜑())) , 
                              s(→(),𝜓(),𝜑(),S_𝜑) , 
                              s(→(),𝜑(),S_𝜑,S_Z) , 
                              s('𝛩','PC'(),z,S_Z,S_Z4) , 
                              s(∃,z,S_Z4,S24) , 
                              s('PLN.MkSTV',_s,1,S) , 
                              s(≞,S24,S,S7) , 
                              s(:,_prf,S7,S8) , 
                              s('pln-bc',Pln_bc_c46_test_c46_kb,S9,S8,FA_125)), 
                            FARL_125)),
                         (findall_ne( FA_126, 
                            ( s('EQI','ax-1-inst',Ax_1_inst)  ,
                              info(is_value_obj('PC'())) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜑())) , 
                              s(→(),𝜓(),𝜑(),S_𝜑12) , 
                              s(→(),𝜑(),S_𝜑12,S_Z13) , 
                              s('𝛩','PC'(),z,S_Z13,S_Z14) , 
                              s(∃,z,S_Z14,S29) , 
                              s('PLN.MkSTV',1,1,S15) , 
                              s(≞,S29,S15,S16) , 
                              s(:,Ax_1_inst,S16,FA_126)), 
                            FARL_126))  )), 
                      equal_enough_for_test(FARL_125,FARL_126), 
                      Equal_enough_for_test))  ))).




( ==> ( 
   top_call_90:- do_metta_runtime( Equal_enough_for_test50, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'pln-bc', 
                             '&pln-bc.test.kb', 
                             [fromNumber,1], 
                             [ :, 
                               Kw, 
                               [ ≞, 
                                 [ ∃, 
                                   z, 
                                   [ '𝛩', 'PC'(),z, 
                                     [ →(), 
                                       𝜑(), 
                                       [→(),𝜓(),𝜑()]]]], 
                                 ['PLN.MkSTV',PLN_c46_MkSTV,1]]]], 
                           [ :, 
                             ['EQI','ax-1-inst'], 
                             [ ≞, 
                               [ ∃, 
                                 z, 
                                 [ '𝛩', 'PC'(),z, 
                                   [ →(), 
                                     𝜑(), 
                                     [→(),𝜓(),𝜑()]]]], 
                               ['PLN.MkSTV',1,1]]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test49, 
                         Test_Ne, 
                           ((
                            (findall_ne( S56, 
                               ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb33)  ,
                                 s(fromNumber,1,S42) , 
                                 info(is_value_obj('PC'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜑())) , 
                                 s(→(),𝜓(),𝜑(),S_𝜑34) , 
                                 s(→(),𝜑(),S_𝜑34,S_Z35) , 
                                 s('𝛩','PC'(),z,S_Z35,S_Z36) , 
                                 s(∃,z,S_Z36,S55) , 
                                 s('PLN.MkSTV',PLN_c46_MkSTV,1,S38) , 
                                 s(≞,S55,S38,S40) , 
                                 s(:,Kw,S40,S41) , 
                                 s('pln-bc',Pln_bc_c46_test_c46_kb33,S42,S41,S56)), 
                               Equal_enough_for_test49)),
                            (findall_ne( S61, 
                               ( s('EQI','ax-1-inst',Ax_1_inst43)  ,
                                 info(is_value_obj('PC'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜑())) , 
                                 s(→(),𝜓(),𝜑(),S_𝜑44) , 
                                 s(→(),𝜑(),S_𝜑44,S_Z45) , 
                                 s('𝛩','PC'(),z,S_Z45,S_Z46) , 
                                 s(∃,z,S_Z46,S60) , 
                                 s('PLN.MkSTV',1,1,S47) , 
                                 s(≞,S60,S47,S48) , 
                                 s(:,Ax_1_inst43,S48,S61)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test49,Test_Ne), 
                         Equal_enough_for_test50))  )))) ).




<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_90)).


</span>top_call :-
    time(top_call_90).


/*
  ! (assertEqual 
      (pln-bc &pln-bc.test.kb 
        (fromNumber 1) 
        (: $prf 
          (≞ 
            (∃ z 
              (𝛩 
                [PC] z 
                ( [ → ] 
                  ( [ → ] 
                    [ 𝜑 ] 
                    ( [ → ] 
                      [ 𝜓 ] 
                      [ 𝜒 ])) 
                  ( [ → ] 
                    ( [ → ] 
                      [ 𝜑 ] 
                      [ 𝜓 ]) 
                    ( [ → ] 
                      [ 𝜑 ] 
                      [ 𝜒 ]))))) 
            (PLN.MkSTV $s 1)))) 
      (: 
        (EQI ax-2-inst) 
        (≞ 
          (∃ z 
            (𝛩 
              [PC] z 
              ( [ → ] 
                ( [ → ] 
                  [ 𝜑 ] 
                  ( [ → ] 
                    [ 𝜓 ] 
                    [ 𝜒 ])) 
                ( [ → ] 
                  ( [ → ] 
                    [ 𝜑 ] 
                    [ 𝜓 ]) 
                  ( [ → ] 
                    [ 𝜑 ] 
                    [ 𝜒 ]))))) 
          (PLN.MkSTV 1 1))))
*/


top_call_91:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_64 =  
                      [ assertEqual, 
                        [ 'pln-bc', 
                          '&pln-bc.test.kb', 
                          [fromNumber,1], 
                          [ :, 
                            _prf, 
                            [ ≞, 
                              [ ∃, 
                                z, 
                                [ '𝛩', 'PC'(),z, 
                                  [ →(), 
                                    [ →(), 
                                      𝜑(), 
                                      [→(),𝜓(),𝜒()]], 
                                    [ →(), 
                                      [→(),𝜑(),𝜓()], 
                                      [→(),𝜑(),𝜒()]]]]], 
                              ['PLN.MkSTV',_s,1]]]], 
                        [ :, 
                          ['EQI','ax-2-inst'], 
                          [ ≞, 
                            [ ∃, 
                              z, 
                              [ '𝛩', 'PC'(),z, 
                                [ →(), 
                                  [ →(), 
                                    𝜑(), 
                                    [→(),𝜓(),𝜒()]], 
                                  [ →(), 
                                    [→(),𝜑(),𝜓()], 
                                    [→(),𝜑(),𝜒()]]]]], 
                            ['PLN.MkSTV',1,1]]]]),
                   (loonit_assert_source_tf_empty( src(Src_64), 
                      FARL_127, 
                      FARL_128, 
                        ((
                         (findall_ne( FA_127, 
                            ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb)  ,
                              s(fromNumber,1,S13) , 
                              info(is_value_obj('PC'())) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜓(),𝜒(),S_𝜑_𝜒) , 
                              s(→(),𝜑(),S_𝜑_𝜒,S30) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              s(→(),𝜑(),𝜓(),S_𝜓) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜑(),𝜒(),S_𝜒5) , 
                              s(→(),S_𝜓,S_𝜒5,S) , 
                              s(→(),S30,S,S_Z) , 
                              s('𝛩','PC'(),z,S_Z,S_Z8) , 
                              s(∃,z,S_Z8,S35) , 
                              s('PLN.MkSTV',_s,1,S9) , 
                              s(≞,S35,S9,S11) , 
                              s(:,_prf,S11,S12) , 
                              s('pln-bc',Pln_bc_c46_test_c46_kb,S13,S12,FA_127)), 
                            FARL_127)),
                         (findall_ne( FA_128, 
                            ( s('EQI','ax-2-inst',Ax_2_inst)  ,
                              info(is_value_obj('PC'())) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜓(),𝜒(),S_𝜑_𝜒16) , 
                              s(→(),𝜑(),S_𝜑_𝜒16,S38) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              s(→(),𝜑(),𝜓(),S_𝜓18) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜑(),𝜒(),S_𝜒19) , 
                              s(→(),S_𝜓18,S_𝜒19,S20) , 
                              s(→(),S38,S20,S_Z21) , 
                              s('𝛩','PC'(),z,S_Z21,S_Z22) , 
                              s(∃,z,S_Z22,S43) , 
                              s('PLN.MkSTV',1,1,S23) , 
                              s(≞,S43,S23,S24) , 
                              s(:,Ax_2_inst,S24,FA_128)), 
                            FARL_128))  )), 
                      equal_enough_for_test(FARL_127,FARL_128), 
                      Equal_enough_for_test))  ))).




( ==> ( 
   top_call_91:- do_metta_runtime( Equal_enough_for_test72, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'pln-bc', 
                             '&pln-bc.test.kb', 
                             [fromNumber,1], 
                             [ :, 
                               Kw, 
                               [ ≞, 
                                 [ ∃, 
                                   z, 
                                   [ '𝛩', 'PC'(),z, 
                                     [ →(), 
                                       [ →(), 
                                         𝜑(), 
                                         [→(),𝜓(),𝜒()]], 
                                       [ →(), 
                                         [→(),𝜑(),𝜓()], 
                                         [→(),𝜑(),𝜒()]]]]], 
                                 ['PLN.MkSTV',PLN_c46_MkSTV,1]]]], 
                           [ :, 
                             ['EQI','ax-2-inst'], 
                             [ ≞, 
                               [ ∃, 
                                 z, 
                                 [ '𝛩', 'PC'(),z, 
                                   [ →(), 
                                     [ →(), 
                                       𝜑(), 
                                       [→(),𝜓(),𝜒()]], 
                                     [ →(), 
                                       [→(),𝜑(),𝜓()], 
                                       [→(),𝜑(),𝜒()]]]]], 
                               ['PLN.MkSTV',1,1]]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test71, 
                         Test_Ne, 
                           ((
                            (findall_ne( S81, 
                               ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb47)  ,
                                 s(fromNumber,1,S60) , 
                                 info(is_value_obj('PC'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜓(),𝜒(),S_𝜑_𝜒48) , 
                                 s(→(),𝜑(),S_𝜑_𝜒48,S75) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 s(→(),𝜑(),𝜓(),S_𝜓50) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜑(),𝜒(),S_𝜒51) , 
                                 s(→(),S_𝜓50,S_𝜒51,S52) , 
                                 s(→(),S75,S52,S_Z53) , 
                                 s('𝛩','PC'(),z,S_Z53,S_Z54) , 
                                 s(∃,z,S_Z54,S80) , 
                                 s('PLN.MkSTV',PLN_c46_MkSTV,1,S56) , 
                                 s(≞,S80,S56,S58) , 
                                 s(:,Kw,S58,S59) , 
                                 s('pln-bc',Pln_bc_c46_test_c46_kb47,S60,S59,S81)), 
                               Equal_enough_for_test71)),
                            (findall_ne( S89, 
                               ( s('EQI','ax-2-inst',Ax_2_inst61)  ,
                                 info(is_value_obj('PC'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜓(),𝜒(),S_𝜑_𝜒62) , 
                                 s(→(),𝜑(),S_𝜑_𝜒62,S83) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 s(→(),𝜑(),𝜓(),S_𝜓64) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜑(),𝜒(),S_𝜒65) , 
                                 s(→(),S_𝜓64,S_𝜒65,S66) , 
                                 s(→(),S83,S66,S_Z67) , 
                                 s('𝛩','PC'(),z,S_Z67,S_Z68) , 
                                 s(∃,z,S_Z68,S88) , 
                                 s('PLN.MkSTV',1,1,S69) , 
                                 s(≞,S88,S69,S70) , 
                                 s(:,Ax_2_inst61,S70,S89)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test71,Test_Ne), 
                         Equal_enough_for_test72))  )))) ).




<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_91)).


</span>top_call :-
    time(top_call_91).


/*
  ! (assertEqualToResult 
      (pln-bc &pln-bc.test.kb 
        (fromNumber 2) 
        (: $prf 
          (≞ 
            (∃ 
              (s z) 
              (∃ z 
                (𝛩 
                  [PC] z 
                  (s z)))) 
            (PLN.MkSTV $s 1)))) 
      ( (: 
          (EQI (EQI ax-1-inst)) 
          (≞ 
            (∃ 
              (s z) 
              (∃ z 
                (𝛩 
                  [PC] z 
                  (s z)))) 
            (PLN.MkSTV 1 1))) (: (EQI (EQI ax-2-inst)) (≞ (∃ (s z) (∃ z (𝛩 [PC] z (s z)))) (PLN.MkSTV 1 1)))))
*/


top_call_92:- do_metta_runtime( Equal_enough_for_test, 
                loonit_assert_source_tf_empty( 
                   src( [ assertEqualToResult, 
                          [ 'pln-bc', 
                            '&pln-bc.test.kb', 
                            [fromNumber,2], 
                            [ :, 
                              _prf, 
                              [ ≞, 
                                [ ∃, 
                                  [s,z], 
                                  [ ∃, 
                                    z, 
                                    ['𝛩','PC'(),z,[s,z]]]], 
                                ['PLN.MkSTV',_s,1]]]], 
                          [ [ :, 
                              [ 'EQI', 
                                ['EQI','ax-1-inst']], 
                              [ ≞, 
                                [ ∃, 
                                  [s,z], 
                                  [ ∃, 
                                    z, 
                                    ['𝛩','PC'(),z,[s,z]]]], 
                                ['PLN.MkSTV',1,1]]], 
                            [ :, 
                              [ 'EQI', 
                                ['EQI','ax-2-inst']], 
                              [ ≞, 
                                [ ∃, 
                                  [s,z], 
                                  [ ∃, 
                                    z, 
                                    ['𝛩','PC'(),z,[s,z]]]], 
                                ['PLN.MkSTV',1,1]]]]]), 
                   Ne_Src, 
                   [ [ :, 
                       [ 'EQI', 
                         ['EQI','ax-1-inst']], 
                       [ ≞, 
                         [ ∃, 
                           [s,z], 
                           [ ∃, 
                             z, 
                             ['𝛩','PC'(),z,[s,z]]]], 
                         ['PLN.MkSTV',1,1]]], 
                     [ :, 
                       [ 'EQI', 
                         ['EQI','ax-2-inst']], 
                       [ ≞, 
                         [ ∃, 
                           [s,z], 
                           [ ∃, 
                             z, 
                             ['𝛩','PC'(),z,[s,z]]]], 
                         ['PLN.MkSTV',1,1]]]], 
                   findall_ne( S16, 
                     ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb)  ,
                       s(fromNumber,2,S9) , 
                       s(s,z,S_Z) , 
                       info(is_value_obj('PC'())) , 
                       s(s,z,S_Z2) , 
                       s('𝛩','PC'(),z,S_Z2,S_Z3) , 
                       s(∃,z,S_Z3,S) , 
                       s(∃,S_Z,S,S15) , 
                       s('PLN.MkSTV',_s,1,S5) , 
                       s(≞,S15,S5,S7) , 
                       s(:,_prf,S7,S8) , 
                       s('pln-bc',Pln_bc_c46_test_c46_kb,S9,S8,S16)), 
                     Ne_Src), 
                   equal_enough_for_test( Ne_Src, [
                     [ :, 
                       [ 'EQI', 
                         ['EQI','ax-1-inst']], 
                       [ ≞, 
                         [ ∃, 
                           [s,z], 
                           [ ∃, 
                             z, 
                             ['𝛩','PC'(),z,[s,z]]]], 
                         ['PLN.MkSTV',1,1]]], 
                     [ :, 
                       [ 'EQI', 
                         ['EQI','ax-2-inst']], 
                       [ ≞, 
                         [ ∃, 
                           [s,z], 
                           [ ∃, 
                             z, 
                             ['𝛩','PC'(),z,[s,z]]]], 
                         ['PLN.MkSTV',1,1]]]]), 
                   Equal_enough_for_test)).


<span class="ansi35"></span><span class="ansi35"></span><span class="ansi35">

( ==> ( 
   top_call_92:- do_metta_runtime( Equal_enough_for_test30, 
                   loonit_assert_source_tf_empty( 
                      src( [ assertEqualToResult, 
                             [ 'pln-bc', 
                               '&pln-bc.test.kb', 
                               [fromNumber,2], 
                               [ :, 
                                 Kw, 
                                 [ ≞, 
                                   [ ∃, 
                                     [s,z], 
                                     [ ∃, 
                                       z, 
                                       ['𝛩','PC'(),z,[s,z]]]], 
                                   ['PLN.MkSTV',PLN_c46_MkSTV,1]]]], 
                             [ [ :, 
                                 [ 'EQI', 
                                   ['EQI','ax-1-inst']], 
                                 [ ≞, 
                                   [ ∃, 
                                     [s,z], 
                                     [ ∃, 
                                       z, 
                                       ['𝛩','PC'(),z,[s,z]]]], 
                                   ['PLN.MkSTV',1,1]]], 
                               [ :, 
                                 [ 'EQI', 
                                   ['EQI','ax-2-inst']], 
                                 [ ≞, 
                                   [ ∃, 
                                     [s,z], 
                                     [ ∃, 
                                       z, 
                                       ['𝛩','PC'(),z,[s,z]]]], 
                                   ['PLN.MkSTV',1,1]]]]]), 
                      Ne_Src29, 
                      [ [ :, 
                          [ 'EQI', 
                            ['EQI','ax-1-inst']], 
                          [ ≞, 
                            [ ∃, 
                              [s,z], 
                              [ ∃, 
                                z, 
                                ['𝛩','PC'(),z,[s,z]]]], 
                            ['PLN.MkSTV',1,1]]], 
                        [ :, 
                          [ 'EQI', 
                            ['EQI','ax-2-inst']], 
                          [ ≞, 
                            [ ∃, 
                              [s,z], 
                              [ ∃, 
                                z, 
                                ['𝛩','PC'(),z,[s,z]]]], 
                            ['PLN.MkSTV',1,1]]]], 
                      findall_ne( S35, 
                        ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb18)  ,
                          s(fromNumber,2,S28) , 
                          s(s,z,S_Z19) , 
                          info(is_value_obj('PC'())) , 
                          s(s,z,S_Z20) , 
                          s('𝛩','PC'(),z,S_Z20,S_Z21) , 
                          s(∃,z,S_Z21,S22) , 
                          s(∃,S_Z19,S22,S34) , 
                          s('PLN.MkSTV',PLN_c46_MkSTV,1,S24) , 
                          s(≞,S34,S24,S26) , 
                          s(:,Kw,S26,S27) , 
                          s('pln-bc',Pln_bc_c46_test_c46_kb18,S28,S27,S35)), 
                        Ne_Src29), 
                      equal_enough_for_test( Ne_Src29, [
                        [ :, 
                          [ 'EQI', 
                            ['EQI','ax-1-inst']], 
                          [ ≞, 
                            [ ∃, 
                              [s,z], 
                              [ ∃, 
                                z, 
                                ['𝛩','PC'(),z,[s,z]]]], 
                            ['PLN.MkSTV',1,1]]], 
                        [ :, 
                          [ 'EQI', 
                            ['EQI','ax-2-inst']], 
                          [ ≞, 
                            [ ∃, 
                              [s,z], 
                              [ ∃, 
                                z, 
                                ['𝛩','PC'(),z,[s,z]]]], 
                            ['PLN.MkSTV',1,1]]]]), 
                      Equal_enough_for_test30))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_92)).


</span>top_call :-
    time(top_call_92).


/*
  ! (assertEqual 
      (pln-bc &pln-bc.test.kb 
        (fromNumber 2) 
        (: 
          (EQI $prfarg) 
          (≞ 
            (∃ 
              (s z) 
              (∃ z 
                (𝛩 
                  (Cons 
                    ( [ : ] 
                      [mp2.1] 
                      [ 𝜑 ]) 
                    (Cons 
                      ( [ : ] 
                        [mp2.2] 
                        [ 𝜓 ]) 
                      (Cons 
                        ( [ : ] 
                          [mp2.3] 
                          ( [ → ] 
                            [ 𝜑 ] 
                            ( [ → ] 
                              [ 𝜓 ] 
                              [ 𝜒 ]))) 
                        [PC]))) 
                  ( [ax-mp] z 
                    (s z)) 
                  ( [ → ] 
                    [ 𝜓 ] 
                    [ 𝜒 ])))) 
            (PLN.MkSTV $s 1)))) 
      (: 
        (EQI (EQI ax-pm-inst)) 
        (≞ 
          (∃ 
            (s z) 
            (∃ z 
              (𝛩 
                (Cons 
                  ( [ : ] 
                    [mp2.1] 
                    [ 𝜑 ]) 
                  (Cons 
                    ( [ : ] 
                      [mp2.2] 
                      [ 𝜓 ]) 
                    (Cons 
                      ( [ : ] 
                        [mp2.3] 
                        ( [ → ] 
                          [ 𝜑 ] 
                          ( [ → ] 
                            [ 𝜓 ] 
                            [ 𝜒 ]))) 
                      [PC]))) 
                ( [ax-mp] z 
                  (s z)) 
                ( [ → ] 
                  [ 𝜓 ] 
                  [ 𝜒 ])))) 
          (PLN.MkSTV 1 1))))
*/


top_call_93:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_65 =  
                      [ assertEqual, 
                        [ 'pln-bc', 
                          '&pln-bc.test.kb', 
                          [fromNumber,2], 
                          [ :, 
                            ['EQI',_prfarg], 
                            [ ≞, 
                              [ ∃, 
                                [s,z], 
                                [ ∃, 
                                  z, 
                                  [ '𝛩', 
                                    [ 'Cons', 
                                      [:(),'mp2.1'(),𝜑()], 
                                      [ 'Cons', 
                                        [:(),'mp2.2'(),𝜓()], 
                                        [ 'Cons', 
                                          [ :(), 
                                            'mp2.3'(), 
                                            [ →(), 
                                              𝜑(), 
                                              [→(),𝜓(),𝜒()]]], 
                                          'PC'()]]], 
                                    ['ax-mp'(),z,[s,z]], 
                                    [→(),𝜓(),𝜒()]]]], 
                              ['PLN.MkSTV',_s,1]]]], 
                        [ :, 
                          [ 'EQI', 
                            ['EQI','ax-pm-inst']], 
                          [ ≞, 
                            [ ∃, 
                              [s,z], 
                              [ ∃, 
                                z, 
                                [ '𝛩', 
                                  [ 'Cons', 
                                    [:(),'mp2.1'(),𝜑()], 
                                    [ 'Cons', 
                                      [:(),'mp2.2'(),𝜓()], 
                                      [ 'Cons', 
                                        [ :(), 
                                          'mp2.3'(), 
                                          [ →(), 
                                            𝜑(), 
                                            [→(),𝜓(),𝜒()]]], 
                                        'PC'()]]], 
                                  ['ax-mp'(),z,[s,z]], 
                                  [→(),𝜓(),𝜒()]]]], 
                            ['PLN.MkSTV',1,1]]]]),
                   (loonit_assert_source_tf_empty( src(Src_65), 
                      FARL_129, 
                      FARL_130, 
                        ((
                         (findall_ne( FA_129, 
                            ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb)  ,
                              s(fromNumber,2,S24) , 
                              s('EQI',_prfarg,Kw) , 
                              s(s,z,S_Z) , 
                              info(is_value_obj('mp2.1'())) , 
                              info(is_value_obj(𝜑())) , 
                              s(:(),'mp2.1'(),𝜑(),Cons_𝜑) , 
                              info(is_value_obj('mp2.2'())) , 
                              info(is_value_obj(𝜓())) , 
                              s(:(),'mp2.2'(),𝜓(),Cons_𝜓) , 
                              info(is_value_obj('mp2.3'())) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜓(),𝜒(),S_𝜑_𝜒) , 
                              s(→(),𝜑(),S_𝜑_𝜒,Mp2_c46_3) , 
                              s(:(),'mp2.3'(),Mp2_c46_3,Cons) , 
                              info(is_value_obj('PC'())) , 
                              s('Cons',Cons,'PC'(),S_PC) , 
                              s('Cons',Cons_𝜓,S_PC,S) , 
                              s('Cons',Cons_𝜑,S,S_𝛩) , 
                              s(s,z,S_Z14) , 
                              s('ax-mp'(),z,S_Z14,S17) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜓(),𝜒(),S_𝜒15) , 
                              s('𝛩',S_𝛩,S17,S_𝜒15,S_Z18) , 
                              s(∃,z,S_Z18,S19) , 
                              s(∃,S_Z,S19,S58) , 
                              s('PLN.MkSTV',_s,1,S20) , 
                              s(≞,S58,S20,S22) , 
                              s(:,Kw,S22,S23) , 
                              s('pln-bc',Pln_bc_c46_test_c46_kb,S24,S23,FA_129)), 
                            FARL_129)),
                         (findall_ne( FA_130, 
                            ( s('EQI','ax-pm-inst',Ax_pm_inst)  ,
                              s('EQI',Ax_pm_inst,Kw45) , 
                              s(s,z,S_Z27) , 
                              info(is_value_obj('mp2.1'())) , 
                              info(is_value_obj(𝜑())) , 
                              s(:(),'mp2.1'(),𝜑(),Cons_𝜑28) , 
                              info(is_value_obj('mp2.2'())) , 
                              info(is_value_obj(𝜓())) , 
                              s(:(),'mp2.2'(),𝜓(),Cons_𝜓29) , 
                              info(is_value_obj('mp2.3'())) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜓(),𝜒(),S_𝜑_𝜒30) , 
                              s(→(),𝜑(),S_𝜑_𝜒30,Mp2_c46_332) , 
                              s(:(),'mp2.3'(),Mp2_c46_332,Cons33) , 
                              info(is_value_obj('PC'())) , 
                              s('Cons',Cons33,'PC'(),S_PC34) , 
                              s('Cons',Cons_𝜓29,S_PC34,S37) , 
                              s('Cons',Cons_𝜑28,S37,S_𝛩40) , 
                              s(s,z,S_Z38) , 
                              s('ax-mp'(),z,S_Z38,S41) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜓(),𝜒(),S_𝜒39) , 
                              s('𝛩',S_𝛩40,S41,S_𝜒39,S_Z42) , 
                              s(∃,z,S_Z42,S43) , 
                              s(∃,S_Z27,S43,S67) , 
                              s('PLN.MkSTV',1,1,S44) , 
                              s(≞,S67,S44,S46) , 
                              s(:,Kw45,S46,FA_130)), 
                            FARL_130))  )), 
                      equal_enough_for_test(FARL_129,FARL_130), 
                      Equal_enough_for_test))  ))).


<span class="ansi35"></span><span class="ansi35"></span><span class="ansi35">

( ==> ( 
   top_call_93:- do_metta_runtime( Equal_enough_for_test118, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'pln-bc', 
                             '&pln-bc.test.kb', 
                             [fromNumber,2], 
                             [ :, 
                               ['EQI',EQI], 
                               [ ≞, 
                                 [ ∃, 
                                   [s,z], 
                                   [ ∃, 
                                     z, 
                                     [ '𝛩', 
                                       [ 'Cons', 
                                         [:(),'mp2.1'(),𝜑()], 
                                         [ 'Cons', 
                                           [:(),'mp2.2'(),𝜓()], 
                                           [ 'Cons', 
                                             [ :(), 
                                               'mp2.3'(), 
                                               [ →(), 
                                                 𝜑(), 
                                                 [→(),𝜓(),𝜒()]]], 
                                             'PC'()]]], 
                                       ['ax-mp'(),z,[s,z]], 
                                       [→(),𝜓(),𝜒()]]]], 
                                 ['PLN.MkSTV',PLN_c46_MkSTV,1]]]], 
                           [ :, 
                             [ 'EQI', 
                               ['EQI','ax-pm-inst']], 
                             [ ≞, 
                               [ ∃, 
                                 [s,z], 
                                 [ ∃, 
                                   z, 
                                   [ '𝛩', 
                                     [ 'Cons', 
                                       [:(),'mp2.1'(),𝜑()], 
                                       [ 'Cons', 
                                         [:(),'mp2.2'(),𝜓()], 
                                         [ 'Cons', 
                                           [ :(), 
                                             'mp2.3'(), 
                                             [ →(), 
                                               𝜑(), 
                                               [→(),𝜓(),𝜒()]]], 
                                           'PC'()]]], 
                                     ['ax-mp'(),z,[s,z]], 
                                     [→(),𝜓(),𝜒()]]]], 
                               ['PLN.MkSTV',1,1]]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test117, 
                         Test_Ne, 
                           ((
                            (findall_ne( S128, 
                               ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb71)  ,
                                 s(fromNumber,2,S95) , 
                                 s('EQI',EQI,Kw92) , 
                                 s(s,z,S_Z73) , 
                                 info(is_value_obj('mp2.1'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 s(:(),'mp2.1'(),𝜑(),Cons_𝜑74) , 
                                 info(is_value_obj('mp2.2'())) , 
                                 info(is_value_obj(𝜓())) , 
                                 s(:(),'mp2.2'(),𝜓(),Cons_𝜓75) , 
                                 info(is_value_obj('mp2.3'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜓(),𝜒(),S_𝜑_𝜒76) , 
                                 s(→(),𝜑(),S_𝜑_𝜒76,Mp2_c46_378) , 
                                 s(:(),'mp2.3'(),Mp2_c46_378,Cons79) , 
                                 info(is_value_obj('PC'())) , 
                                 s('Cons',Cons79,'PC'(),S_PC80) , 
                                 s('Cons',Cons_𝜓75,S_PC80,S83) , 
                                 s('Cons',Cons_𝜑74,S83,S_𝛩86) , 
                                 s(s,z,S_Z84) , 
                                 s('ax-mp'(),z,S_Z84,S87) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜓(),𝜒(),S_𝜒85) , 
                                 s('𝛩',S_𝛩86,S87,S_𝜒85,S_Z88) , 
                                 s(∃,z,S_Z88,S89) , 
                                 s(∃,S_Z73,S89,S127) , 
                                 s('PLN.MkSTV',PLN_c46_MkSTV,1,S91) , 
                                 s(≞,S127,S91,S93) , 
                                 s(:,Kw92,S93,S94) , 
                                 s('pln-bc',Pln_bc_c46_test_c46_kb71,S95,S94,S128)), 
                               Equal_enough_for_test117)),
                            (findall_ne( S137, 
                               ( s('EQI','ax-pm-inst',Ax_pm_inst96)  ,
                                 s('EQI',Ax_pm_inst96,Kw115) , 
                                 s(s,z,S_Z97) , 
                                 info(is_value_obj('mp2.1'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 s(:(),'mp2.1'(),𝜑(),Cons_𝜑98) , 
                                 info(is_value_obj('mp2.2'())) , 
                                 info(is_value_obj(𝜓())) , 
                                 s(:(),'mp2.2'(),𝜓(),Cons_𝜓99) , 
                                 info(is_value_obj('mp2.3'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜓(),𝜒(),S_𝜑_𝜒100) , 
                                 s(→(),𝜑(),S_𝜑_𝜒100,Mp2_c46_3102) , 
                                 s(:(),'mp2.3'(),Mp2_c46_3102,Cons103) , 
                                 info(is_value_obj('PC'())) , 
                                 s('Cons',Cons103,'PC'(),S_PC104) , 
                                 s('Cons',Cons_𝜓99,S_PC104,S107) , 
                                 s('Cons',Cons_𝜑98,S107,S_𝛩110) , 
                                 s(s,z,S_Z108) , 
                                 s('ax-mp'(),z,S_Z108,S111) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜓(),𝜒(),S_𝜒109) , 
                                 s('𝛩',S_𝛩110,S111,S_𝜒109,S_Z112) , 
                                 s(∃,z,S_Z112,S113) , 
                                 s(∃,S_Z97,S113,S136) , 
                                 s('PLN.MkSTV',1,1,S114) , 
                                 s(≞,S136,S114,S116) , 
                                 s(:,Kw115,S116,S137)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test117,Test_Ne), 
                         Equal_enough_for_test118))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_93)).


</span>top_call :-
    time(top_call_93).


/*
;; Test existential quantification and conjunction
*/
/*
  ! (assertEqual 
      (pln-bc &pln-bc.test.kb 
        (fromNumber 3) 
        (: $prf 
          (≞ 
            (∃ 
              (s z) 
              (∃ z 
                (∧ 
                  (𝛩 
                    [PC] z 
                    ( [ → ] 
                      [ 𝜑 ] 
                      ( [ → ] 
                        [ 𝜓 ] 
                        [ 𝜑 ]))) 
                  (𝛩 
                    [PC] 
                    (s z) 
                    ( [ → ] 
                      ( [ → ] 
                        [ 𝜑 ] 
                        ( [ → ] 
                          [ 𝜓 ] 
                          [ 𝜒 ])) 
                      ( [ → ] 
                        ( [ → ] 
                          [ 𝜑 ] 
                          [ 𝜓 ]) 
                        ( [ → ] 
                          [ 𝜑 ] 
                          [ 𝜒 ]))))))) 
            (PLN.MkSTV $s 1)))) 
      (: 
        (EQI (EQI (CI ax-1-inst ax-2-inst))) 
        (≞ 
          (∃ 
            (s z) 
            (∃ z 
              (∧ 
                (𝛩 
                  [PC] z 
                  ( [ → ] 
                    [ 𝜑 ] 
                    ( [ → ] 
                      [ 𝜓 ] 
                      [ 𝜑 ]))) 
                (𝛩 
                  [PC] 
                  (s z) 
                  ( [ → ] 
                    ( [ → ] 
                      [ 𝜑 ] 
                      ( [ → ] 
                        [ 𝜓 ] 
                        [ 𝜒 ])) 
                    ( [ → ] 
                      ( [ → ] 
                        [ 𝜑 ] 
                        [ 𝜓 ]) 
                      ( [ → ] 
                        [ 𝜑 ] 
                        [ 𝜒 ]))))))) 
          (PLN.MkSTV 1 1))))
*/


top_call_94:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_66 =  
                      [ assertEqual, 
                        [ 'pln-bc', 
                          '&pln-bc.test.kb', 
                          [fromNumber,3], 
                          [ :, 
                            _prf, 
                            [ ≞, 
                              [ ∃, 
                                [s,z], 
                                [ ∃, 
                                  z, 
                                  [ ∧, 
                                    [ '𝛩', 'PC'(),z, 
                                      [ →(), 
                                        𝜑(), 
                                        [→(),𝜓(),𝜑()]]], 
                                    [ '𝛩', 
                                      'PC'(), 
                                      [s,z], 
                                      [ →(), 
                                        [ →(), 
                                          𝜑(), 
                                          [→(),𝜓(),𝜒()]], 
                                        [ →(), 
                                          [→(),𝜑(),𝜓()], 
                                          [→(),𝜑(),𝜒()]]]]]]], 
                              ['PLN.MkSTV',_s,1]]]], 
                        [ :, 
                          [ 'EQI', 
                            [ 'EQI', 
                              ['CI','ax-1-inst','ax-2-inst']]], 
                          [ ≞, 
                            [ ∃, 
                              [s,z], 
                              [ ∃, 
                                z, 
                                [ ∧, 
                                  [ '𝛩', 'PC'(),z, 
                                    [ →(), 
                                      𝜑(), 
                                      [→(),𝜓(),𝜑()]]], 
                                  [ '𝛩', 
                                    'PC'(), 
                                    [s,z], 
                                    [ →(), 
                                      [ →(), 
                                        𝜑(), 
                                        [→(),𝜓(),𝜒()]], 
                                      [ →(), 
                                        [→(),𝜑(),𝜓()], 
                                        [→(),𝜑(),𝜒()]]]]]]], 
                            ['PLN.MkSTV',1,1]]]]),
                   (loonit_assert_source_tf_empty( src(Src_66), 
                      FARL_131, 
                      FARL_132, 
                        ((
                         (findall_ne( FA_131, 
                            ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb)  ,
                              s(fromNumber,3,S20) , 
                              s(s,z,S_Z) , 
                              info(is_value_obj('PC'())) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜑())) , 
                              s(→(),𝜓(),𝜑(),S_𝜑) , 
                              s(→(),𝜑(),S_𝜑,S_Z4) , 
                              s('𝛩','PC'(),z,S_Z4,S48) , 
                              info(is_value_obj('PC'())) , 
                              s(s,z,S_PC_Z5) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜓(),𝜒(),S_𝜑_𝜒) , 
                              s(→(),𝜑(),S_𝜑_𝜒,S51) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              s(→(),𝜑(),𝜓(),S_𝜓) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜑(),𝜒(),S_𝜒9) , 
                              s(→(),S_𝜓,S_𝜒9,S) , 
                              s(→(),S51,S,S12) , 
                              s('𝛩','PC'(),S_PC_Z5,S12,S13) , 
                              s(∧,S48,S13,S_Z14) , 
                              s(∃,z,S_Z14,S15) , 
                              s(∃,S_Z,S15,S55) , 
                              s('PLN.MkSTV',_s,1,S16) , 
                              s(≞,S55,S16,S18) , 
                              s(:,_prf,S18,S19) , 
                              s('pln-bc',Pln_bc_c46_test_c46_kb,S20,S19,FA_131)), 
                            FARL_131)),
                         (findall_ne( FA_132, 
                            ( s('CI','ax-1-inst','ax-2-inst',Ax_2_inst)  ,
                              s('EQI',Ax_2_inst,S_EQI) , 
                              s('EQI',S_EQI,Kw) , 
                              s(s,z,S_Z24) , 
                              info(is_value_obj('PC'())) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜑())) , 
                              s(→(),𝜓(),𝜑(),S_𝜑25) , 
                              s(→(),𝜑(),S_𝜑25,S_Z26) , 
                              s('𝛩','PC'(),z,S_Z26,S61) , 
                              info(is_value_obj('PC'())) , 
                              s(s,z,S_PC_Z27) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜓(),𝜒(),S_𝜑_𝜒28) , 
                              s(→(),𝜑(),S_𝜑_𝜒28,S64) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜓())) , 
                              s(→(),𝜑(),𝜓(),S_𝜓30) , 
                              info(is_value_obj(𝜑())) , 
                              info(is_value_obj(𝜒())) , 
                              s(→(),𝜑(),𝜒(),S_𝜒31) , 
                              s(→(),S_𝜓30,S_𝜒31,S32) , 
                              s(→(),S64,S32,S34) , 
                              s('𝛩','PC'(),S_PC_Z27,S34,S35) , 
                              s(∧,S61,S35,S_Z36) , 
                              s(∃,z,S_Z36,S37) , 
                              s(∃,S_Z24,S37,S68) , 
                              s('PLN.MkSTV',1,1,S38) , 
                              s(≞,S68,S38,S40) , 
                              s(:,Kw,S40,FA_132)), 
                            FARL_132))  )), 
                      equal_enough_for_test(FARL_131,FARL_132), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi35"></span><span class="ansi1 ansi35"></span><span class="ansi1 ansi35">

( ==> ( 
   top_call_94:- do_metta_runtime( Equal_enough_for_test113, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           [ 'pln-bc', 
                             '&pln-bc.test.kb', 
                             [fromNumber,3], 
                             [ :, 
                               Kw89, 
                               [ ≞, 
                                 [ ∃, 
                                   [s,z], 
                                   [ ∃, 
                                     z, 
                                     [ ∧, 
                                       [ '𝛩', 'PC'(),z, 
                                         [ →(), 
                                           𝜑(), 
                                           [→(),𝜓(),𝜑()]]], 
                                       [ '𝛩', 
                                         'PC'(), 
                                         [s,z], 
                                         [ →(), 
                                           [ →(), 
                                             𝜑(), 
                                             [→(),𝜓(),𝜒()]], 
                                           [ →(), 
                                             [→(),𝜑(),𝜓()], 
                                             [→(),𝜑(),𝜒()]]]]]]], 
                                 ['PLN.MkSTV',PLN_c46_MkSTV,1]]]], 
                           [ :, 
                             [ 'EQI', 
                               [ 'EQI', 
                                 ['CI','ax-1-inst','ax-2-inst']]], 
                             [ ≞, 
                               [ ∃, 
                                 [s,z], 
                                 [ ∃, 
                                   z, 
                                   [ ∧, 
                                     [ '𝛩', 'PC'(),z, 
                                       [ →(), 
                                         𝜑(), 
                                         [→(),𝜓(),𝜑()]]], 
                                     [ '𝛩', 
                                       'PC'(), 
                                       [s,z], 
                                       [ →(), 
                                         [ →(), 
                                           𝜑(), 
                                           [→(),𝜓(),𝜒()]], 
                                         [ →(), 
                                           [→(),𝜑(),𝜓()], 
                                           [→(),𝜑(),𝜒()]]]]]]], 
                               ['PLN.MkSTV',1,1]]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test112, 
                         Test_Ne, 
                           ((
                            (findall_ne( S126, 
                               ( get_value('&pln-bc.test.kb',Pln_bc_c46_test_c46_kb72)  ,
                                 s(fromNumber,3,S92) , 
                                 s(s,z,S_Z73) , 
                                 info(is_value_obj('PC'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜑())) , 
                                 s(→(),𝜓(),𝜑(),S_𝜑74) , 
                                 s(→(),𝜑(),S_𝜑74,S_Z75) , 
                                 s('𝛩','PC'(),z,S_Z75,S118) , 
                                 info(is_value_obj('PC'())) , 
                                 s(s,z,S_PC_Z76) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜓(),𝜒(),S_𝜑_𝜒77) , 
                                 s(→(),𝜑(),S_𝜑_𝜒77,S121) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 s(→(),𝜑(),𝜓(),S_𝜓79) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜑(),𝜒(),S_𝜒80) , 
                                 s(→(),S_𝜓79,S_𝜒80,S81) , 
                                 s(→(),S121,S81,S83) , 
                                 s('𝛩','PC'(),S_PC_Z76,S83,S84) , 
                                 s(∧,S118,S84,S_Z85) , 
                                 s(∃,z,S_Z85,S86) , 
                                 s(∃,S_Z73,S86,S125) , 
                                 s('PLN.MkSTV',PLN_c46_MkSTV,1,S88) , 
                                 s(≞,S125,S88,S90) , 
                                 s(:,Kw89,S90,S91) , 
                                 s('pln-bc',Pln_bc_c46_test_c46_kb72,S92,S91,S126)), 
                               Equal_enough_for_test112)),
                            (findall_ne( S139, 
                               ( s('CI','ax-1-inst','ax-2-inst',Ax_2_inst93)  ,
                                 s('EQI',Ax_2_inst93,S_EQI94) , 
                                 s('EQI',S_EQI94,Kw110) , 
                                 s(s,z,S_Z95) , 
                                 info(is_value_obj('PC'())) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜑())) , 
                                 s(→(),𝜓(),𝜑(),S_𝜑96) , 
                                 s(→(),𝜑(),S_𝜑96,S_Z97) , 
                                 s('𝛩','PC'(),z,S_Z97,S131) , 
                                 info(is_value_obj('PC'())) , 
                                 s(s,z,S_PC_Z98) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜓(),𝜒(),S_𝜑_𝜒99) , 
                                 s(→(),𝜑(),S_𝜑_𝜒99,S134) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜓())) , 
                                 s(→(),𝜑(),𝜓(),S_𝜓101) , 
                                 info(is_value_obj(𝜑())) , 
                                 info(is_value_obj(𝜒())) , 
                                 s(→(),𝜑(),𝜒(),S_𝜒102) , 
                                 s(→(),S_𝜓101,S_𝜒102,S103) , 
                                 s(→(),S134,S103,S105) , 
                                 s('𝛩','PC'(),S_PC_Z98,S105,S106) , 
                                 s(∧,S131,S106,S_Z107) , 
                                 s(∃,z,S_Z107,S108) , 
                                 s(∃,S_Z95,S108,S138) , 
                                 s('PLN.MkSTV',1,1,S109) , 
                                 s(≞,S138,S109,S111) , 
                                 s(:,Kw110,S111,S139)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test112,Test_Ne), 
                         Equal_enough_for_test113))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_94)).


</span>top_call :-
    time(top_call_94).


/*
;;;;;;;;;;;;;;;;
;; ;;;;;;;;;; ;;
;; ;; Test ;; ;;
;; ;;;;;;;;;; ;;
;;;;;;;;;;;;;;;;
*/
/*
;;;;;;;;;;;;;;;;;;;;;;;;;
;; Test Random Control ;;
;;;;;;;;;;;;;;;;;;;;;;;;;
*/
/*
;; The tests attempt to prove mp2, mp2b and a1i.1 respectively, which
;; are theorems from Metamath.  The inference control is completely
;; random, that is at each non-deterministic branch, the control
;; selects one randomly.  In order to find a proof, we rerun each
;; attempt for each theorem with a different random seed.  We also
;; store the seed for future use (which only works if the random
;; generator is fixed).  Additionally, in the random control
;; structure, a space is provided.  The backward chainer will populate
;; the spaces with 𝛩 instances.  These instances will be used in a
;; second round of inference control tests where PLN can be used to
;; reason about the instances to extract patterns to make better than
;; random inference control decisions.
*/
/*
;; Define PLN space
*/
/*
  ! (bind! &pln-kb 
      (new-space))
*/


top_call_95:- do_metta_runtime( S, 
                ( get_value('&pln-kb',Bind_Pln_kb)  ,
                  s('new-space',New_space) , 
                  s('bind!',Bind_Pln_kb,New_space,S))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_95:- do_metta_runtime( S7, 
                   ( get_value('&pln-kb',Bind_Pln_kb4)  ,
                     s('new-space',New_space5) , 
                     s('bind!',Bind_Pln_kb4,New_space5,S7)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_95)).


</span>top_call :-
    time(top_call_95).


/*
;; Define random estimator
*/
/*
  (: rnd-estimate 
    (-> 
      (List $a) 
      (List $a) Nat $a Number))
*/


mc(iz,_rnd_xx_estimate1,__xx__x62x__List__a_List__a_Nat__a_Number1) :- 
  eval_and_unify(_rnd_xx_estimate1,'rnd-estimate') , 
  eval_and_unify( __xx__x62x__List__a_List__a_Nat__a_Number1, [
    ->, 
    ['List',_a], 
    ['List',_a], 'Nat',_a,'Number']).


/*
; Estimate
*/
/*
  (= (rnd-estimate $env $ctx $depth $query)  
    (random-float &rng 0 1))
*/


mc('rnd-estimate',_env13,_ctx13,_depth14,_query6,RetVal757) :- 
  ensure_evaled(['List',Type__rnd_xx_estimate__4___1],_env13,_) , 
  ensure_evaled(['List',Type__rnd_xx_estimate__4___1],_ctx13,_) , 
  ensure_evaled('Nat',_depth14,_) , 
  ensure_evaled(Type__rnd_xx_estimate__4___1,_query6,_) , 
  get_value('&rng',Random_float_Rng) , 
  s('random-float',Random_float_Rng,0,1,RetVal757).


/*
;; Define control with random estimator
*/
/*
  ! (bind! &rnd-ctl 
      (MkControl &pln-kb rnd-estimate))
*/


top_call_96:- do_metta_runtime( S, 
                ( get_value('&rnd-ctl',Bind_Rnd_ctl)  ,
                  get_value('&pln-kb',Control_Pln_kb) , 
                  s('MkControl',Control_Pln_kb,'rnd-estimate',Rnd_estimate) , 
                  s('bind!',Bind_Rnd_ctl,Rnd_estimate,S))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_96:- do_metta_runtime( S11, 
                   ( get_value('&rnd-ctl',Bind_Rnd_ctl6)  ,
                     get_value('&pln-kb',Control_Pln_kb7) , 
                     s('MkControl',Control_Pln_kb7,'rnd-estimate',Rnd_estimate9) , 
                     s('bind!',Bind_Rnd_ctl6,Rnd_estimate9,S11)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_96)).


</span>top_call :-
    time(top_call_96).


/*
;; Test ax-3
*/
/*
  (: bc.test.ax-3 
    (-> $a))
*/


mc(iz,_bc_x46x_test_x46x_ax_xx_31,__xx__x62x___a1) :- 
  eval_and_unify(_bc_x46x_test_x46x_ax_xx_31,'bc.test.ax-3') , 
  eval_and_unify(__xx__x62x___a1,[->,_]).


/*
  (= (bc.test.ax-3)  
    (bc &rnd-ctl Nil Nil 
      (fromNumber 0) 
      (: $prf 
        (→ 
          (→ 
            (¬ 𝜑) 
            (¬ 𝜓)) 
          (→ 𝜓 𝜑)))))
*/


mc('bc.test.ax-3',RetVal758) :- 
  get_value('&rnd-ctl',Bc_Rnd_ctl) , 
  s(fromNumber,0,Nil) , 
  s(¬,𝜑,S_𝜑) , 
  s(¬,𝜓,S_𝜓) , 
  s(→,S_𝜑,S_𝜓,S) , 
  s(→,𝜓,𝜑,S_𝜑4) , 
  s(→,S,S_𝜑4,S12) , 
  s(:,_,S12,Nil7) , 
  s(bc,Bc_Rnd_ctl,'Nil','Nil',Nil,Nil7,RetVal758).


/*
;; Define predicate to check a random seed for that test
*/
/*
  (: bc.test.ax-3.p 
    (-> Number Bool))
*/


mc(iz,_bc_x46x_test_x46x_ax_xx_3_x46x_p1,__xx__x62x__Number_Bool1) :- 
  eval_and_unify(_bc_x46x_test_x46x_ax_xx_3_x46x_p1,'bc.test.ax-3.p') , 
  eval_and_unify(__xx__x62x__Number_Bool1,[->,'Number','Bool']).


/*
  (= (bc.test.ax-3.p $n)  
    (set-rnd-seed-run0-not-empty $n bc.test.ax-3))
*/


mc('bc.test.ax-3.p',_n5,RetVal759) :- 
  ensure_evaled('Number',_n5,_n) , 
  s('set-rnd-seed-run0-not-empty',_n,'bc.test.ax-3',RetVal759).


/*
;; Set or look for a random seed
*/
/*
  ! (bind! &bc.test.ax-3.seed 
      (if &seed-search 
        (until bc.test.ax-3.p succ 0) 0))
*/


top_call_97:- do_metta_runtime( S4, 
                ( get_value('&bc.test.ax-3.seed',Bc_c46_test_c46_ax_3_c46_seed)  ,
                  get_value('&seed-search',If_Seed_search) , 
                  as_p1( '%Undefined%', 
                    'CodeAtom', _,P1_CODE_246,B, 
                    [until,'bc.test.ax-3.p',succ,0], 
                    true,s(until,'bc.test.ax-3.p',succ,0,P1_CODE_246)) , 
                  s(if,If_Seed_search,B,0,S) , 
                  s('bind!',Bc_c46_test_c46_ax_3_c46_seed,S,S4))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_97:- do_metta_runtime( S11, 
                   ( get_value('&bc.test.ax-3.seed',Bc_c46_test_c46_ax_3_c46_seed5)  ,
                     get_value('&seed-search',If_Seed_search6) , 
                     as_p1( '%Undefined%', 
                       'CodeAtom', 
                       CodeAtom, As_p1Undefined,B, 
                       [until,'bc.test.ax-3.p',succ,0], 
                       true,s(until,'bc.test.ax-3.p',succ,0,As_p1Undefined)) , 
                     s(if,If_Seed_search6,B,0,S10) , 
                     s('bind!',Bc_c46_test_c46_ax_3_c46_seed5,S10,S11)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_97)).


</span>top_call :-
    time(top_call_97).


/*
  ! (println! ("Random seed for ax-3:" &bc.test.ax-3.seed))
*/


top_call_98:- do_metta_runtime( Impl, 
                ( get_value('&bc.test.ax-3.seed',Bc_c46_test_c46_ax_3_c46_seed)  ,
                  u_assign( 14, 
                    [ "Random seed for ax-3:", 
                      Bc_c46_test_c46_ax_3_c46_seed], 
                    Assign_Println_impl) , 
                  println_impl(Assign_Println_impl,Impl))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_98:- do_metta_runtime( Impl7, 
                   ( get_value('&bc.test.ax-3.seed',Bc_c46_test_c46_ax_3_c46_seed4)  ,
                     u_assign( 14, 
                       [ "Random seed for ax-3:", 
                         Bc_c46_test_c46_ax_3_c46_seed4], 
                       Assign_Println_impl5) , 
                     println_impl(Assign_Println_impl5,Impl7)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_98)).


</span>top_call :-
    time(top_call_98).


/*
;; Test
*/
/*
  ! (assertEqual 
      (set-rnd-seed-run0 &bc.test.ax-3.seed bc.test.ax-3) 
      (: ax-3 
        (→ 
          (→ 
            (¬ 𝜑) 
            (¬ 𝜓)) 
          (→ 𝜓 𝜑))))
*/


top_call_99:- do_metta_runtime( Equal_enough_for_test, 
                  ((
                   (Src_67 =  
                      [ assertEqual, 
                        ['set-rnd-seed-run0','&bc.test.ax-3.seed','bc.test.ax-3'], 
                        [ :, 
                          'ax-3', 
                          [ →, 
                            [ →, 
                              [¬,𝜑], 
                              [¬,𝜓]], 
                            [→,𝜓,𝜑]]]]),
                   (loonit_assert_source_tf_empty( src(Src_67), 
                      FARL_133, 
                      FARL_134, 
                        ((
                         (findall_ne( FA_133, 
                              ((
                               (get_value('&bc.test.ax-3.seed',Bc_c46_test_c46_ax_3_c46_seed)),
                               (true,s('set-rnd-seed-run0',Bc_c46_test_c46_ax_3_c46_seed,'bc.test.ax-3',FA_133))  )), 
                            FARL_133)),
                         (findall_ne( FA_134, 
                            ( s(¬,𝜑,S_𝜑)  ,
                              s(¬,𝜓,S_𝜓) , 
                              s(→,S_𝜑,S_𝜓,S) , 
                              s(→,𝜓,𝜑,S_𝜑5) , 
                              s(→,S,S_𝜑5,Ax_3) , 
                              s(:,'ax-3',Ax_3,FA_134)), 
                            FARL_134))  )), 
                      equal_enough_for_test(FARL_133,FARL_134), 
                      Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi91"></span><span class="ansi1 ansi91"></span><span class="ansi1 ansi91">

( ==> ( 
   top_call_99:- do_metta_runtime( Equal_enough_for_test25, 
                     ((
                      (Src_List =  
                         [ assertEqual, 
                           ['set-rnd-seed-run0','&bc.test.ax-3.seed','bc.test.ax-3'], 
                           [ :, 
                             'ax-3', 
                             [ →, 
                               [ →, 
                                 [¬,𝜑], 
                                 [¬,𝜓]], 
                               [→,𝜓,𝜑]]]]),
                      (loonit_assert_source_tf_empty( src(Src_List), 
                         Equal_enough_for_test24, 
                         Test_Ne, 
                           ((
                            (findall_ne( Bc_c46_test_c46_ax_3, 
                                 ((
                                  (get_value('&bc.test.ax-3.seed',Bc_c46_test_c46_ax_3_c46_seed18)),
                                  (  ((
                                      (true),
                                      (s('set-rnd-seed-run0',Bc_c46_test_c46_ax_3_c46_seed18,'bc.test.ax-3',Bc_c46_test_c46_ax_3))  )))  )), 
                               Equal_enough_for_test24)),
                            (findall_ne( S31, 
                               ( s(¬,𝜑,S_𝜑20)  ,
                                 s(¬,𝜓,S_𝜓21) , 
                                 s(→,S_𝜑20,S_𝜓21,S29) , 
                                 s(→,𝜓,𝜑,S_𝜑22) , 
                                 s(→,S29,S_𝜑22,Ax_323) , 
                                 s(:,'ax-3',Ax_323,S31)), 
                               Test_Ne))  )), 
                         equal_enough_for_test(Equal_enough_for_test24,Test_Ne), 
                         Equal_enough_for_test25))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_99)).


</span>top_call :-
    time(top_call_99).


/*
;; Test subgoal of https://us.metamath.org/mpeuni/mp2.html
;;
;; Note that variables have been replaced by symbols to force them to
;; be different which considerably prunes the search space.
*/
/*
  (: bc.test.sub-mp2 
    (-> $a))
*/


mc(iz,_bc_x46x_test_x46x_sub_xx_mp21,__xx__x62x___a2) :- 
  eval_and_unify(_bc_x46x_test_x46x_sub_xx_mp21,'bc.test.sub-mp2') , 
  eval_and_unify(__xx__x62x___a2,[->,_]).


/*
  (= (bc.test.sub-mp2)  
    (bc &rnd-ctl 
      (Cons 
        (: mp2.1 𝜑) 
        (Cons 
          (: mp2.2 𝜓) 
          (Cons 
            (: mp2.3 
              (→ 𝜑 
                (→ 𝜓 𝜒))) Nil))) Nil 
      (fromNumber 1) 
      (: $prf 
        (→ 𝜓 𝜒))))
*/


mc('bc.test.sub-mp2',RetVal760) :- 
  get_value('&rnd-ctl',Bc_Rnd_ctl) , 
  s(:,'mp2.1',𝜑,Cons_𝜑) , 
  s(:,'mp2.2',𝜓,Cons_𝜓) , 
  s(→,𝜓,𝜒,S_𝜑_𝜒) , 
  s(→,𝜑,S_𝜑_𝜒,Mp2_c46_3) , 
  s(:,'mp2.3',Mp2_c46_3,Cons) , 
  s('Cons',Cons,'Nil',Nil) , 
  s('Cons',Cons_𝜓,Nil,S) , 
  s('Cons',Cons_𝜑,S,Nil14) , 
  s(fromNumber,1,S16) , 
  s(→,𝜓,𝜒,S_𝜒12) , 
  s(:,_,S_𝜒12,S15) , 
  s(bc,Bc_Rnd_ctl,Nil14,'Nil',S16,S15,RetVal760).


/*
;; Define predicate to check a random seed for that test
*/
/*
  (: bc.test.sub-mp2.p 
    (-> Number Bool))
*/


mc(iz,_bc_x46x_test_x46x_sub_xx_mp2_x46x_p1,__xx__x62x__Number_Bool2) :- 
  eval_and_unify(_bc_x46x_test_x46x_sub_xx_mp2_x46x_p1,'bc.test.sub-mp2.p') , 
  eval_and_unify(__xx__x62x__Number_Bool2,[->,'Number','Bool']).


/*
  (= (bc.test.sub-mp2.p $n)  
    (set-rnd-seed-run0-not-empty $n bc.test.sub-mp2))
*/


mc('bc.test.sub-mp2.p',_n6,RetVal761) :- 
  ensure_evaled('Number',_n6,_n) , 
  s('set-rnd-seed-run0-not-empty',_n,'bc.test.sub-mp2',RetVal761).


/*
;; Set or look for a random seed
*/
/*
  ! (bind! &bc.test.sub-mp2.seed 
      (if &seed-search 
        (until bc.test.sub-mp2.p succ 0) 5))
*/


top_call_100:- do_metta_runtime( S4, 
                 ( get_value('&bc.test.sub-mp2.seed',Bc_c46_test_c46_sub_mp2_c46_seed)  ,
                   get_value('&seed-search',If_Seed_search) , 
                   as_p1( '%Undefined%', 
                     'CodeAtom', _,P1_CODE_247,B, 
                     [until,'bc.test.sub-mp2.p',succ,0], 
                     true,s(until,'bc.test.sub-mp2.p',succ,0,P1_CODE_247)) , 
                   s(if,If_Seed_search,B,5,S) , 
                   s('bind!',Bc_c46_test_c46_sub_mp2_c46_seed,S,S4))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_100:- do_metta_runtime( S11, 
                    ( get_value('&bc.test.sub-mp2.seed',Bc_c46_test_c46_sub_mp2_c46_seed5)  ,
                      get_value('&seed-search',If_Seed_search6) , 
                      as_p1( '%Undefined%', 
                        'CodeAtom', 
                        CodeAtom, As_p1Undefined,B, 
                        [until,'bc.test.sub-mp2.p',succ,0], 
                        true,s(until,'bc.test.sub-mp2.p',succ,0,As_p1Undefined)) , 
                      s(if,If_Seed_search6,B,5,S10) , 
                      s('bind!',Bc_c46_test_c46_sub_mp2_c46_seed5,S10,S11)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_100)).


</span>top_call :-
    time(top_call_100).


/*
  ! (println! ("Random seed for sub-mp2:" &bc.test.sub-mp2.seed))
*/


top_call_101:- do_metta_runtime( Impl, 
                 ( get_value('&bc.test.sub-mp2.seed',Bc_c46_test_c46_sub_mp2_c46_seed)  ,
                   u_assign( 14, 
                     [ "Random seed for sub-mp2:", 
                       Bc_c46_test_c46_sub_mp2_c46_seed], 
                     Assign_Println_impl) , 
                   println_impl(Assign_Println_impl,Impl))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_101:- do_metta_runtime( Impl7, 
                    ( get_value('&bc.test.sub-mp2.seed',Bc_c46_test_c46_sub_mp2_c46_seed4)  ,
                      u_assign( 14, 
                        [ "Random seed for sub-mp2:", 
                          Bc_c46_test_c46_sub_mp2_c46_seed4], 
                        Assign_Println_impl5) , 
                      println_impl(Assign_Println_impl5,Impl7)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_101)).


</span>top_call :-
    time(top_call_101).


/*
;; Test
*/
/*
  ! (assertEqual 
      (set-rnd-seed-run0 &bc.test.sub-mp2.seed bc.test.sub-mp2) 
      (: 
        (ax-mp mp2.1 mp2.3) 
        (→ 𝜓 𝜒)))
*/


top_call_102:- do_metta_runtime( Equal_enough_for_test, 
                   ((
                    (Src_68 =  
                       [ assertEqual, 
                         ['set-rnd-seed-run0','&bc.test.sub-mp2.seed','bc.test.sub-mp2'], 
                         [ :, 
                           ['ax-mp','mp2.1','mp2.3'], 
                           [→,𝜓,𝜒]]]),
                    (loonit_assert_source_tf_empty( src(Src_68), 
                       FARL_135, 
                       FARL_136, 
                         ((
                          (findall_ne( FA_135, 
                               ((
                                (get_value('&bc.test.sub-mp2.seed',Bc_c46_test_c46_sub_mp2_c46_seed)),
                                (true,s('set-rnd-seed-run0',Bc_c46_test_c46_sub_mp2_c46_seed,'bc.test.sub-mp2',FA_135))  )), 
                             FARL_135)),
                          (findall_ne( FA_136, 
                             ( s('ax-mp','mp2.1','mp2.3',Mp2_c46_3)  ,
                               s(→,𝜓,𝜒,S_𝜒) , 
                               s(:,Mp2_c46_3,S_𝜒,FA_136)), 
                             FARL_136))  )), 
                       equal_enough_for_test(FARL_135,FARL_136), 
                       Equal_enough_for_test))  ))).




( ==> ( 
   top_call_102:- do_metta_runtime( Equal_enough_for_test18, 
                      ((
                       (Src_List =  
                          [ assertEqual, 
                            ['set-rnd-seed-run0','&bc.test.sub-mp2.seed','bc.test.sub-mp2'], 
                            [ :, 
                              ['ax-mp','mp2.1','mp2.3'], 
                              [→,𝜓,𝜒]]]),
                       (loonit_assert_source_tf_empty( src(Src_List), 
                          Equal_enough_for_test17, 
                          Test_Ne, 
                            ((
                             (findall_ne( Bc_c46_test_c46_sub_mp2, 
                                  ((
                                   (get_value('&bc.test.sub-mp2.seed',Bc_c46_test_c46_sub_mp2_c46_seed13)),
                                   (  ((
                                       (true),
                                       (s( 'set-rnd-seed-run0', 
                                          Bc_c46_test_c46_sub_mp2_c46_seed13, 'bc.test.sub-mp2',Bc_c46_test_c46_sub_mp2))  )))  )), 
                                Equal_enough_for_test17)),
                             (findall_ne( S, 
                                ( s('ax-mp','mp2.1','mp2.3',Mp2_c46_315)  ,
                                  s(→,𝜓,𝜒,S_𝜒16) , 
                                  s(:,Mp2_c46_315,S_𝜒16,S)), 
                                Test_Ne))  )), 
                          equal_enough_for_test(Equal_enough_for_test17,Test_Ne), 
                          Equal_enough_for_test18))  )))) ).




<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_102)).


</span>top_call :-
    time(top_call_102).


/*
;; Test https://us.metamath.org/mpeuni/mp2.html
;;
;; Note that variables have been replaced by symbols to force them to
;; be different which considerably prunes the search space.
*/
/*
  (: bc.test.mp2 
    (-> $a))
*/


mc(iz,_bc_x46x_test_x46x_mp21,__xx__x62x___a3) :- 
  eval_and_unify(_bc_x46x_test_x46x_mp21,'bc.test.mp2') , 
  eval_and_unify(__xx__x62x___a3,[->,_]).


/*
  (= (bc.test.mp2)  
    (bc &rnd-ctl 
      (Cons 
        (: mp2.1 𝜑) 
        (Cons 
          (: mp2.2 𝜓) 
          (Cons 
            (: mp2.3 
              (→ 𝜑 
                (→ 𝜓 𝜒))) Nil))) Nil 
      (fromNumber 2) 
      (: $prf 𝜒)))
*/


mc('bc.test.mp2',RetVal762) :- 
  get_value('&rnd-ctl',Bc_Rnd_ctl) , 
  s(:,'mp2.1',𝜑,Cons_𝜑) , 
  s(:,'mp2.2',𝜓,Cons_𝜓) , 
  s(→,𝜓,𝜒,S_𝜑_𝜒) , 
  s(→,𝜑,S_𝜑_𝜒,Mp2_c46_3) , 
  s(:,'mp2.3',Mp2_c46_3,Cons) , 
  s('Cons',Cons,'Nil',Nil) , 
  s('Cons',Cons_𝜓,Nil,S) , 
  s('Cons',Cons_𝜑,S,Nil14) , 
  s(fromNumber,2,S15) , 
  s(:,_,𝜒,S_𝜒12) , 
  s(bc,Bc_Rnd_ctl,Nil14,'Nil',S15,S_𝜒12,RetVal762).


/*
;; Define predicate to check a random seed for that test
*/
/*
  (: bc.test.mp2.p 
    (-> Number Bool))
*/


mc(iz,_bc_x46x_test_x46x_mp2_x46x_p1,__xx__x62x__Number_Bool3) :- 
  eval_and_unify(_bc_x46x_test_x46x_mp2_x46x_p1,'bc.test.mp2.p') , 
  eval_and_unify(__xx__x62x__Number_Bool3,[->,'Number','Bool']).


/*
  (= (bc.test.mp2.p $n)  
    (set-rnd-seed-run0-not-empty $n bc.test.mp2))
*/


mc('bc.test.mp2.p',_n7,RetVal763) :- 
  ensure_evaled('Number',_n7,_n) , 
  s('set-rnd-seed-run0-not-empty',_n,'bc.test.mp2',RetVal763).


/*
;; Set or look for a random seed
*/
/*
  ! (bind! &bc.test.mp2.seed 
      (if &seed-search 
        (until bc.test.mp2.p succ 0) 9))
*/


top_call_103:- do_metta_runtime( S4, 
                 ( get_value('&bc.test.mp2.seed',Bc_c46_test_c46_mp2_c46_seed)  ,
                   get_value('&seed-search',If_Seed_search) , 
                   as_p1( '%Undefined%', 
                     'CodeAtom', _,P1_CODE_248,B, 
                     [until,'bc.test.mp2.p',succ,0], 
                     true,s(until,'bc.test.mp2.p',succ,0,P1_CODE_248)) , 
                   s(if,If_Seed_search,B,9,S) , 
                   s('bind!',Bc_c46_test_c46_mp2_c46_seed,S,S4))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_103:- do_metta_runtime( S11, 
                    ( get_value('&bc.test.mp2.seed',Bc_c46_test_c46_mp2_c46_seed5)  ,
                      get_value('&seed-search',If_Seed_search6) , 
                      as_p1( '%Undefined%', 
                        'CodeAtom', 
                        CodeAtom, As_p1Undefined,B, 
                        [until,'bc.test.mp2.p',succ,0], 
                        true,s(until,'bc.test.mp2.p',succ,0,As_p1Undefined)) , 
                      s(if,If_Seed_search6,B,9,S10) , 
                      s('bind!',Bc_c46_test_c46_mp2_c46_seed5,S10,S11)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_103)).


</span>top_call :-
    time(top_call_103).


/*
  ! (println! ("Random seed for mp2:" &bc.test.mp2.seed))
*/


top_call_104:- do_metta_runtime( Impl, 
                 ( get_value('&bc.test.mp2.seed',Bc_c46_test_c46_mp2_c46_seed)  ,
                   u_assign( 14, 
                     [ "Random seed for mp2:", 
                       Bc_c46_test_c46_mp2_c46_seed], 
                     Assign_Println_impl) , 
                   println_impl(Assign_Println_impl,Impl))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_104:- do_metta_runtime( Impl7, 
                    ( get_value('&bc.test.mp2.seed',Bc_c46_test_c46_mp2_c46_seed4)  ,
                      u_assign( 14, 
                        [ "Random seed for mp2:", 
                          Bc_c46_test_c46_mp2_c46_seed4], 
                        Assign_Println_impl5) , 
                      println_impl(Assign_Println_impl5,Impl7)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_104)).


</span>top_call :-
    time(top_call_104).


/*
;; Test
*/
/*
  ! (assertEqual 
      (set-rnd-seed-run0 &bc.test.mp2.seed bc.test.mp2) 
      (: 
        (ax-mp mp2.2 
          (ax-mp mp2.1 mp2.3)) 𝜒))
*/


top_call_105:- do_metta_runtime( Equal_enough_for_test, 
                   ((
                    (Src_69 =  
                       [ assertEqual, 
                         ['set-rnd-seed-run0','&bc.test.mp2.seed','bc.test.mp2'], 
                         [ :, 
                           [ 'ax-mp', 
                             'mp2.2', 
                             ['ax-mp','mp2.1','mp2.3']], 
                           𝜒]]),
                    (loonit_assert_source_tf_empty( src(Src_69), 
                       FARL_137, 
                       FARL_138, 
                         ((
                          (findall_ne( FA_137, 
                               ((
                                (get_value('&bc.test.mp2.seed',Bc_c46_test_c46_mp2_c46_seed)),
                                (true,s('set-rnd-seed-run0',Bc_c46_test_c46_mp2_c46_seed,'bc.test.mp2',FA_137))  )), 
                             FARL_137)),
                          (findall_ne( FA_138, 
                             ( s('ax-mp','mp2.1','mp2.3',Mp2_c46_3)  ,
                               s('ax-mp','mp2.2',Mp2_c46_3,Kw) , 
                               s(:,Kw,𝜒,FA_138)), 
                             FARL_138))  )), 
                       equal_enough_for_test(FARL_137,FARL_138), 
                       Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2"></span><span class="ansi2"></span><span class="ansi2">

( ==> ( 
   top_call_105:- do_metta_runtime( Equal_enough_for_test17, 
                      ((
                       (Src_List =  
                          [ assertEqual, 
                            ['set-rnd-seed-run0','&bc.test.mp2.seed','bc.test.mp2'], 
                            [ :, 
                              [ 'ax-mp', 
                                'mp2.2', 
                                ['ax-mp','mp2.1','mp2.3']], 
                              𝜒]]),
                       (loonit_assert_source_tf_empty( src(Src_List), 
                          Equal_enough_for_test16, 
                          Test_Ne, 
                            ((
                             (findall_ne( Bc_c46_test_c46_mp2, 
                                  ((
                                   (get_value('&bc.test.mp2.seed',Bc_c46_test_c46_mp2_c46_seed11)),
                                   (  ((
                                       (true),
                                       (s('set-rnd-seed-run0',Bc_c46_test_c46_mp2_c46_seed11,'bc.test.mp2',Bc_c46_test_c46_mp2))  )))  )), 
                                Equal_enough_for_test16)),
                             (findall_ne( S_𝜒, 
                                ( s('ax-mp','mp2.1','mp2.3',Mp2_c46_313)  ,
                                  s('ax-mp','mp2.2',Mp2_c46_313,Kw14) , 
                                  s(:,Kw14,𝜒,S_𝜒)), 
                                Test_Ne))  )), 
                          equal_enough_for_test(Equal_enough_for_test16,Test_Ne), 
                          Equal_enough_for_test17))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_105)).


</span>top_call :-
    time(top_call_105).


/*
;; Test https://us.metamath.org/mpeuni/mp2b.html
*/
/*
  (: bc.test.mp2b 
    (-> $a))
*/


mc(iz,_bc_x46x_test_x46x_mp2b1,__xx__x62x___a4) :- 
  eval_and_unify(_bc_x46x_test_x46x_mp2b1,'bc.test.mp2b') , 
  eval_and_unify(__xx__x62x___a4,[->,_]).


/*
  (= (bc.test.mp2b)  
    (bc &rnd-ctl 
      (Cons 
        (: mp2b.1 𝜑) 
        (Cons 
          (: mp2b.2 
            (→ 𝜑 𝜓)) 
          (Cons 
            (: mp2b.3 
              (→ 𝜓 𝜒)) Nil))) Nil 
      (fromNumber 2) 
      (: $prf 𝜒)))
*/


mc('bc.test.mp2b',RetVal764) :- 
  get_value('&rnd-ctl',Bc_Rnd_ctl) , 
  s(:,'mp2b.1',𝜑,Cons_𝜑) , 
  s(→,𝜑,𝜓,Mp2b_c46_2_𝜓) , 
  s(:,'mp2b.2',Mp2b_c46_2_𝜓,Cons9) , 
  s(→,𝜓,𝜒,Mp2b_c46_3_𝜒) , 
  s(:,'mp2b.3',Mp2b_c46_3_𝜒,Cons) , 
  s('Cons',Cons,'Nil',Nil) , 
  s('Cons',Cons9,Nil,S) , 
  s('Cons',Cons_𝜑,S,Nil14) , 
  s(fromNumber,2,S15) , 
  s(:,_,𝜒,S_𝜒12) , 
  s(bc,Bc_Rnd_ctl,Nil14,'Nil',S15,S_𝜒12,RetVal764).


/*
;; Define predicate to check a random seed for that test
*/
/*
  (: bc.test.mp2b.p 
    (-> Number Bool))
*/


mc(iz,_bc_x46x_test_x46x_mp2b_x46x_p1,__xx__x62x__Number_Bool4) :- 
  eval_and_unify(_bc_x46x_test_x46x_mp2b_x46x_p1,'bc.test.mp2b.p') , 
  eval_and_unify(__xx__x62x__Number_Bool4,[->,'Number','Bool']).


/*
  (= (bc.test.mp2b.p $n)  
    (set-rnd-seed-run0-not-empty $n bc.test.mp2b))
*/


mc('bc.test.mp2b.p',_n8,RetVal765) :- 
  ensure_evaled('Number',_n8,_n) , 
  s('set-rnd-seed-run0-not-empty',_n,'bc.test.mp2b',RetVal765).


/*
;; Set or look for a random seed
*/
/*
  ! (bind! &bc.test.mp2b.seed 
      (if &seed-search 
        (until bc.test.mp2b.p succ 0) 47))
*/


top_call_106:- do_metta_runtime( S4, 
                 ( get_value('&bc.test.mp2b.seed',Bc_c46_test_c46_mp2b_c46_seed)  ,
                   get_value('&seed-search',If_Seed_search) , 
                   as_p1( '%Undefined%', 
                     'CodeAtom', _,P1_CODE_249,B, 
                     [until,'bc.test.mp2b.p',succ,0], 
                     true,s(until,'bc.test.mp2b.p',succ,0,P1_CODE_249)) , 
                   s(if,If_Seed_search,B,47,S) , 
                   s('bind!',Bc_c46_test_c46_mp2b_c46_seed,S,S4))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_106:- do_metta_runtime( S11, 
                    ( get_value('&bc.test.mp2b.seed',Bc_c46_test_c46_mp2b_c46_seed5)  ,
                      get_value('&seed-search',If_Seed_search6) , 
                      as_p1( '%Undefined%', 
                        'CodeAtom', 
                        CodeAtom, As_p1Undefined,B, 
                        [until,'bc.test.mp2b.p',succ,0], 
                        true,s(until,'bc.test.mp2b.p',succ,0,As_p1Undefined)) , 
                      s(if,If_Seed_search6,B,47,S10) , 
                      s('bind!',Bc_c46_test_c46_mp2b_c46_seed5,S10,S11)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_106)).


</span>top_call :-
    time(top_call_106).


/*
  ! (println! ("Random seed for mp2b:" &bc.test.mp2b.seed))
*/


top_call_107:- do_metta_runtime( Impl, 
                 ( get_value('&bc.test.mp2b.seed',Bc_c46_test_c46_mp2b_c46_seed)  ,
                   u_assign( 14, 
                     [ "Random seed for mp2b:", 
                       Bc_c46_test_c46_mp2b_c46_seed], 
                     Assign_Println_impl) , 
                   println_impl(Assign_Println_impl,Impl))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_107:- do_metta_runtime( Impl7, 
                    ( get_value('&bc.test.mp2b.seed',Bc_c46_test_c46_mp2b_c46_seed4)  ,
                      u_assign( 14, 
                        [ "Random seed for mp2b:", 
                          Bc_c46_test_c46_mp2b_c46_seed4], 
                        Assign_Println_impl5) , 
                      println_impl(Assign_Println_impl5,Impl7)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_107)).


</span>top_call :-
    time(top_call_107).


/*
;; Test
*/
/*
  ! (assertEqual 
      (set-rnd-seed-run0 &bc.test.mp2b.seed bc.test.mp2b) 
      (: 
        (ax-mp 
          (ax-mp mp2b.1 mp2b.2) mp2b.3) 𝜒))
*/


top_call_108:- do_metta_runtime( Equal_enough_for_test, 
                   ((
                    (Src_70 =  
                       [ assertEqual, 
                         ['set-rnd-seed-run0','&bc.test.mp2b.seed','bc.test.mp2b'], 
                         [ :, 
                           [ 'ax-mp', 
                             ['ax-mp','mp2b.1','mp2b.2'], 
                             'mp2b.3'], 
                           𝜒]]),
                    (loonit_assert_source_tf_empty( src(Src_70), 
                       FARL_139, 
                       FARL_140, 
                         ((
                          (findall_ne( FA_139, 
                               ((
                                (get_value('&bc.test.mp2b.seed',Bc_c46_test_c46_mp2b_c46_seed)),
                                (true,s('set-rnd-seed-run0',Bc_c46_test_c46_mp2b_c46_seed,'bc.test.mp2b',FA_139))  )), 
                             FARL_139)),
                          (findall_ne( FA_140, 
                             ( s('ax-mp','mp2b.1','mp2b.2',Mp2b_c46_2)  ,
                               s('ax-mp',Mp2b_c46_2,'mp2b.3',Mp2b_c46_3) , 
                               s(:,Mp2b_c46_3,𝜒,FA_140)), 
                             FARL_140))  )), 
                       equal_enough_for_test(FARL_139,FARL_140), 
                       Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi92"></span><span class="ansi1 ansi92"></span><span class="ansi1 ansi92">

( ==> ( 
   top_call_108:- do_metta_runtime( Equal_enough_for_test17, 
                      ((
                       (Src_List =  
                          [ assertEqual, 
                            ['set-rnd-seed-run0','&bc.test.mp2b.seed','bc.test.mp2b'], 
                            [ :, 
                              [ 'ax-mp', 
                                ['ax-mp','mp2b.1','mp2b.2'], 
                                'mp2b.3'], 
                              𝜒]]),
                       (loonit_assert_source_tf_empty( src(Src_List), 
                          Equal_enough_for_test16, 
                          Test_Ne, 
                            ((
                             (findall_ne( Bc_c46_test_c46_mp2b, 
                                  ((
                                   (get_value('&bc.test.mp2b.seed',Bc_c46_test_c46_mp2b_c46_seed11)),
                                   (  ((
                                       (true),
                                       (s('set-rnd-seed-run0',Bc_c46_test_c46_mp2b_c46_seed11,'bc.test.mp2b',Bc_c46_test_c46_mp2b))  )))  )), 
                                Equal_enough_for_test16)),
                             (findall_ne( S_𝜒, 
                                ( s('ax-mp','mp2b.1','mp2b.2',Mp2b_c46_213)  ,
                                  s('ax-mp',Mp2b_c46_213,'mp2b.3',Mp2b_c46_314) , 
                                  s(:,Mp2b_c46_314,𝜒,S_𝜒)), 
                                Test_Ne))  )), 
                          equal_enough_for_test(Equal_enough_for_test16,Test_Ne), 
                          Equal_enough_for_test17))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_108)).


</span>top_call :-
    time(top_call_108).


/*
;; Test https://us.metamath.org/mpeuni/a1i.html
;;
;; Note that variables have been replaced by symbols to force them to
;; be different which considerably prunes the search space.
*/
/*
  (: bc.test.a1i.1 
    (-> $a))
*/


mc(iz,_bc_x46x_test_x46x_a1i_x46x_11,__xx__x62x___a5) :- 
  eval_and_unify(_bc_x46x_test_x46x_a1i_x46x_11,'bc.test.a1i.1') , 
  eval_and_unify(__xx__x62x___a5,[->,_]).


/*
  (= (bc.test.a1i.1)  
    (bc &rnd-ctl 
      (Cons 
        (: a1i.1 𝜑) Nil) Nil 
      (fromNumber 1) 
      (: $prf 
        (→ 𝜓 𝜑))))
*/


mc('bc.test.a1i.1',RetVal766) :- 
  get_value('&rnd-ctl',Bc_Rnd_ctl) , 
  s(:,'a1i.1',𝜑,Cons_𝜑) , 
  s('Cons',Cons_𝜑,'Nil',Nil) , 
  s(fromNumber,1,S8) , 
  s(→,𝜓,𝜑,S_𝜑5) , 
  s(:,_,S_𝜑5,S) , 
  s(bc,Bc_Rnd_ctl,Nil,'Nil',S8,S,RetVal766).


/*
;; Define predicate to check a random seed for that test
*/
/*
  (: bc.test.a1i.1.p 
    (-> Number Bool))
*/


mc(iz,_bc_x46x_test_x46x_a1i_x46x_1_x46x_p1,__xx__x62x__Number_Bool5) :- 
  eval_and_unify(_bc_x46x_test_x46x_a1i_x46x_1_x46x_p1,'bc.test.a1i.1.p') , 
  eval_and_unify(__xx__x62x__Number_Bool5,[->,'Number','Bool']).


/*
  (= (bc.test.a1i.1.p $n)  
    (set-rnd-seed-run0-not-empty $n bc.test.a1i.1))
*/


mc('bc.test.a1i.1.p',_n9,RetVal767) :- 
  ensure_evaled('Number',_n9,_n) , 
  s('set-rnd-seed-run0-not-empty',_n,'bc.test.a1i.1',RetVal767).


/*
;; Set or look for a random seed
*/
/*
  ! (bind! &bc.test.a1i.1.seed 
      (if &seed-search 
        (until bc.test.a1i.1.p succ 0) 5))
*/


top_call_109:- do_metta_runtime( S4, 
                 ( get_value('&bc.test.a1i.1.seed',Bc_c46_test_c46_a1i_c46_1_c46_seed)  ,
                   get_value('&seed-search',If_Seed_search) , 
                   as_p1( '%Undefined%', 
                     'CodeAtom', _,P1_CODE_250,B, 
                     [until,'bc.test.a1i.1.p',succ,0], 
                     true,s(until,'bc.test.a1i.1.p',succ,0,P1_CODE_250)) , 
                   s(if,If_Seed_search,B,5,S) , 
                   s('bind!',Bc_c46_test_c46_a1i_c46_1_c46_seed,S,S4))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_109:- do_metta_runtime( S11, 
                    ( get_value('&bc.test.a1i.1.seed',Bc_c46_test_c46_a1i_c46_1_c46_seed5)  ,
                      get_value('&seed-search',If_Seed_search6) , 
                      as_p1( '%Undefined%', 
                        'CodeAtom', 
                        CodeAtom, As_p1Undefined,B, 
                        [until,'bc.test.a1i.1.p',succ,0], 
                        true,s(until,'bc.test.a1i.1.p',succ,0,As_p1Undefined)) , 
                      s(if,If_Seed_search6,B,5,S10) , 
                      s('bind!',Bc_c46_test_c46_a1i_c46_1_c46_seed5,S10,S11)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_109)).


</span>top_call :-
    time(top_call_109).


/*
  ! (println! ("Random seed for a1i.1:" &bc.test.a1i.1.seed))
*/


top_call_110:- do_metta_runtime( Impl, 
                 ( get_value('&bc.test.a1i.1.seed',Bc_c46_test_c46_a1i_c46_1_c46_seed)  ,
                   u_assign( 14, 
                     [ "Random seed for a1i.1:", 
                       Bc_c46_test_c46_a1i_c46_1_c46_seed], 
                     Assign_Println_impl) , 
                   println_impl(Assign_Println_impl,Impl))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_110:- do_metta_runtime( Impl7, 
                    ( get_value('&bc.test.a1i.1.seed',Bc_c46_test_c46_a1i_c46_1_c46_seed4)  ,
                      u_assign( 14, 
                        [ "Random seed for a1i.1:", 
                          Bc_c46_test_c46_a1i_c46_1_c46_seed4], 
                        Assign_Println_impl5) , 
                      println_impl(Assign_Println_impl5,Impl7)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_110)).


</span>top_call :-
    time(top_call_110).


/*
;; Test
*/
/*
  ! (assertEqual 
      (set-rnd-seed-run0 &bc.test.a1i.1.seed bc.test.a1i.1) 
      (: 
        (ax-mp a1i.1 ax-1) 
        (→ 𝜓 𝜑)))
*/


top_call_111:- do_metta_runtime( Equal_enough_for_test, 
                   ((
                    (Src_71 =  
                       [ assertEqual, 
                         ['set-rnd-seed-run0','&bc.test.a1i.1.seed','bc.test.a1i.1'], 
                         [ :, 
                           ['ax-mp','a1i.1','ax-1'], 
                           [→,𝜓,𝜑]]]),
                    (loonit_assert_source_tf_empty( src(Src_71), 
                       FARL_141, 
                       FARL_142, 
                         ((
                          (findall_ne( FA_141, 
                               ((
                                (get_value('&bc.test.a1i.1.seed',Bc_c46_test_c46_a1i_c46_1_c46_seed)),
                                (true,s('set-rnd-seed-run0',Bc_c46_test_c46_a1i_c46_1_c46_seed,'bc.test.a1i.1',FA_141))  )), 
                             FARL_141)),
                          (findall_ne( FA_142, 
                             ( s('ax-mp','a1i.1','ax-1',Ax_1)  ,
                               s(→,𝜓,𝜑,S_𝜑) , 
                               s(:,Ax_1,S_𝜑,FA_142)), 
                             FARL_142))  )), 
                       equal_enough_for_test(FARL_141,FARL_142), 
                       Equal_enough_for_test))  ))).


<span class="ansi2"></span><span class="ansi2 ansi33"></span><span class="ansi2 ansi33"></span><span class="ansi2 ansi33">

( ==> ( 
   top_call_111:- do_metta_runtime( Equal_enough_for_test18, 
                      ((
                       (Src_List =  
                          [ assertEqual, 
                            ['set-rnd-seed-run0','&bc.test.a1i.1.seed','bc.test.a1i.1'], 
                            [ :, 
                              ['ax-mp','a1i.1','ax-1'], 
                              [→,𝜓,𝜑]]]),
                       (loonit_assert_source_tf_empty( src(Src_List), 
                          Equal_enough_for_test17, 
                          Test_Ne, 
                            ((
                             (findall_ne( Bc_c46_test_c46_a1i_c46_1, 
                                  ((
                                   (get_value('&bc.test.a1i.1.seed',Bc_c46_test_c46_a1i_c46_1_c46_seed13)),
                                   (  ((
                                       (true),
                                       (s( 'set-rnd-seed-run0', 
                                          Bc_c46_test_c46_a1i_c46_1_c46_seed13, 'bc.test.a1i.1',Bc_c46_test_c46_a1i_c46_1))  )))  )), 
                                Equal_enough_for_test17)),
                             (findall_ne( S, 
                                ( s('ax-mp','a1i.1','ax-1',Ax_115)  ,
                                  s(→,𝜓,𝜑,S_𝜑16) , 
                                  s(:,Ax_115,S_𝜑16,S)), 
                                Test_Ne))  )), 
                          equal_enough_for_test(Equal_enough_for_test17,Test_Ne), 
                          Equal_enough_for_test18))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_111)).


</span>top_call :-
    time(top_call_111).


/*
;; NEXT
*/
/*
;; ;; Run the backward chainer once unconstrained
;; (: bc.test.any (-> $a))
;; (= (bc.test.any)
;;    (bc &rnd-ctl Nil Nil (fromNumber 2) (: $prf $thrm)))
*/
/*
;; ;; Run the backward chainer with a given random seed and output the
;; ;; incremented random seed
;; (: bc.test.any.next (-> Number Number))
;; (= (bc.test.any.next $n)
;;    (let $_ (collapse (set-rnd-seed-run0 $n bc.test.any))
;;      (succ $n)))
*/
/*
;; ;; Run the backward chainer N times unconstrained
;; !(until (curried-equal-to 100) bc.test.any.next 0)
*/
/*
;; ;; Output PLN space
;; ! "&pln-kb:"
;; !(get-atoms &pln-kb)
*/
/*
;;;;;;;;;;;;;;;;;;;;;;
;; Test PLN Control ;;
;;;;;;;;;;;;;;;;;;;;;;
*/
/*
;; ;; The following is obtained from running the code above and can be uncommented to avoid rerunning that code.
;; !(add-reduct-nodup &pln-kb (: inst-1 (≞ (𝛩 [PC] [ax-3] ([→] ([→] ([¬] [𝜑]) ([¬] [𝜓])) ([→] [𝜓] [𝜑]))) (PLN.MkSTV 1 1))))
;; !(add-reduct-nodup &pln-kb (: inst-2 (≞ (𝛩 (Cons ([:] [mp2.1] [𝜑]) (Cons ([:] [mp2.2] [𝜓]) (Cons ([:] [mp2.3] ([→] [𝜑] ([→] [𝜓] [𝜒]))) [PC]))) [mp2.1] [𝜑]) (PLN.MkSTV 1 1))))
;; !(add-reduct-nodup &pln-kb (: inst-3 (≞ (𝛩 (Cons ([:] [mp2.1] [𝜑]) (Cons ([:] [mp2.2] [𝜓]) (Cons ([:] [mp2.3] ([→] [𝜑] ([→] [𝜓] [𝜒]))) [PC]))) [mp2.3] ([→] [𝜑] ([→] [𝜓] [𝜒]))) (PLN.MkSTV 1 1))))
;; !(add-reduct-nodup &pln-kb (: inst-4 (≞ (𝛩 (Cons ([:] [mp2.1] [𝜑]) (Cons ([:] [mp2.2] [𝜓]) (Cons ([:] [mp2.3] ([→] [𝜑] ([→] [𝜓] [𝜒]))) [PC]))) [mp2.2] [𝜓]) (PLN.MkSTV 1 1))))
;; !(add-reduct-nodup &pln-kb (: inst-5 (≞ (𝛩 (Cons ([:] [mp2.1] [𝜑]) (Cons ([:] [mp2.2] [𝜓]) (Cons ([:] [mp2.3] ([→] [𝜑] ([→] [𝜓] [𝜒]))) [PC]))) ([ax-mp] [mp2.1] [mp2.3]) ([→] [𝜓] [𝜒])) (PLN.MkSTV 1 1))))
;; !(add-reduct-nodup &pln-kb (: inst-6 (≞ (𝛩 (Cons ([:] [mp2.1] [𝜑]) (Cons ([:] [mp2.2] [𝜓]) (Cons ([:] [mp2.3] ([→] [𝜑] ([→] [𝜓] [𝜒]))) [PC]))) ([ax-mp] [mp2.2] ([ax-mp] [mp2.1] [mp2.3])) [𝜒]) (PLN.MkSTV 1 1))))
;; !(add-reduct-nodup &pln-kb (: inst-7 (≞ (𝛩 (Cons ([:] [mp2b.1] [𝜑]) (Cons ([:] [mp2b.2] ([→] [𝜑] [𝜓])) (Cons ([:] [mp2b.3] ([→] [𝜓] [𝜒])) [PC]))) [mp2b.1] [𝜑]) (PLN.MkSTV 1 1))))
;; !(add-reduct-nodup &pln-kb (: inst-8 (≞ (𝛩 (Cons ([:] [mp2b.1] [𝜑]) (Cons ([:] [mp2b.2] ([→] [𝜑] [𝜓])) (Cons ([:] [mp2b.3] ([→] [𝜓] [𝜒])) [PC]))) [mp2b.3] ([→] [𝜓] [𝜒])) (PLN.MkSTV 1 1))))
;; !(add-reduct-nodup &pln-kb (: inst-9 (≞ (𝛩 (Cons ([:] [mp2b.1] [𝜑]) (Cons ([:] [mp2b.2] ([→] [𝜑] [𝜓])) (Cons ([:] [mp2b.3] ([→] [𝜓] [𝜒])) [PC]))) [mp2b.2] ([→] [𝜑] [𝜓])) (PLN.MkSTV 1 1))))
;; !(add-reduct-nodup &pln-kb (: inst-a (≞ (𝛩 (Cons ([:] [mp2b.1] [𝜑]) (Cons ([:] [mp2b.2] ([→] [𝜑] [𝜓])) (Cons ([:] [mp2b.3] ([→] [𝜓] [𝜒])) [PC]))) ([ax-mp] [mp2b.1] [mp2b.2]) [𝜓]) (PLN.MkSTV 1 1))))
;; !(add-reduct-nodup &pln-kb (: inst-b (≞ (𝛩 (Cons ([:] [mp2b.1] [𝜑]) (Cons ([:] [mp2b.2] ([→] [𝜑] [𝜓])) (Cons ([:] [mp2b.3] ([→] [𝜓] [𝜒])) [PC]))) ([ax-mp] ([ax-mp] [mp2b.1] [mp2b.2]) [mp2b.3]) [𝜒]) (PLN.MkSTV 1 1))))
;; !(add-reduct-nodup &pln-kb (: inst-c (≞ (𝛩 (Cons ([:] [a1i.1] [𝜑]) [PC]) [a1i.1] [𝜑]) (PLN.MkSTV 1 1))))
;; !(add-reduct-nodup &pln-kb (: inst-d (≞ (𝛩 (Cons ([:] [a1i.1] [𝜑]) [PC]) [ax-1] ([→] [𝜑] ([→] [𝜓] [𝜑]))) (PLN.MkSTV 1 1))))
;; !(add-reduct-nodup &pln-kb (: inst-e (≞ (𝛩 (Cons ([:] [a1i.1] [𝜑]) [PC]) ([ax-mp] [a1i.1] [ax-1]) ([→] [𝜓] [𝜑])) (PLN.MkSTV 1 1))))
;; ;; !(add-reduct-nodup &pln-kb (≞ (∃ (s z) (∃ z (𝛩 (Cons ([:] [mp2.1] [𝜑]) (Cons ([:] [mp2.2] [𝜓]) (Cons ([:] [mp2.3] ([→] [𝜑] ([→] [𝜓] [𝜒]))) [PC]))) [ax-1] ([→] z ([→] (s z) z))))) (PLN.MkSTV 1 1)))
;; ;; !(add-reduct-nodup &pln-kb (≞ (∃ (s z) (∃ z (𝛩 (Cons ([:] [mp2b.1] [𝜑]) (Cons ([:] [mp2b.2] ([→] [𝜑] [𝜓])) (Cons ([:] [mp2b.3] ([→] [𝜓] [𝜒])) [PC]))) [ax-1] ([→] z ([→] (s z) z))))) (PLN.MkSTV 1 1)))
;; ;; !(add-reduct-nodup &pln-kb (≞ (∃ z (𝛩 (Cons ([:] [mp2b.1] [𝜑]) (Cons ([:] [mp2b.2] ([→] [𝜑] [𝜓])) (Cons ([:] [mp2b.3] ([→] [𝜓] [𝜒])) [PC]))) [ax-1] ([→] ([→] [𝜑] [𝜓]) ([→] z ([→] [𝜑] [𝜓]))))) (PLN.MkSTV 1 1)))
;; ;; !(add-reduct-nodup &pln-kb (≞ (∃ z (𝛩 (Cons ([:] [mp2b.1] [𝜑]) (Cons ([:] [mp2b.2] ([→] [𝜑] [𝜓])) (Cons ([:] [mp2b.3] ([→] [𝜓] [𝜒])) [PC]))) ([ax-mp] [mp2b.2] [ax-1]) ([→] z ([→] [𝜑] [𝜓])))) (PLN.MkSTV 1 1)))
*/
/*
;; In this series of tests we rerun the same tests as above but PLN is
;; allowed to reason about the viability of each branch.
*/
/*
;; Define PLN estimator, an estimator parameterized by a PLN knowledge
;; base about 𝛩, and a maximum depth of chaining for PLN reasoning.
*/
/*
  (: pln-estimate 
    (-> $a Nat 
      (-> 
        (List $b) 
        (List $b) Nat $b Number)))
*/


mc(iz,_pln_xx_estimate1,__xx__x62x___a_Nat___xx__x62x__List__b_List__b_Nat__b_Number1) :- 
  eval_and_unify(_pln_xx_estimate1,'pln-estimate') , 
  eval_and_unify( __xx__x62x___a_Nat___xx__x62x__List__b_List__b_Nat__b_Number1, [
    ->, _,'Nat', 
    [ ->, 
      ['List',_b], 
      ['List',_b], 'Nat',_b,'Number']]).


/*
; Estimate
*/
/*
  (= ((pln-estimate $pln_xx_kb $pln_xx_depth) $env $ctx $depth $query)  
    (let* 
      ( ($pln_xx_stm (toPLN (toTheory $env) $ctx $depth $query)) 
        ($pln_xx_jdm (: $prf (≞ $pln_xx_stm (PLN.MkSTV $s $c)))) 
        ($results (collapse (pln-bc $pln_xx_kb $pln_xx_depth $pln_xx_jdm))) 
        ($lst (List.fromExpression $results)) 
        ( (: $max_xx_prf $max_xx_stm) (List.maxElementWith lt_by_conf $lst)) 
        ($tv (PLN.tv $max_xx_stm))) 
      (thompson-sample $tv)))
*/


mc( ['pln-estimate',_pln_xx_kb,_pln_xx_depth], 
  _env14, _ctx14,_depth15,_query7, 
  RetVal768) :- 
  ensure_evaled('%Undefined%',_env14,_env) , 
  ensure_evaled('%Undefined%',_ctx14,_ctx) , 
  ensure_evaled('%Undefined%',_depth15,_depth) , 
  ensure_evaled('%Undefined%',_query7,_query) , 
  s(toTheory,_env,ToPLN) , 
  s(toPLN,ToPLN,_ctx,_depth,_query,_pln_xx_stm) , 
  s('PLN.MkSTV',_,_,S) , 
  s(≞,_pln_xx_stm,S,S15) , 
  s(:,_,S15,_pln_xx_jdm) , 
  findall_ne( S17, 
    true,s('pln-bc',_pln_xx_kb,_pln_xx_depth,_pln_xx_jdm,S17), 
    _results) , 
  s('List.fromExpression',_results,_lst) , 
  s('List.maxElementWith',lt_by_conf,_lst,S19) , 
  unify_with_occurs_check(S19,[:,_,_max_xx_stm]) , 
  s('PLN.tv',_max_xx_stm,_tv) , 
  s('thompson-sample',_tv,RetVal768).


/*
;)
*/
/*
;; Define control with PLN estimator
*/
/*
  ! (bind! &pln-ctl-depth 
      (fromNumber 5))
*/


top_call_112:- do_metta_runtime( S2, 
                 ( get_value('&pln-ctl-depth',Pln_ctl_depth)  ,
                   s(fromNumber,5,S) , 
                   s('bind!',Pln_ctl_depth,S,S2))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_112:- do_metta_runtime( S5, 
                    ( get_value('&pln-ctl-depth',Pln_ctl_depth3)  ,
                      s(fromNumber,5,S4) , 
                      s('bind!',Pln_ctl_depth3,S4,S5)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_112)).


</span>top_call :-
    time(top_call_112).


/*
  ! (bind! &pln-ctl 
      (MkControl &pln-kb 
        (pln-estimate &pln-kb &pln-ctl-depth)))
*/


top_call_113:- do_metta_runtime( S9, 
                 ( get_value('&pln-ctl',Bind_Pln_ctl)  ,
                   get_value('&pln-kb',Control_Pln_kb) , 
                   get_value('&pln-kb',Pln_estimate_Pln_kb2) , 
                   get_value('&pln-ctl-depth',Pln_ctl_depth) , 
                   s('pln-estimate',Pln_estimate_Pln_kb2,Pln_ctl_depth,S) , 
                   s('MkControl',Control_Pln_kb,S,S8) , 
                   s('bind!',Bind_Pln_ctl,S8,S9))).


<span class="ansi1"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36"></span><span class="ansi1 ansi36">

( ==> ( 
   top_call_113:- do_metta_runtime( S19, 
                    ( get_value('&pln-ctl',Bind_Pln_ctl10)  ,
                      get_value('&pln-kb',Control_Pln_kb11) , 
                      get_value('&pln-kb',Pln_estimate_Pln_kb12) , 
                      get_value('&pln-ctl-depth',Pln_ctl_depth13) , 
                      s('pln-estimate',Pln_estimate_Pln_kb12,Pln_ctl_depth13,S16) , 
                      s('MkControl',Control_Pln_kb11,S16,S18) , 
                      s('bind!',Bind_Pln_ctl10,S18,S19)))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_113)).


</span>top_call :-
    time(top_call_113).


/*
;; Test ax-3
*/
/*
  ! (assertEqual 
      (bc &pln-ctl Nil Nil 
        (fromNumber 0) 
        (: $prf 
          (→ 
            (→ 
              (¬ 𝜑) 
              (¬ 𝜓)) 
            (→ 𝜓 𝜑)))) 
      (: ax-3 
        (→ 
          (→ 
            (¬ 𝜑) 
            (¬ 𝜓)) 
          (→ 𝜓 𝜑))))
*/


top_call_114:- do_metta_runtime( Equal_enough_for_test, 
                   ((
                    (Src_72 =  
                       [ assertEqual, 
                         [ bc, '&pln-ctl','Nil','Nil', 
                           [fromNumber,0], 
                           [ :, 
                             _prf, 
                             [ →, 
                               [ →, 
                                 [¬,𝜑], 
                                 [¬,𝜓]], 
                               [→,𝜓,𝜑]]]], 
                         [ :, 
                           'ax-3', 
                           [ →, 
                             [ →, 
                               [¬,𝜑], 
                               [¬,𝜓]], 
                             [→,𝜓,𝜑]]]]),
                    (loonit_assert_source_tf_empty( src(Src_72), 
                       FARL_143, 
                       FARL_144, 
                         ((
                          (findall_ne( FA_143, 
                             ( get_value('&pln-ctl',Bc_Pln_ctl)  ,
                               s(fromNumber,0,Nil) , 
                               s(¬,𝜑,S_𝜑) , 
                               s(¬,𝜓,S_𝜓) , 
                               s(→,S_𝜑,S_𝜓,S21) , 
                               s(→,𝜓,𝜑,S_𝜑4) , 
                               s(→,S21,S_𝜑4,S) , 
                               s(:,_prf,S,Nil9) , 
                               s(bc,Bc_Pln_ctl,'Nil','Nil',Nil,Nil9,FA_143)), 
                             FARL_143)),
                          (findall_ne( FA_144, 
                             ( s(¬,𝜑,S_𝜑11)  ,
                               s(¬,𝜓,S_𝜓12) , 
                               s(→,S_𝜑11,S_𝜓12,S26) , 
                               s(→,𝜓,𝜑,S_𝜑13) , 
                               s(→,S26,S_𝜑13,Ax_3) , 
                               s(:,'ax-3',Ax_3,FA_144)), 
                             FARL_144))  )), 
                       equal_enough_for_test(FARL_143,FARL_144), 
                       Equal_enough_for_test))  ))).


<span class="ansi37"></span><span class="ansi37 ansi40"></span><span class="ansi37 ansi40">

( ==> ( 
   top_call_114:- do_metta_runtime( Equal_enough_for_test45, 
                      ((
                       (Src_List =  
                          [ assertEqual, 
                            [ bc, '&pln-ctl','Nil','Nil', 
                              [fromNumber,0], 
                              [ :, 
                                Kw, 
                                [ →, 
                                  [ →, 
                                    [¬,𝜑], 
                                    [¬,𝜓]], 
                                  [→,𝜓,𝜑]]]], 
                            [ :, 
                              'ax-3', 
                              [ →, 
                                [ →, 
                                  [¬,𝜑], 
                                  [¬,𝜓]], 
                                [→,𝜓,𝜑]]]]),
                       (loonit_assert_source_tf_empty( src(Src_List), 
                          Equal_enough_for_test44, 
                          Test_Ne, 
                            ((
                             (findall_ne( S51, 
                                ( get_value('&pln-ctl',Bc_Pln_ctl31)  ,
                                  s(fromNumber,0,Nil38) , 
                                  s(¬,𝜑,S_𝜑32) , 
                                  s(¬,𝜓,S_𝜓33) , 
                                  s(→,S_𝜑32,S_𝜓33,S49) , 
                                  s(→,𝜓,𝜑,S_𝜑34) , 
                                  s(→,S49,S_𝜑34,S36) , 
                                  s(:,Kw,S36,Nil39) , 
                                  s(bc,Bc_Pln_ctl31,'Nil','Nil',Nil38,Nil39,S51)), 
                                Equal_enough_for_test44)),
                             (findall_ne( S56, 
                                ( s(¬,𝜑,S_𝜑40)  ,
                                  s(¬,𝜓,S_𝜓41) , 
                                  s(→,S_𝜑40,S_𝜓41,S54) , 
                                  s(→,𝜓,𝜑,S_𝜑42) , 
                                  s(→,S54,S_𝜑42,Ax_343) , 
                                  s(:,'ax-3',Ax_343,S56)), 
                                Test_Ne))  )), 
                          equal_enough_for_test(Equal_enough_for_test44,Test_Ne), 
                          Equal_enough_for_test45))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_114)).


</span>top_call :-
    time(top_call_114).


/*
;; Test sub-mp2
*/
/*
  ! (assertEqual 
      (bc &pln-ctl 
        (Cons 
          (: mp2.1 𝜑) 
          (Cons 
            (: mp2.2 𝜓) 
            (Cons 
              (: mp2.3 
                (→ 𝜑 
                  (→ 𝜓 𝜒))) Nil))) Nil 
        (fromNumber 1) 
        (: $prf 
          (→ 𝜓 𝜒))) 
      (: 
        (ax-mp mp2.1 mp2.3) 
        (→ 𝜓 𝜒)))
*/


top_call_115:- do_metta_runtime( Equal_enough_for_test, 
                   ((
                    (Src_73 =  
                       [ assertEqual, 
                         [ bc, 
                           '&pln-ctl', 
                           [ 'Cons', 
                             [:,'mp2.1',𝜑], 
                             [ 'Cons', 
                               [:,'mp2.2',𝜓], 
                               [ 'Cons', 
                                 [ :, 
                                   'mp2.3', 
                                   [ →, 
                                     𝜑, 
                                     [→,𝜓,𝜒]]], 
                                 'Nil']]], 
                           'Nil', 
                           [fromNumber,1], 
                           [ :, 
                             _prf, 
                             [→,𝜓,𝜒]]], 
                         [ :, 
                           ['ax-mp','mp2.1','mp2.3'], 
                           [→,𝜓,𝜒]]]),
                    (loonit_assert_source_tf_empty( src(Src_73), 
                       FARL_145, 
                       FARL_146, 
                         ((
                          (findall_ne( FA_145, 
                             ( get_value('&pln-ctl',Bc_Pln_ctl)  ,
                               s(:,'mp2.1',𝜑,Cons_𝜑) , 
                               s(:,'mp2.2',𝜓,Cons_𝜓) , 
                               s(→,𝜓,𝜒,S_𝜑_𝜒) , 
                               s(→,𝜑,S_𝜑_𝜒,Mp2_c46_3) , 
                               s(:,'mp2.3',Mp2_c46_3,Cons) , 
                               s('Cons',Cons,'Nil',Nil) , 
                               s('Cons',Cons_𝜓,Nil,S) , 
                               s('Cons',Cons_𝜑,S,Nil15) , 
                               s(fromNumber,1,S17) , 
                               s(→,𝜓,𝜒,S_𝜒12) , 
                               s(:,_prf,S_𝜒12,S16) , 
                               s(bc,Bc_Pln_ctl,Nil15,'Nil',S17,S16,FA_145)), 
                             FARL_145)),
                          (findall_ne( FA_146, 
                             ( s('ax-mp','mp2.1','mp2.3',Mp2_c46_319)  ,
                               s(→,𝜓,𝜒,S_𝜒20) , 
                               s(:,Mp2_c46_319,S_𝜒20,FA_146)), 
                             FARL_146))  )), 
                       equal_enough_for_test(FARL_145,FARL_146), 
                       Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi37"></span><span class="ansi1 ansi37 ansi40"></span><span class="ansi1 ansi37 ansi40">

( ==> ( 
   top_call_115:- do_metta_runtime( Equal_enough_for_test52, 
                      ((
                       (Src_List =  
                          [ assertEqual, 
                            [ bc, 
                              '&pln-ctl', 
                              [ 'Cons', 
                                [:,'mp2.1',𝜑], 
                                [ 'Cons', 
                                  [:,'mp2.2',𝜓], 
                                  [ 'Cons', 
                                    [ :, 
                                      'mp2.3', 
                                      [ →, 
                                        𝜑, 
                                        [→,𝜓,𝜒]]], 
                                    'Nil']]], 
                              'Nil', 
                              [fromNumber,1], 
                              [ :, 
                                Kw, 
                                [→,𝜓,𝜒]]], 
                            [ :, 
                              ['ax-mp','mp2.1','mp2.3'], 
                              [→,𝜓,𝜒]]]),
                       (loonit_assert_source_tf_empty( src(Src_List), 
                          Equal_enough_for_test51, 
                          Test_Ne, 
                            ((
                             (findall_ne( S56, 
                                ( get_value('&pln-ctl',Bc_Pln_ctl32)  ,
                                  s(:,'mp2.1',𝜑,Cons_𝜑33) , 
                                  s(:,'mp2.2',𝜓,Cons_𝜓34) , 
                                  s(→,𝜓,𝜒,S_𝜑_𝜒35) , 
                                  s(→,𝜑,S_𝜑_𝜒35,Mp2_c46_337) , 
                                  s(:,'mp2.3',Mp2_c46_337,Cons38) , 
                                  s('Cons',Cons38,'Nil',Nil39) , 
                                  s('Cons',Cons_𝜓34,Nil39,S42) , 
                                  s('Cons',Cons_𝜑33,S42,Nil46) , 
                                  s(fromNumber,1,S48) , 
                                  s(→,𝜓,𝜒,S_𝜒43) , 
                                  s(:,Kw,S_𝜒43,S47) , 
                                  s(bc,Bc_Pln_ctl32,Nil46,'Nil',S48,S47,S56)), 
                                Equal_enough_for_test51)),
                             (findall_ne( S58, 
                                ( s('ax-mp','mp2.1','mp2.3',Mp2_c46_349)  ,
                                  s(→,𝜓,𝜒,S_𝜒50) , 
                                  s(:,Mp2_c46_349,S_𝜒50,S58)), 
                                Test_Ne))  )), 
                          equal_enough_for_test(Equal_enough_for_test51,Test_Ne), 
                          Equal_enough_for_test52))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_115)).


</span>top_call :-
    time(top_call_115).


/*
;; Test mp2
*/
/*
  ! (assertEqual 
      (bc &pln-ctl 
        (Cons 
          (: mp2.1 𝜑) 
          (Cons 
            (: mp2.2 𝜓) 
            (Cons 
              (: mp2.3 
                (→ 𝜑 
                  (→ 𝜓 𝜒))) Nil))) Nil 
        (fromNumber 2) 
        (: $prf 𝜒)) 
      (: 
        (ax-mp mp2.2 
          (ax-mp mp2.1 mp2.3)) 𝜒))
*/


top_call_116:- do_metta_runtime( Equal_enough_for_test, 
                   ((
                    (Src_74 =  
                       [ assertEqual, 
                         [ bc, 
                           '&pln-ctl', 
                           [ 'Cons', 
                             [:,'mp2.1',𝜑], 
                             [ 'Cons', 
                               [:,'mp2.2',𝜓], 
                               [ 'Cons', 
                                 [ :, 
                                   'mp2.3', 
                                   [ →, 
                                     𝜑, 
                                     [→,𝜓,𝜒]]], 
                                 'Nil']]], 
                           'Nil', 
                           [fromNumber,2], 
                           [:,_prf,𝜒]], 
                         [ :, 
                           [ 'ax-mp', 
                             'mp2.2', 
                             ['ax-mp','mp2.1','mp2.3']], 
                           𝜒]]),
                    (loonit_assert_source_tf_empty( src(Src_74), 
                       FARL_147, 
                       FARL_148, 
                         ((
                          (findall_ne( FA_147, 
                             ( get_value('&pln-ctl',Bc_Pln_ctl)  ,
                               s(:,'mp2.1',𝜑,Cons_𝜑) , 
                               s(:,'mp2.2',𝜓,Cons_𝜓) , 
                               s(→,𝜓,𝜒,S_𝜑_𝜒) , 
                               s(→,𝜑,S_𝜑_𝜒,Mp2_c46_3) , 
                               s(:,'mp2.3',Mp2_c46_3,Cons) , 
                               s('Cons',Cons,'Nil',Nil) , 
                               s('Cons',Cons_𝜓,Nil,S) , 
                               s('Cons',Cons_𝜑,S,Nil15) , 
                               s(fromNumber,2,S16) , 
                               s(:,_prf,𝜒,S_𝜒13) , 
                               s(bc,Bc_Pln_ctl,Nil15,'Nil',S16,S_𝜒13,FA_147)), 
                             FARL_147)),
                          (findall_ne( FA_148, 
                             ( s('ax-mp','mp2.1','mp2.3',Mp2_c46_318)  ,
                               s('ax-mp','mp2.2',Mp2_c46_318,Kw) , 
                               s(:,Kw,𝜒,FA_148)), 
                             FARL_148))  )), 
                       equal_enough_for_test(FARL_147,FARL_148), 
                       Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi37"></span><span class="ansi1 ansi37 ansi40"></span><span class="ansi1 ansi37 ansi40">

( ==> ( 
   top_call_116:- do_metta_runtime( Equal_enough_for_test49, 
                      ((
                       (Src_List =  
                          [ assertEqual, 
                            [ bc, 
                              '&pln-ctl', 
                              [ 'Cons', 
                                [:,'mp2.1',𝜑], 
                                [ 'Cons', 
                                  [:,'mp2.2',𝜓], 
                                  [ 'Cons', 
                                    [ :, 
                                      'mp2.3', 
                                      [ →, 
                                        𝜑, 
                                        [→,𝜓,𝜒]]], 
                                    'Nil']]], 
                              'Nil', 
                              [fromNumber,2], 
                              [:,Kw40,𝜒]], 
                            [ :, 
                              [ 'ax-mp', 
                                'mp2.2', 
                                ['ax-mp','mp2.1','mp2.3']], 
                              𝜒]]),
                       (loonit_assert_source_tf_empty( src(Src_List), 
                          Equal_enough_for_test48, 
                          Test_Ne, 
                            ((
                             (findall_ne( S53, 
                                ( get_value('&pln-ctl',Bc_Pln_ctl29)  ,
                                  s(:,'mp2.1',𝜑,Cons_𝜑30) , 
                                  s(:,'mp2.2',𝜓,Cons_𝜓31) , 
                                  s(→,𝜓,𝜒,S_𝜑_𝜒32) , 
                                  s(→,𝜑,S_𝜑_𝜒32,Mp2_c46_334) , 
                                  s(:,'mp2.3',Mp2_c46_334,Cons35) , 
                                  s('Cons',Cons35,'Nil',Nil36) , 
                                  s('Cons',Cons_𝜓31,Nil36,S39) , 
                                  s('Cons',Cons_𝜑30,S39,Nil43) , 
                                  s(fromNumber,2,S44) , 
                                  s(:,Kw40,𝜒,S_𝜒41) , 
                                  s(bc,Bc_Pln_ctl29,Nil43,'Nil',S44,S_𝜒41,S53)), 
                                Equal_enough_for_test48)),
                             (findall_ne( S_𝜒47, 
                                ( s('ax-mp','mp2.1','mp2.3',Mp2_c46_345)  ,
                                  s('ax-mp','mp2.2',Mp2_c46_345,Kw46) , 
                                  s(:,Kw46,𝜒,S_𝜒47)), 
                                Test_Ne))  )), 
                          equal_enough_for_test(Equal_enough_for_test48,Test_Ne), 
                          Equal_enough_for_test49))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_116)).


</span>top_call :-
    time(top_call_116).


/*
;; Test mp2b
*/
/*
  ! (assertEqual 
      (bc &pln-ctl 
        (Cons 
          (: mp2b.1 𝜑) 
          (Cons 
            (: mp2b.2 
              (→ 𝜑 𝜓)) 
            (Cons 
              (: mp2b.3 
                (→ 𝜓 𝜒)) Nil))) Nil 
        (fromNumber 2) 
        (: $prf 𝜒)) 
      (: 
        (ax-mp 
          (ax-mp mp2b.1 mp2b.2) mp2b.3) 𝜒))
*/


top_call_117:- do_metta_runtime( Equal_enough_for_test, 
                   ((
                    (Src_75 =  
                       [ assertEqual, 
                         [ bc, 
                           '&pln-ctl', 
                           [ 'Cons', 
                             [:,'mp2b.1',𝜑], 
                             [ 'Cons', 
                               [ :, 
                                 'mp2b.2', 
                                 [→,𝜑,𝜓]], 
                               [ 'Cons', 
                                 [ :, 
                                   'mp2b.3', 
                                   [→,𝜓,𝜒]], 
                                 'Nil']]], 
                           'Nil', 
                           [fromNumber,2], 
                           [:,_prf,𝜒]], 
                         [ :, 
                           [ 'ax-mp', 
                             ['ax-mp','mp2b.1','mp2b.2'], 
                             'mp2b.3'], 
                           𝜒]]),
                    (loonit_assert_source_tf_empty( src(Src_75), 
                       FARL_149, 
                       FARL_150, 
                         ((
                          (findall_ne( FA_149, 
                             ( get_value('&pln-ctl',Bc_Pln_ctl)  ,
                               s(:,'mp2b.1',𝜑,Cons_𝜑) , 
                               s(→,𝜑,𝜓,Mp2b_c46_2_𝜓) , 
                               s(:,'mp2b.2',Mp2b_c46_2_𝜓,Cons9) , 
                               s(→,𝜓,𝜒,Mp2b_c46_3_𝜒) , 
                               s(:,'mp2b.3',Mp2b_c46_3_𝜒,Cons) , 
                               s('Cons',Cons,'Nil',Nil) , 
                               s('Cons',Cons9,Nil,S) , 
                               s('Cons',Cons_𝜑,S,Nil15) , 
                               s(fromNumber,2,S16) , 
                               s(:,_prf,𝜒,S_𝜒13) , 
                               s(bc,Bc_Pln_ctl,Nil15,'Nil',S16,S_𝜒13,FA_149)), 
                             FARL_149)),
                          (findall_ne( FA_150, 
                             ( s('ax-mp','mp2b.1','mp2b.2',Mp2b_c46_2)  ,
                               s('ax-mp',Mp2b_c46_2,'mp2b.3',Mp2b_c46_3) , 
                               s(:,Mp2b_c46_3,𝜒,FA_150)), 
                             FARL_150))  )), 
                       equal_enough_for_test(FARL_149,FARL_150), 
                       Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi37"></span><span class="ansi1 ansi37 ansi40"></span><span class="ansi1 ansi37 ansi40">

( ==> ( 
   top_call_117:- do_metta_runtime( Equal_enough_for_test48, 
                      ((
                       (Src_List =  
                          [ assertEqual, 
                            [ bc, 
                              '&pln-ctl', 
                              [ 'Cons', 
                                [:,'mp2b.1',𝜑], 
                                [ 'Cons', 
                                  [ :, 
                                    'mp2b.2', 
                                    [→,𝜑,𝜓]], 
                                  [ 'Cons', 
                                    [ :, 
                                      'mp2b.3', 
                                      [→,𝜓,𝜒]], 
                                    'Nil']]], 
                              'Nil', 
                              [fromNumber,2], 
                              [:,Kw,𝜒]], 
                            [ :, 
                              [ 'ax-mp', 
                                ['ax-mp','mp2b.1','mp2b.2'], 
                                'mp2b.3'], 
                              𝜒]]),
                       (loonit_assert_source_tf_empty( src(Src_List), 
                          Equal_enough_for_test47, 
                          Test_Ne, 
                            ((
                             (findall_ne( S51, 
                                ( get_value('&pln-ctl',Bc_Pln_ctl28)  ,
                                  s(:,'mp2b.1',𝜑,Cons_𝜑29) , 
                                  s(→,𝜑,𝜓,Mp2b_c46_2_𝜓30) , 
                                  s(:,'mp2b.2',Mp2b_c46_2_𝜓30,Cons36) , 
                                  s(→,𝜓,𝜒,Mp2b_c46_3_𝜒32) , 
                                  s(:,'mp2b.3',Mp2b_c46_3_𝜒32,Cons34) , 
                                  s('Cons',Cons34,'Nil',Nil35) , 
                                  s('Cons',Cons36,Nil35,S38) , 
                                  s('Cons',Cons_𝜑29,S38,Nil42) , 
                                  s(fromNumber,2,S43) , 
                                  s(:,Kw,𝜒,S_𝜒40) , 
                                  s(bc,Bc_Pln_ctl28,Nil42,'Nil',S43,S_𝜒40,S51)), 
                                Equal_enough_for_test47)),
                             (findall_ne( S_𝜒46, 
                                ( s('ax-mp','mp2b.1','mp2b.2',Mp2b_c46_244)  ,
                                  s('ax-mp',Mp2b_c46_244,'mp2b.3',Mp2b_c46_345) , 
                                  s(:,Mp2b_c46_345,𝜒,S_𝜒46)), 
                                Test_Ne))  )), 
                          equal_enough_for_test(Equal_enough_for_test47,Test_Ne), 
                          Equal_enough_for_test48))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_117)).


</span>top_call :-
    time(top_call_117).


/*
;; Test a1i.1
*/
/*
  ! (assertEqual 
      (bc &pln-ctl 
        (Cons 
          (: a1i.1 𝜑) Nil) Nil 
        (fromNumber 1) 
        (: $prf 
          (→ 𝜓 𝜑))) 
      (: 
        (ax-mp a1i.1 ax-1) 
        (→ 𝜓 𝜑)))
*/


top_call_118:- do_metta_runtime( Equal_enough_for_test, 
                   ((
                    (Src_76 =  
                       [ assertEqual, 
                         [ bc, 
                           '&pln-ctl', 
                           [ 'Cons', 
                             [:,'a1i.1',𝜑], 
                             'Nil'], 
                           'Nil', 
                           [fromNumber,1], 
                           [ :, 
                             _prf, 
                             [→,𝜓,𝜑]]], 
                         [ :, 
                           ['ax-mp','a1i.1','ax-1'], 
                           [→,𝜓,𝜑]]]),
                    (loonit_assert_source_tf_empty( src(Src_76), 
                       FARL_151, 
                       FARL_152, 
                         ((
                          (findall_ne( FA_151, 
                             ( get_value('&pln-ctl',Bc_Pln_ctl)  ,
                               s(:,'a1i.1',𝜑,Cons_𝜑) , 
                               s('Cons',Cons_𝜑,'Nil',Nil) , 
                               s(fromNumber,1,S9) , 
                               s(→,𝜓,𝜑,S_𝜑5) , 
                               s(:,_prf,S_𝜑5,S) , 
                               s(bc,Bc_Pln_ctl,Nil,'Nil',S9,S,FA_151)), 
                             FARL_151)),
                          (findall_ne( FA_152, 
                             ( s('ax-mp','a1i.1','ax-1',Ax_1)  ,
                               s(→,𝜓,𝜑,S_𝜑12) , 
                               s(:,Ax_1,S_𝜑12,FA_152)), 
                             FARL_152))  )), 
                       equal_enough_for_test(FARL_151,FARL_152), 
                       Equal_enough_for_test))  ))).


<span class="ansi1"></span><span class="ansi1 ansi37"></span><span class="ansi1 ansi37 ansi40"></span><span class="ansi1 ansi37 ansi40">

( ==> ( 
   top_call_118:- do_metta_runtime( Equal_enough_for_test35, 
                      ((
                       (Src_List =  
                          [ assertEqual, 
                            [ bc, 
                              '&pln-ctl', 
                              [ 'Cons', 
                                [:,'a1i.1',𝜑], 
                                'Nil'], 
                              'Nil', 
                              [fromNumber,1], 
                              [ :, 
                                Kw, 
                                [→,𝜓,𝜑]]], 
                            [ :, 
                              ['ax-mp','a1i.1','ax-1'], 
                              [→,𝜓,𝜑]]]),
                       (loonit_assert_source_tf_empty( src(Src_List), 
                          Equal_enough_for_test34, 
                          Test_Ne, 
                            ((
                             (findall_ne( S38, 
                                ( get_value('&pln-ctl',Bc_Pln_ctl23)  ,
                                  s(:,'a1i.1',𝜑,Cons_𝜑24) , 
                                  s('Cons',Cons_𝜑24,'Nil',Nil26) , 
                                  s(fromNumber,1,S31) , 
                                  s(→,𝜓,𝜑,S_𝜑27) , 
                                  s(:,Kw,S_𝜑27,S30) , 
                                  s(bc,Bc_Pln_ctl23,Nil26,'Nil',S31,S30,S38)), 
                                Equal_enough_for_test34)),
                             (findall_ne( S40, 
                                ( s('ax-mp','a1i.1','ax-1',Ax_132)  ,
                                  s(→,𝜓,𝜑,S_𝜑33) , 
                                  s(:,Ax_132,S_𝜑33,S40)), 
                                Test_Ne))  )), 
                          equal_enough_for_test(Equal_enough_for_test34,Test_Ne), 
                          Equal_enough_for_test35))  )))) ).


</span>

<span class="ansi1"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93"></span><span class="ansi1 ansi93">

==> (top_call:-time(top_call_118)).


</span>top_call :-
    time(top_call_118).


/*
end_of_file
*/


end_of_file:-true,true.


<span class="ansi2"></span><span class="ansi2"></span><span class="ansi2"></span><span class="ansi2">%% Finished generating /home/deb12user/metta-wam/tests/QC-precommit/pln-inf-ctl.metta at 2025-07-01T19:37:38-07:00

</span><span class="ansi1"></span><span class="ansi1 ansi95"></span><span class="ansi1 ansi95"></span><span class="ansi1 ansi95">:- normal_IO.
</span><span class="ansi1"></span><span class="ansi1 ansi95"></span><span class="ansi1 ansi95"></span><span class="ansi1 ansi95">:- initialization(transpiled_main, program).
</span>
metta+>
metta+>^D
Script done on 2025-07-01 20:22:22-07:00 [COMMAND_EXIT_CODE="1"]

</pre>
</body>

</html>
